<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Azkaban REST API使用指南</title>
    <url>/Echo/2021/04/12/Azkaban-REST-API%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/</url>
    <content><![CDATA[<h2 id="API文档"><a href="#API文档" class="headerlink" title="API文档"></a>API文档</h2><p>通常，人们又一种无需使用Web UI即可与Azkaban进行交互的愿望。Azkaban有一些公开的ajax调用，可以通过curl或其他一些HTTP请求客户端进行访问。所有API调用都首先需要正确的身份验证。</p>
<h3 id="授权"><a href="#授权" class="headerlink" title="授权"></a>授权</h3><ul>
<li><strong>Method:</strong> POST</li>
<li><strong>Request URL:</strong> /?action=login</li>
<li><strong>Parameter Location:</strong> Request Query String</li>
</ul>
<p>该API可帮助验证用户身份并提供<code>session.id</code>响应。</p>
<p><code>session.id</code>返回后，直到会话终止，此ID均可用于在授予适当权限的情况下执行任何API请求。如果您注销，更改计算机，浏览器或位置，重新启动Azkaban或会话过期，则会话过期。默认会话超时为24小时（一天）。您可以重新登录会话是否已过期。对于同一用户，新会话将始终覆盖旧会话。</p>
<p><strong>重要的</strong> <code>session.id</code>是，几乎所有API调用都应提供（身份验证除外）。<code>session.id</code>可以简单地附加为请求参数之一，也可以通过cookie：设置 <code>azkaban.browser.session.id</code>。以下两个HTTP请求是等效的：</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># a) Provide session.id parameter directly</span></span><br><span class="line">curl -k --get --data <span class="string">&quot;session.id=bca1d75d-6bae-4163-a5b0-378a7d7b5a91&amp;ajax=fetchflowgraph&amp;project=azkaban-test-project&amp;flow=test&quot;</span> https://localhost:8443/manager</span><br><span class="line"></span><br><span class="line"><span class="comment"># b) Provide azkaban.browser.session.id cookie</span></span><br><span class="line">curl -k --get -b <span class="string">&quot;azkaban.browser.session.id=bca1d75d-6bae-4163-a5b0-378a7d7b5a91&quot;</span> --data <span class="string">&quot;ajax=fetchflowgraph&amp;project=azkaban-test-project&amp;flow=test&quot;</span> https://localhost:8443/manager</span><br></pre></td></tr></table></figure>

<p>请求参数</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>action=login</td>
<td>指示登录操作的固定参数。</td>
</tr>
<tr>
<td>username</td>
<td>Azkaban用户名。</td>
</tr>
<tr>
<td>password</td>
<td>对应的密码。</td>
</tr>
</tbody></table>
<p>返回数据</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>error</td>
<td>如果登录尝试失败，则返回错误消息。</td>
</tr>
<tr>
<td>session.id</td>
<td>如果登录尝试成功，则返回会话ID。</td>
</tr>
</tbody></table>
<p>通过curl进行的示例调用：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">curl -k -X POST --data &quot;action=login&amp;username=azkaban&amp;password=azkaban&quot; https://localhost:8443</span><br></pre></td></tr></table></figure>

<p>返回数据举例</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;status&quot;</span> : <span class="string">&quot;success&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;session.id&quot;</span> : <span class="string">&quot;c001aba5-a90f-4daf-8f11-62330d034c0a&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="创建项目"><a href="#创建项目" class="headerlink" title="创建项目"></a>创建项目</h3><p>用于创建新项目的ajax API。</p>
<p><strong>注意：</strong>在上传任何项目zip文件之前，应首先通过此API创建项目。</p>
<ul>
<li><strong>Method:</strong> POST</li>
<li><strong>Request URL:</strong> /manager?action=create</li>
<li><strong>Parameter Location:</strong> Request Query</li>
</ul>
<p>请求参数</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>session.id</td>
<td>用户会话ID。</td>
</tr>
<tr>
<td>action=create</td>
<td>指示创建项目动作的固定参数。</td>
</tr>
<tr>
<td>name</td>
<td>要上传的项目名称。</td>
</tr>
<tr>
<td>description</td>
<td>项目的描述。该字段不能为空。</td>
</tr>
</tbody></table>
<p>返回数据（如果请求成功）</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>status</td>
<td>创建尝试的状态。</td>
</tr>
<tr>
<td>path</td>
<td>重定向的URL路径</td>
</tr>
<tr>
<td>action</td>
<td>建议前端执行的操作。（这是为使用Azkaban前端javascript而设计的，外部用户可以忽略此字段。）</td>
</tr>
</tbody></table>
<p>返回数据（如果请求失败）</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>message</td>
<td>错误消息。</td>
</tr>
<tr>
<td>error</td>
<td>错误名称。</td>
</tr>
</tbody></table>
<p>返回数据样例</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;status&quot;</span>:<span class="string">&quot;success&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;path&quot;</span>:<span class="string">&quot;manager?project=aaaa&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;action&quot;</span>:<span class="string">&quot;redirect&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="删除项目"><a href="#删除项目" class="headerlink" title="删除项目"></a>删除项目</h3><p>用于删除现有项目的ajax API。</p>
<p><strong>注意：</strong>目前，删除操作完成后，将不会返回任何响应消息。</p>
<ul>
<li><strong>Method:</strong> GET</li>
<li><strong>Request URL:</strong> /manager?delete=true</li>
<li><strong>Parameter Location:</strong> Request Query</li>
</ul>
<p>请求参数</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>session.id</td>
<td>用户会话ID。</td>
</tr>
<tr>
<td>delete=true</td>
<td>指示删除项目操作的固定参数。</td>
</tr>
<tr>
<td>project</td>
<td>要删除的项目名称。</td>
</tr>
</tbody></table>
<p>返回数据：无</p>
<h3 id="上传项目Zip文件"><a href="#上传项目Zip文件" class="headerlink" title="上传项目Zip文件"></a>上传项目Zip文件</h3><p>ajax调用以上传项目zip文件。zip文件结构应遵循“<a href="https://azkaban.readthedocs.io/docs/2.5/#upload-projects">上传项目”中</a>所述的要求。</p>
<p><strong>注意：</strong>成功创建项目后，应调用此API</p>
<ul>
<li><strong>Method:</strong> POST</li>
<li><strong>Content-Type:</strong> multipart/mixed</li>
<li><strong>Request URL:</strong> /manager?ajax=upload</li>
<li><strong>Parameter Location:</strong> Request Body</li>
</ul>
<p>请求参数</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>session.id</td>
<td>用户会话ID。</td>
</tr>
<tr>
<td>ajax=upload</td>
<td>上传操作的固定参数。</td>
</tr>
<tr>
<td>project</td>
<td>要上传的项目名称。</td>
</tr>
<tr>
<td>file</td>
<td>项目zip文件。类型应设置为 <code>application/zip</code>或 <code>application/x-zip-compressed</code>。</td>
</tr>
</tbody></table>
<p>返回数据</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>error</td>
<td>如果上传尝试失败，将显示错误消息。</td>
</tr>
<tr>
<td>projectId</td>
<td>项目的ID</td>
</tr>
<tr>
<td>version</td>
<td>上传的版本号</td>
</tr>
</tbody></table>
<p>返回数据</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;error&quot;</span> : <span class="string">&quot;Installation Failed.\nError unzipping file.&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;projectId&quot;</span> : <span class="string">&quot;192&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;version&quot;</span> : <span class="string">&quot;1&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="获取项目流程"><a href="#获取项目流程" class="headerlink" title="获取项目流程"></a>获取项目流程</h3><p>给定项目名称后，此API调用将获取该项目的所有流ID。</p>
<ul>
<li><strong>Method:</strong> GET</li>
<li><strong>Request URL:</strong> /manager?ajax=fetchprojectflows</li>
<li><strong>Parameter Location:</strong> Request Query String</li>
</ul>
<p>请求参数</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>session.id</td>
<td>用户会话ID。</td>
</tr>
<tr>
<td>ajax=fetchprojectflows</td>
<td>指示fetchProjectFlows操作的固定参数。</td>
</tr>
<tr>
<td>project</td>
<td>要获取的项目名称。</td>
</tr>
</tbody></table>
<p>返回数据</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>project</td>
<td>项目名称。</td>
</tr>
<tr>
<td>projectId</td>
<td>项目的数字ID。</td>
</tr>
<tr>
<td>flows</td>
<td>流ID的列表。 <strong>值示例：</strong> [{“ flowId”：“ aaa”}，{“ flowId”：“ bbb”}]</td>
</tr>
</tbody></table>
<p>返回数据样例</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;project&quot;</span> : <span class="string">&quot;test-azkaban&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;projectId&quot;</span> : <span class="number">192</span>,</span><br><span class="line">  <span class="attr">&quot;flows&quot;</span> : [ &#123;</span><br><span class="line">    <span class="attr">&quot;flowId&quot;</span> : <span class="string">&quot;test&quot;</span></span><br><span class="line">  &#125;, &#123;</span><br><span class="line">    <span class="attr">&quot;flowId&quot;</span> : <span class="string">&quot;test2&quot;</span></span><br><span class="line">  &#125; ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="提取流程作业"><a href="#提取流程作业" class="headerlink" title="提取流程作业"></a>提取流程作业</h3><p>对于给定的项目和流ID，此API调用将获取属于该流的所有作业。它还返回那些作业的相应图形结构。</p>
<ul>
<li><strong>Method:</strong> GET</li>
<li><strong>Request URL:</strong> /manager?ajax=fetchflowgraph</li>
<li><strong>Parameter Location:</strong> Request Query String</li>
</ul>
<p>请求参数</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>session.id</td>
<td>用户会话ID。</td>
</tr>
<tr>
<td>ajax=fetchflowgraph</td>
<td>指示fetchProjectFlows操作的固定参数。</td>
</tr>
<tr>
<td>project</td>
<td>要获取的项目名称。</td>
</tr>
<tr>
<td>flow</td>
<td>要获取的项目ID。</td>
</tr>
</tbody></table>
<p>返回参数</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>project</td>
<td>项目名称。</td>
</tr>
<tr>
<td>projectId</td>
<td>项目的数字ID。</td>
</tr>
<tr>
<td>flow</td>
<td>流程ID已提取。</td>
</tr>
<tr>
<td>nodes</td>
<td>属于此流的作业节点列表。 <strong>结构：</strong> <strong>值的示例：</strong> [{“ id”：“ first_job”，“ type”：“ java”}，{“ id”：“ second_job”，“ type”：“ command”，“ in”：[“ first_job”]}]</td>
</tr>
</tbody></table>
<p>返回数据</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;project&quot;</span> : <span class="string">&quot;azkaban-test-project&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;nodes&quot;</span> : [ &#123;</span><br><span class="line">    <span class="attr">&quot;id&quot;</span> : <span class="string">&quot;test-final&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;type&quot;</span> : <span class="string">&quot;command&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;in&quot;</span> : [ <span class="string">&quot;test-job-3&quot;</span> ]</span><br><span class="line">  &#125;, &#123;</span><br><span class="line">    <span class="attr">&quot;id&quot;</span> : <span class="string">&quot;test-job-start&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;type&quot;</span> : <span class="string">&quot;java&quot;</span></span><br><span class="line">  &#125;, &#123;</span><br><span class="line">    <span class="attr">&quot;id&quot;</span> : <span class="string">&quot;test-job-3&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;type&quot;</span> : <span class="string">&quot;java&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;in&quot;</span> : [ <span class="string">&quot;test-job-2&quot;</span> ]</span><br><span class="line">  &#125;, &#123;</span><br><span class="line">    <span class="attr">&quot;id&quot;</span> : <span class="string">&quot;test-job-2&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;type&quot;</span> : <span class="string">&quot;java&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;in&quot;</span> : [ <span class="string">&quot;test-job-start&quot;</span> ]</span><br><span class="line">  &#125; ],</span><br><span class="line">  <span class="attr">&quot;flow&quot;</span> : <span class="string">&quot;test&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;projectId&quot;</span> : <span class="number">192</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="获取流的执行列表"><a href="#获取流的执行列表" class="headerlink" title="获取流的执行列表"></a>获取流的执行列表</h3><p>给定项目名称和特定流程，此API调用将提供相应执行的列表。这些执行按后代提交时间顺序排序。另外，还希望参数指定开始索引和列表的长度。这最初用于处理分页。</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>session.id</td>
<td>用户会话ID。</td>
</tr>
<tr>
<td>ajax=fetchFlowExecutions</td>
<td>指示fetchFlowExecutions操作的固定参数。</td>
</tr>
<tr>
<td>project</td>
<td>要获取的项目名称。</td>
</tr>
<tr>
<td>flow</td>
<td>要获取的流ID。</td>
</tr>
<tr>
<td>start</td>
<td>返回列表的起始索引（含）。</td>
</tr>
<tr>
<td>length</td>
<td>返回列表的最大长度。例如，如果起始索引为2，长度为10，则返回的列表将包含索引的执行：[2、3、4、5、6、7、8、9、10、11]。</td>
</tr>
</tbody></table>
<p>返回数据样例</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;executions&quot;</span> : [ &#123;</span><br><span class="line">    <span class="attr">&quot;startTime&quot;</span> : <span class="number">1407779928865</span>,</span><br><span class="line">    <span class="attr">&quot;submitUser&quot;</span> : <span class="string">&quot;1&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;status&quot;</span> : <span class="string">&quot;FAILED&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;submitTime&quot;</span> : <span class="number">1407779928829</span>,</span><br><span class="line">    <span class="attr">&quot;execId&quot;</span> : <span class="number">306</span>,</span><br><span class="line">    <span class="attr">&quot;projectId&quot;</span> : <span class="number">192</span>,</span><br><span class="line">    <span class="attr">&quot;endTime&quot;</span> : <span class="number">1407779950602</span>,</span><br><span class="line">    <span class="attr">&quot;flowId&quot;</span> : <span class="string">&quot;test&quot;</span></span><br><span class="line">  &#125;, &#123;</span><br><span class="line">    <span class="attr">&quot;startTime&quot;</span> : <span class="number">1407779877807</span>,</span><br><span class="line">    <span class="attr">&quot;submitUser&quot;</span> : <span class="string">&quot;1&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;status&quot;</span> : <span class="string">&quot;FAILED&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;submitTime&quot;</span> : <span class="number">1407779877779</span>,</span><br><span class="line">    <span class="attr">&quot;execId&quot;</span> : <span class="number">305</span>,</span><br><span class="line">    <span class="attr">&quot;projectId&quot;</span> : <span class="number">192</span>,</span><br><span class="line">    <span class="attr">&quot;endTime&quot;</span> : <span class="number">1407779899599</span>,</span><br><span class="line">    <span class="attr">&quot;flowId&quot;</span> : <span class="string">&quot;test&quot;</span></span><br><span class="line">  &#125;, &#123;</span><br><span class="line">    <span class="attr">&quot;startTime&quot;</span> : <span class="number">1407779473354</span>,</span><br><span class="line">    <span class="attr">&quot;submitUser&quot;</span> : <span class="string">&quot;1&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;status&quot;</span> : <span class="string">&quot;FAILED&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;submitTime&quot;</span> : <span class="number">1407779473318</span>,</span><br><span class="line">    <span class="attr">&quot;execId&quot;</span> : <span class="number">304</span>,</span><br><span class="line">    <span class="attr">&quot;projectId&quot;</span> : <span class="number">192</span>,</span><br><span class="line">    <span class="attr">&quot;endTime&quot;</span> : <span class="number">1407779495093</span>,</span><br><span class="line">    <span class="attr">&quot;flowId&quot;</span> : <span class="string">&quot;test&quot;</span></span><br><span class="line">  &#125; ],</span><br><span class="line">  <span class="attr">&quot;total&quot;</span> : <span class="number">16</span>,</span><br><span class="line">  <span class="attr">&quot;project&quot;</span> : <span class="string">&quot;azkaban-test-project&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;length&quot;</span> : <span class="number">3</span>,</span><br><span class="line">  <span class="attr">&quot;from&quot;</span> : <span class="number">0</span>,</span><br><span class="line">  <span class="attr">&quot;flow&quot;</span> : <span class="string">&quot;test&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;projectId&quot;</span> : <span class="number">192</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="获取流正在执行的列表"><a href="#获取流正在执行的列表" class="headerlink" title="获取流正在执行的列表"></a>获取流正在执行的列表</h3><p>给定项目名称和流程ID，此API调用仅获取当前正在运行的执行。</p>
<ul>
<li><strong>Method:</strong> GET</li>
<li><strong>Request URL:</strong> /executor?ajax=getRunning</li>
<li><strong>Parameter Location:</strong> Request Query String</li>
</ul>
<p>请求参数</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>session.id</td>
<td>用户会话ID。</td>
</tr>
<tr>
<td>ajax=getRunning</td>
<td>指示getRunning动作的固定参数。</td>
</tr>
<tr>
<td>project</td>
<td>要获取的项目名称。</td>
</tr>
<tr>
<td>flow</td>
<td>要获取的流ID。</td>
</tr>
</tbody></table>
<p>返回参数</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>execIds</td>
<td>已获取执行ID的列表。 <strong>值示例：</strong> [301、302、111、999]</td>
</tr>
</tbody></table>
<p>返回数据样例</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;execIds&quot;</span>: [<span class="number">301</span>, <span class="number">302</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="执行流程"><a href="#执行流程" class="headerlink" title="执行流程"></a>执行流程</h3><p>该API通过ajax调用执行流程，支持多种不同选项的选择。通过禁用同一流程中的所有其他作业，也可以通过此API来运行单个作业。</p>
<p>请求参数</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>session.id</td>
<td>用户会话ID。</td>
</tr>
<tr>
<td>ajax=executeFlow</td>
<td>指示executeFlow动作的固定参数。</td>
</tr>
<tr>
<td>project</td>
<td>要获取的项目名称。</td>
</tr>
<tr>
<td>flow</td>
<td>要获取的流ID。</td>
</tr>
<tr>
<td>disabled</td>
<td>不需要执行的jobID列表</td>
</tr>
</tbody></table>
<p>返回数据</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>error</td>
<td>如果请求失败的错误消息</td>
</tr>
<tr>
<td>flow</td>
<td>执行的流ID</td>
</tr>
<tr>
<td>execid</td>
<td>执行ID</td>
</tr>
</tbody></table>
<p>返回数据样例</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  message: <span class="string">&quot;Execution submitted successfully with exec id 295&quot;</span>,</span><br><span class="line">  project: <span class="string">&quot;foo-demo&quot;</span>,</span><br><span class="line">  flow: <span class="string">&quot;test&quot;</span>,</span><br><span class="line">  execid: <span class="number">295</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="取消流程执行"><a href="#取消流程执行" class="headerlink" title="取消流程执行"></a>取消流程执行</h3><p>给定执行ID，此API调用将取消正在运行的流程。如果流未在运行，它将返回错误消息。</p>
<ul>
<li><strong>Method:</strong> GET</li>
<li><strong>Request URL:</strong> /executor?ajax=cancelFlow</li>
<li><strong>Parameter Location:</strong> Request Query String</li>
</ul>
<p>请求参数</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>session.id</td>
<td>用户会话ID。</td>
</tr>
<tr>
<td>ajax=cancelFlow</td>
<td>指示当前ajax动作的固定参数是cancelFlow。</td>
</tr>
<tr>
<td>execid</td>
<td>执行ID。</td>
</tr>
</tbody></table>
<p>成功的返回数据</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123; &#125;</span><br></pre></td></tr></table></figure>

<p>失败的返回数据</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;error&quot;</span> : <span class="string">&quot;Execution 302 of flow test isn&#x27;t running.&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="使用Cron创建一个调度"><a href="#使用Cron创建一个调度" class="headerlink" title="使用Cron创建一个调度"></a>使用Cron创建一个调度</h3><p>该API调用通过cron表达式调度流程。Cron是已广泛使用了很长时间的UNIX工具，我们使用<a href="http://www.quartz-scheduler.org/">Quartz库</a>来解析cron表达式。所有cron计划都遵循azkaban Web服务器中定义的时区（时区ID是通过 <em>java.util.TimeZone.getDefault（）。getID（）获得的</em>）。</p>
<ul>
<li><strong>Method:</strong> POST</li>
<li><strong>Request URL:</strong> /schedule?ajax=scheduleCronFlow</li>
<li><strong>Parameter Location:</strong> Request Query String</li>
</ul>
<p>请求参数</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>session.id</td>
<td>用户会话ID。</td>
</tr>
<tr>
<td>ajax=scheduleCronFlow</td>
<td>指示操作的固定参数是使用cron计划流。</td>
</tr>
<tr>
<td>projectName</td>
<td>项目的名称。</td>
</tr>
<tr>
<td>flow</td>
<td>流的名称。</td>
</tr>
<tr>
<td>cronExpression</td>
<td>CRON表达式是一个字符串，包含6或7个由空格隔开的字段，这些空格代表一组时间。在azkaban中，我们使用<a href="http://www.quartz-scheduler.org/documentation/quartz-2.x/tutorials/crontrigger.html">Quartz Cron Format</a>。</td>
</tr>
</tbody></table>
<p>成功的返回数据</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;message&quot;</span> : <span class="string">&quot;PROJECT_NAME.FLOW_NAME scheduled.&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;scheduleId&quot;</span> : SCHEDULE_ID,</span><br><span class="line">  <span class="attr">&quot;status&quot;</span> : <span class="string">&quot;success&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>失败的返回数据</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;message&quot;</span> : <span class="string">&quot;Cron expression must exist.&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;status&quot;</span> : <span class="string">&quot;error&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;message&quot;</span> : <span class="string">&quot;Permission denied. Cannot execute FLOW_NAME&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;status&quot;</span> : <span class="string">&quot;error&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>无效的cron表达式的返回数据</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;message&quot;</span> : <span class="string">&quot;This expression &lt;*****&gt; can not be parsed to quartz cron.&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;status&quot;</span> : <span class="string">&quot;error&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="获取一个调度"><a href="#获取一个调度" class="headerlink" title="获取一个调度"></a>获取一个调度</h3><p>给定项目ID和流程ID，此API调用将获取一个调度。</p>
<ul>
<li><strong>Method:</strong> GET</li>
<li><strong>Request URL:</strong> /schedule?ajax=fetchSchedule</li>
<li><strong>Parameter Location:</strong> Request Query String</li>
</ul>
<p>请求参数</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>session.id</td>
<td>用户会话ID。</td>
</tr>
<tr>
<td>ajax=fetchSchedule</td>
<td>指示计划的固定参数。</td>
</tr>
<tr>
<td>projectId</td>
<td>项目的ID。</td>
</tr>
<tr>
<td>flowId</td>
<td>流的名称。</td>
</tr>
</tbody></table>
<p>成功返回数据</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;schedule&quot;</span> : &#123;</span><br><span class="line">    <span class="attr">&quot;cronExpression&quot;</span> : <span class="string">&quot;0 * 9 ? * *&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;nextExecTime&quot;</span> : <span class="string">&quot;2017-04-01 09:00:00&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;period&quot;</span> : <span class="string">&quot;null&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;submitUser&quot;</span> : <span class="string">&quot;azkaban&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;executionOptions&quot;</span> : &#123;</span><br><span class="line">      <span class="attr">&quot;notifyOnFirstFailure&quot;</span> : <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">&quot;notifyOnLastFailure&quot;</span> : <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">&quot;failureEmails&quot;</span> : [ ],</span><br><span class="line">      <span class="attr">&quot;successEmails&quot;</span> : [ ],</span><br><span class="line">      <span class="attr">&quot;pipelineLevel&quot;</span> : <span class="literal">null</span>,</span><br><span class="line">      <span class="attr">&quot;queueLevel&quot;</span> : <span class="number">0</span>,</span><br><span class="line">      <span class="attr">&quot;concurrentOption&quot;</span> : <span class="string">&quot;skip&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;mailCreator&quot;</span> : <span class="string">&quot;default&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;memoryCheck&quot;</span> : <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">&quot;flowParameters&quot;</span> : &#123;</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">&quot;failureAction&quot;</span> : <span class="string">&quot;FINISH_CURRENTLY_RUNNING&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;failureEmailsOverridden&quot;</span> : <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">&quot;successEmailsOverridden&quot;</span> : <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">&quot;pipelineExecutionId&quot;</span> : <span class="literal">null</span>,</span><br><span class="line">      <span class="attr">&quot;disabledJobs&quot;</span> : [ ]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">&quot;scheduleId&quot;</span> : <span class="string">&quot;3&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;firstSchedTime&quot;</span> : <span class="string">&quot;2017-03-31 11:45:21&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如果没有调度，则返回数据为空</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;&#125;</span><br></pre></td></tr></table></figure>

<h3 id="取消一个调度"><a href="#取消一个调度" class="headerlink" title="取消一个调度"></a>取消一个调度</h3><p>此API调用取消计划流程。</p>
<ul>
<li><strong>Method:</strong> POST</li>
<li><strong>Request URL:</strong> /schedule?action=removeSched</li>
<li><strong>Parameter Location:</strong> Request Query String</li>
</ul>
<p>请求参数</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>session.id</td>
<td>用户会话ID。</td>
</tr>
<tr>
<td>action=removeSched</td>
<td>指示操作的固定参数是取消计划流。</td>
</tr>
<tr>
<td>scheduleId</td>
<td>时间表的ID。您可以在/ schedule页面上的Azkaban UI中找到它。</td>
</tr>
</tbody></table>
<p>成功返回数据</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;message&quot;</span> : <span class="string">&quot;flow FLOW_NAME removed from Schedules.&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;status&quot;</span> : <span class="string">&quot;success&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>失败返回数据</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;message&quot;</span> : <span class="string">&quot;Schedule with ID SCHEDULE_ID does not exist&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;status&quot;</span> : <span class="string">&quot;error&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="获取流程执行详情"><a href="#获取流程执行详情" class="headerlink" title="获取流程执行详情"></a>获取流程执行详情</h3><p>给定执行ID，此API调用将获取该执行的所有详细信息，包括所有作业执行的列表。</p>
<ul>
<li><strong>Method:</strong> GET</li>
<li><strong>Request URL:</strong> /executor?ajax=fetchexecflow</li>
<li><strong>Parameter Location:</strong> Request Query String</li>
</ul>
<p>请求参数</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>session.id</td>
<td>用户会话ID。</td>
</tr>
<tr>
<td>ajax=fetchexecflow</td>
<td>指示fetchexecflow操作的固定参数。</td>
</tr>
<tr>
<td>execid</td>
<td>要获取的执行ID。</td>
</tr>
</tbody></table>
<p>它返回有关执行的详细信息（请查看下面的示例）。要注意的一件事是该字段<code>nodes[i].in</code>实际上指示此节点的依赖项是什么。</p>
<p>返回数据</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;attempt&quot;</span> : <span class="number">0</span>,</span><br><span class="line">  <span class="attr">&quot;submitUser&quot;</span> : <span class="string">&quot;1&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;updateTime&quot;</span> : <span class="number">1407779495095</span>,</span><br><span class="line">  <span class="attr">&quot;status&quot;</span> : <span class="string">&quot;FAILED&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;submitTime&quot;</span> : <span class="number">1407779473318</span>,</span><br><span class="line">  <span class="attr">&quot;projectId&quot;</span> : <span class="number">192</span>,</span><br><span class="line">  <span class="attr">&quot;flow&quot;</span> : <span class="string">&quot;test&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;endTime&quot;</span> : <span class="number">1407779495093</span>,</span><br><span class="line">  <span class="attr">&quot;type&quot;</span> : <span class="literal">null</span>,</span><br><span class="line">  <span class="attr">&quot;nestedId&quot;</span> : <span class="string">&quot;test&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;startTime&quot;</span> : <span class="number">1407779473354</span>,</span><br><span class="line">  <span class="attr">&quot;id&quot;</span> : <span class="string">&quot;test&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;project&quot;</span> : <span class="string">&quot;test-azkaban&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;nodes&quot;</span> : [ &#123;</span><br><span class="line">    <span class="attr">&quot;attempt&quot;</span> : <span class="number">0</span>,</span><br><span class="line">    <span class="attr">&quot;startTime&quot;</span> : <span class="number">1407779495077</span>,</span><br><span class="line">    <span class="attr">&quot;id&quot;</span> : <span class="string">&quot;test&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;updateTime&quot;</span> : <span class="number">1407779495077</span>,</span><br><span class="line">    <span class="attr">&quot;status&quot;</span> : <span class="string">&quot;CANCELLED&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;nestedId&quot;</span> : <span class="string">&quot;test&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;type&quot;</span> : <span class="string">&quot;command&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;endTime&quot;</span> : <span class="number">1407779495077</span>,</span><br><span class="line">    <span class="attr">&quot;in&quot;</span> : [ <span class="string">&quot;test-foo&quot;</span> ]</span><br><span class="line">  &#125;, &#123;</span><br><span class="line">    <span class="attr">&quot;attempt&quot;</span> : <span class="number">0</span>,</span><br><span class="line">    <span class="attr">&quot;startTime&quot;</span> : <span class="number">1407779473357</span>,</span><br><span class="line">    <span class="attr">&quot;id&quot;</span> : <span class="string">&quot;test-bar&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;updateTime&quot;</span> : <span class="number">1407779484241</span>,</span><br><span class="line">    <span class="attr">&quot;status&quot;</span> : <span class="string">&quot;SUCCEEDED&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;nestedId&quot;</span> : <span class="string">&quot;test-bar&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;type&quot;</span> : <span class="string">&quot;pig&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;endTime&quot;</span> : <span class="number">1407779484236</span></span><br><span class="line">  &#125;, &#123;</span><br><span class="line">    <span class="attr">&quot;attempt&quot;</span> : <span class="number">0</span>,</span><br><span class="line">    <span class="attr">&quot;startTime&quot;</span> : <span class="number">1407779484240</span>,</span><br><span class="line">    <span class="attr">&quot;id&quot;</span> : <span class="string">&quot;test-foobar&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;updateTime&quot;</span> : <span class="number">1407779495073</span>,</span><br><span class="line">    <span class="attr">&quot;status&quot;</span> : <span class="string">&quot;FAILED&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;nestedId&quot;</span> : <span class="string">&quot;test-foobar&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;type&quot;</span> : <span class="string">&quot;java&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;endTime&quot;</span> : <span class="number">1407779495068</span>,</span><br><span class="line">    <span class="attr">&quot;in&quot;</span> : [ <span class="string">&quot;test-bar&quot;</span> ]</span><br><span class="line">  &#125;, &#123;</span><br><span class="line">    <span class="attr">&quot;attempt&quot;</span> : <span class="number">0</span>,</span><br><span class="line">    <span class="attr">&quot;startTime&quot;</span> : <span class="number">1407779495069</span>,</span><br><span class="line">    <span class="attr">&quot;id&quot;</span> : <span class="string">&quot;test-foo&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;updateTime&quot;</span> : <span class="number">1407779495069</span>,</span><br><span class="line">    <span class="attr">&quot;status&quot;</span> : <span class="string">&quot;CANCELLED&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;nestedId&quot;</span> : <span class="string">&quot;test-foo&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;type&quot;</span> : <span class="string">&quot;java&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;endTime&quot;</span> : <span class="number">1407779495069</span>,</span><br><span class="line">    <span class="attr">&quot;in&quot;</span> : [ <span class="string">&quot;test-foobar&quot;</span> ]</span><br><span class="line">  &#125; ],</span><br><span class="line">  <span class="attr">&quot;flowId&quot;</span> : <span class="string">&quot;test&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;execid&quot;</span> : <span class="number">304</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="获取执行作业日志"><a href="#获取执行作业日志" class="headerlink" title="获取执行作业日志"></a>获取执行作业日志</h3><p>给定一个执行ID和一个作业ID，此API调用将获取相应的作业日志。有时日志文本可能会很大，因此此API调用也需要参数<code>offset</code>并<code>length</code>要指定。</p>
<ul>
<li><strong>Method:</strong> GET</li>
<li><strong>Request URL:</strong> /executor?ajax=fetchExecJobLogs</li>
<li><strong>Parameter Location:</strong> Request Query String</li>
</ul>
<p>请求参数</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>session.id</td>
<td>用户会话ID。</td>
</tr>
<tr>
<td>ajax=fetchExecJobLogs</td>
<td>指示fetchExecJobLogs操作的固定参数。</td>
</tr>
<tr>
<td>execid</td>
<td>执行的唯一ID。</td>
</tr>
<tr>
<td>jobId</td>
<td>要获取的作业的唯一ID。</td>
</tr>
<tr>
<td>offset</td>
<td>日志数据的偏移量。</td>
</tr>
<tr>
<td>length</td>
<td>日志数据的长度。例如，如果偏移量设置为10，长度为1000，则返回的日志将从第10个字符开始，并且长度为1000（如果剩余对数小于1000，则返回较小的长度）。</td>
</tr>
</tbody></table>
<p>返回数据</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>data</td>
<td>日志的文本数据。</td>
</tr>
<tr>
<td>offset</td>
<td>日志数据的偏移量。</td>
</tr>
<tr>
<td>length</td>
<td>日志数据的长度。</td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>测试开发</category>
      </categories>
      <tags>
        <tag>azkaban</tag>
        <tag>任务调度</tag>
      </tags>
  </entry>
  <entry>
    <title>BMCweb解释</title>
    <url>/Echo/2020/01/17/BMCweb%E8%A7%A3%E9%87%8A/</url>
    <content><![CDATA[<p><strong>UID****：</strong>定位作用，控制定位灯是否亮起，便于寻找机器</p>
<p><strong>循环开机</strong>：服务器先关机再开机</p>
<p><strong>重启</strong>：不关闭电源（热开机）的情况下重新启动系统</p>
<p>**软关机:**先执行操作系统的关机再关闭系统</p>
<p><strong>CPU****速率</strong>：cup主频，即CPU<a href="https://baike.baidu.com/item/%E5%86%85%E6%A0%B8">内核</a>工作的<a href="https://baike.baidu.com/item/%E6%97%B6%E9%92%9F%E9%A2%91%E7%8E%87/103708">时钟频率</a>。CPU的主频表示在CPU内数字<a href="https://baike.baidu.com/item/%E8%84%89%E5%86%B2">脉冲</a>信号震荡的速度，主频和实际的<a href="https://baike.baidu.com/item/%E8%BF%90%E7%AE%97%E9%80%9F%E5%BA%A6">运算速度</a>存在一定的关系，但没有一个定量，因为CPU的运算速度还要看CPU的流水线的各方面的性能指标（<a href="https://baike.baidu.com/item/%E7%BC%93%E5%AD%98">缓存</a>、<a href="https://baike.baidu.com/item/%E6%8C%87%E4%BB%A4%E9%9B%86">指令集</a>，CPU的<a href="https://baike.baidu.com/item/%E4%BD%8D%E6%95%B0">位数</a>等等）。</p>
<p><strong>核心</strong>（Die）又称为内核，是CPU最重要的组成部分。CPU中心那块隆起的芯片就是核心， CPU所有的计算、接受/存储命令、处理数据都由核心执行。各种CPU核心都具有固定的逻辑结构，一级缓存、二级缓存、执行单元、指令级单元和总线接口等逻辑单元都会有科学的布局。</p>
<p><strong>CPU****的核心数</strong>是指物理上，也就是硬件上存在着几个核心。比如，双核就是包括2个相对独立的CPU核心单元组，四核就包含4个相对独立的CPU核心单元组。</p>
<p><strong>TDP</strong>： Thermal Design Power——散热设计功耗</p>
<p>大小：一级缓存&lt;二级缓存&lt;三级缓存</p>
<p>速度：一级缓存&gt;二级缓存&gt;三级缓存</p>
<p>当CPU需要写入内存的时候通常只更新<a href="http://www.baidu.com/s?wd=%E4%B8%89%E7%BA%A7%E7%BC%93%E5%AD%98&tn=SE_PcZhidaonwhc_ngpagmjz&rsv_dl=gh_pc_zhidao">三级缓存</a>，如果数据写入频繁将会更新到二级乃至一级缓存</p>
<p><strong>网络控制器</strong>:网卡，又称<a href="https://baike.baidu.com/item/%E7%BD%91%E7%BB%9C%E9%80%82%E9%85%8D%E5%99%A8/214428">网络适配器</a>或网络接口卡（NIC），英文名为Network Interface Card。</p>
<p><strong>带宽</strong>：单位时间内能传输的数据量</p>
<p><strong>硬盘：</strong>硬盘是集精密机械、微电子电路、电磁转换为一体的电脑存储设备，它存储着电脑系统资源和重要的信息及数据</p>
<p><strong>额定功率</strong>：正常工作下的功率</p>
<p><strong>错峰上电</strong>：设定一个时间让服务器随机开机</p>
<p><strong>PIN</strong>：输入功率</p>
<p><strong>POUT</strong>:输出功率</p>
<p><strong>Iin</strong>：电源输入电流</p>
<p><strong>Iout</strong>:电源电流输出</p>
<p><strong>Vin</strong>:电源输入电压</p>
<p><strong>Vout</strong>:电源输出电压</p>
<p><strong>传感器</strong>（<a href="https://baike.baidu.com/item/%E8%8B%B1%E6%96%87">英文</a>名称：transducer/sensor）是一种检测装置，能感受到被测量的信息，并能将感受到的信息，按一定规律变换成为电信号或其他所需形式的信息输出，以满足信息的传输、处理、存储、显示、记录和控制等要求。</p>
<p><strong>KVM</strong>：就是Keyboard Video Mouse的缩写。KVM <a href="https://baike.baidu.com/item/%E4%BA%A4%E6%8D%A2%E6%9C%BA/103532">交换机</a>通过直接连接键盘、视频和鼠标 (KVM) 端口，让您能够访问和控制计算机。</p>
<p>**VLAN(**Virtual LAN)， “虚拟局域网”，LAN是网络，VLAN所指的LAN特指使用路由器分割的网络——也就是广播域。</p>
<p><strong>广播域</strong>，指的是广播帧(目标MAC地址全部为1)所能传递到的范围，亦即能够直接通信的范围。</p>
<p><strong>域名</strong>：（Domain Name）网域，是由一串用点分隔的名字组成的<a href="https://baike.baidu.com/item/Internet">Internet</a>上某一台<a href="https://baike.baidu.com/item/%E8%AE%A1%E7%AE%97%E6%9C%BA/140338">计算机</a>或计算机组的名称，用于在数据传输时标识计算机的电子方位（有时也指地理位置）。</p>
<p><strong>双工模式</strong>：1、全双工： 指可以同时（瞬时）进行信号的双向传输（A→B且B→A）。</p>
<p>2、半双工：指一个时间内只有一个方向的信号传输（A→B或B→A）。</p>
<p><strong>端口：</strong>分为逻辑端口和物理端口。物理端口指的是物理存在的端口，如ADSL Modem、<a href="https://baike.baidu.com/item/%E9%9B%86%E7%BA%BF%E5%99%A8">集线器</a>、<a href="https://baike.baidu.com/item/%E4%BA%A4%E6%8D%A2%E6%9C%BA">交换机</a>、<a href="https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E5%99%A8">路由器</a>上用 于连接其他<a href="https://baike.baidu.com/item/%E7%BD%91%E7%BB%9C%E8%AE%BE%E5%A4%87">网络设备</a>的接口，如<a href="https://baike.baidu.com/item/RJ-45%E7%AB%AF%E5%8F%A3">RJ-45端口</a>、SC端口等等。逻辑端口是指逻辑意义上用于区分服务的端口，如<a href="https://baike.baidu.com/item/TCP%2FIP%E5%8D%8F%E8%AE%AE">TCP/IP协议</a>中的服务端口，端口号的范围从0到65535，比如用于浏览网页服务的80端口，用于FTP服务的21端口等。端口号就是端口的编号。</p>
<p><strong>NTP****服务器：</strong>【Network Time Protocol（NTP）】是用来使计算机<a href="https://baike.baidu.com/item/%E6%97%B6%E9%97%B4%E5%90%8C%E6%AD%A5">时间同步</a>化的一种协议，它可以使计算机对其服务器或时钟源（如石英钟，GPS等等)做同步化，它可以提供高精准度的时间校正，且可介由加密确认的方式来防止恶毒的协议攻击。</p>
<p><strong>SMTP****：</strong>（Simple Mail Transfer Protocol）即<a href="https://baike.baidu.com/item/%E7%AE%80%E5%8D%95%E9%82%AE%E4%BB%B6%E4%BC%A0%E8%BE%93%E5%8D%8F%E8%AE%AE">简单邮件传输协议</a>,它是一组用于由源地址到目的地址传送<a href="https://baike.baidu.com/item/%E9%82%AE%E4%BB%B6">邮件</a>的规则，由它来控制信件的中转方式。<a href="https://baike.baidu.com/item/SMTP%E5%8D%8F%E8%AE%AE">SMTP协议</a>属于<a href="https://baike.baidu.com/item/TCP%2FIP%E5%8D%8F%E8%AE%AE%E7%B0%87">TCP/IP协议簇</a>，它帮助每台<a href="https://baike.baidu.com/item/%E8%AE%A1%E7%AE%97%E6%9C%BA/140338">计算机</a>在发送或中转信件时找到下一个目的地。通过SMTP协议所指定的<a href="https://baike.baidu.com/item/%E6%9C%8D%E5%8A%A1%E5%99%A8">服务器</a>,就可以把E-mail寄到收信人的服务器上了，整个过程只要几分钟。SMTP<a href="https://baike.baidu.com/item/%E6%9C%8D%E5%8A%A1%E5%99%A8/100571">服务器</a>则是遵循SMTP协议的发送<a href="https://baike.baidu.com/item/%E9%82%AE%E4%BB%B6%E6%9C%8D%E5%8A%A1%E5%99%A8">邮件服务器</a>，用来发送或中转发出的<a href="https://baike.baidu.com/item/%E7%94%B5%E5%AD%90%E9%82%AE%E4%BB%B6/111106">电子邮件</a>。</p>
<p><strong>网卡：</strong>是工作在链路层的网络组件，是局域网中连接计算机和传输介质的接口，不仅能实现与局域网传输介质之间的物理连接和电信号匹配，还涉及帧的发送与接收、帧的封装与拆封、介质访问控制、数据的编码与解码以及数据缓存的功能等。</p>
<p><strong>LDAP****：</strong>是轻量<a href="https://baike.baidu.com/item/%E7%9B%AE%E5%BD%95%E8%AE%BF%E9%97%AE%E5%8D%8F%E8%AE%AE">目录访问协议</a>，以树状的层次结构来存储数据。</p>
<p><strong>SSL</strong>(Secure Sockets Layer <a href="https://baike.baidu.com/item/%E5%AE%89%E5%85%A8%E5%A5%97%E6%8E%A5%E5%B1%82">安全套接层</a>),及其继任者<a href="https://baike.baidu.com/item/%E4%BC%A0%E8%BE%93%E5%B1%82%E5%AE%89%E5%85%A8">传输层安全</a>（Transport Layer Security，TLS）是为<a href="https://baike.baidu.com/item/%E7%BD%91%E7%BB%9C%E9%80%9A%E4%BF%A1/9636548">网络通信</a>提供安全及<a href="https://baike.baidu.com/item/%E6%95%B0%E6%8D%AE%E5%AE%8C%E6%95%B4%E6%80%A7/110071">数据完整性</a>的一种安全协议。SSL通过互相认证、使用数字签名确保完整性、使用加密确保私密性，以实现客户端和服务器之间的安全通讯。该协议由两层组成：SSL记录协议和SSL握手协议。</p>
<p><strong>TLS</strong>：(Transport Layer Security，传输层安全协议)，用于两个应用程序之间提供保密性和数据完整性。该协议由两层组成：TLS记录协议和TLS握手协议。</p>
<p><strong>TLS****与SSL</strong>在<a href="https://baike.baidu.com/item/%E4%BC%A0%E8%BE%93%E5%B1%82/4329536">传输层</a>对网络连接进行加密。　位于可靠的面向连接的网络层协议和应用层协议之间的一种协议层。</p>
]]></content>
      <categories>
        <category>学习</category>
      </categories>
      <tags>
        <tag>BMC</tag>
        <tag>服务器</tag>
      </tags>
  </entry>
  <entry>
    <title>20个实用软件测试技巧</title>
    <url>/Echo/2021/05/01/20%E4%B8%AA%E5%AE%9E%E7%94%A8%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95%E6%8A%80%E5%B7%A7/</url>
    <content><![CDATA[<p>以下是个人总结的20个软件测试过程中的技巧</p>
<p>1、学会彻底分析测试结果。不要忽略任何测试结果。最终测试结果可能是”pass”或”fail”，但如果对”fail”的根本原因进行故障分析并提供问题的解决方案。如果测试人员不仅记录错误，而且还提供解决方案，那么待遇可想而知。</p>
<p>2、了解如何在每次测试应用程序时最大限度地提高测试覆盖率。100%的测试覆盖率可能是不可能的，但是，总是可以尝试接近它。</p>
<p>3、为了确保最大的测试覆盖率，请将被测应用程序 分解为较小的功能模块。在单个单元模块上编写测试用例。此外，如果可以的话，将这些模块分解成更小的部分，拆分到不能拆分为止。</p>
<p>假设我们已将网站应用程序划分为多个模块，并且”添加用户信息”是其中一个模块。可以将此用户信息页面分解为较小的部分，用于编写测试用例：UI测试、安全测试、用户信息表单的功能测试等部分。在输入字段中应用所有形式的字段类型和大小测试、否定和验证测试，并编写所有此类测试用例以获得最大覆盖率。</p>
<p>4、在编写测试用例时，我们必须首先为预期的功能编写测试用例，就是根据需求为正向条件编写测试用例。然后为反向或者无效条件编写测试用例。这些将涵盖受测应用程序的预期和意外行为。</p>
<p>5、积极思考。开始测试应用程序，目的是查找bug/错误。不要事先认为应用程序中不会有任何错误。如果以查找错误为目的测试应用程序，那么一定会成功找到这些微妙的bug。</p>
<p>6、在需求分析和设计阶段编写测试用例。通过这种方式，您可以确保所有要求都是可测试的。</p>
<p>7、在编写代码之前，使测试用例可供开发人员使用。不要一直等待获得最终的应用程序版本才开始编写测试用例进行测试，认为这样可以记录更多错误。让开发人员彻底分析测试用例，以开发高质量的应用程序。这也将节省返工时间。</p>
<p>8、如果可以，对测试用例进行分组用以进行回归测试，将确保快速有效的手动回归测试。</p>
<p>9、需要关键响应时间的应用程序应进行全面的性能测试。性能测试是许多应用程序的关键部分。对于手动测试测试人员来说这是最忽略的部分，因为在性能测试中缺乏所需的大量数据。寻找测试应用程序性能的方法。如果无法手动创建测试数据，请编写一些脚本来创建用于性能测试的测试数据，或要求开发人员为您编写一个。</p>
<p>10、程序员不应该测试自己的代码。开发应用程序的基本单元测试应该足以让开发人员为测试人员发布应用程序。但是测试人员不应强迫开发人员发布产品进行测试。从测试领导到测试经理，每个人都知道模块/更新何时发布进行测试，他们可以相应地估计测试时间。这在敏捷项目环境中是常见的。</p>
<p>11、超越需求测试。测试应用程序不应执行的操作。</p>
<p>12、在进行回归测试时，请使用 Bug 图（bug管理工具生成）。 bug 图可用于预测应用程序中最可能出现 bug 部分。</p>
<p>13、记下在测试时学到的新术语和概念。在测试任何应用程序时保持文本文件处于打开状态。记录其中的测试进度和观察结果。在准备最终测试发布报告时使用记录的观察结果。这个习惯将帮助我们提供完整明确的测试报告和发布详细信息。</p>
<p>14、很多时候，测试人员或开发人员会对受测应用程序的代码库进行更改。这是开发或测试环境中的必要步骤，避免像在银行项目中那样执行实时交易处理。记下为测试目的所做的所有此类代码更改，并在最终发布时确保已从最终的客户端部署文件资源中删除了所有这些更改。</p>
<p>15、使开发人员远离测试环境。这是检测发布或部署文档中缺少的任何配置更改的必需步骤。有时，开发人员会进行一些系统或应用程序配置更改，但忘记在部署步骤中提及这些更改。如果开发人员无法访问测试环境，他们就不会意外地在测试环境中进行此类更改，以及如何在正确位置捕获的缺失内容。</p>
<p>16、从软件需求和设计阶段开始让测试人员参与进来是一种很好的做法。通过这种方式，测试人员可以获得有关应用程序准确的信息，从而获得详细的测试覆盖率。如果您没有被要求参与此开发周期，那么您可以向您的主管或经理提出请求，让您的测试团队参与所有决策过程或会议。</p>
<p>17、测试团队应与其组织中的其他团队分享最佳测试实践和经验。</p>
<p>18、增加与开发人员的沟通，以了解有关产品的更多信息。尽可能进行面对面的沟通，以快速解决争议并避免任何误解。但是，当您了解要求或解决任何争议时，请确保以与电子邮件相同的覆盖通信方式进行沟通。不要相信任何口头内容。（这个要自己悟）</p>
<p>19、不要没有时间去做优先级高的测试任务。将测试工作的优先级从高到低排序，并相应地规划您的工作。分析所有相关风险，确定工作的优先级。</p>
<p>20、写一份清晰，描述性和明确的错误报告。不仅要提供详细bug描述和发现步骤，还要提供bug的影响和所有可能的解决方案。</p>
<p>永远不要忘记，测试是一项创造性和具有挑战性的任务。这写完全取决于您如何处理这个挑战的技能和经验。</p>
<p><strong>交给您：</strong></p>
<p>在下面的评论中分享您自己的测试经验、想法或测试秘诀肯定会使本文更加有趣和有用！</p>
]]></content>
      <categories>
        <category>测试</category>
      </categories>
      <tags>
        <tag>测试技巧</tag>
        <tag>测试经验</tag>
      </tags>
  </entry>
  <entry>
    <title>Flume日志采集框架学习</title>
    <url>/Echo/2021/11/14/Flume%E6%97%A5%E5%BF%97%E9%87%87%E9%9B%86%E6%A1%86%E6%9E%B6%E5%AD%A6%E4%B9%A0/</url>
    <content><![CDATA[<h4 id="1-概述"><a href="#1-概述" class="headerlink" title="1. 概述"></a>1. 概述</h4><ul>
<li>Flume 是一个<code>分布式</code>、<code>可靠</code>、<code>高可用</code>的海量<code>日志采集</code>、<code>聚合</code>和<code>传输</code>的系统；</li>
<li>Flume 可以采集文件、socket数据包、文件、目录、Kafka等<code>各种形式数据源</code>，又可以将采集到的数据（下沉 sink）输出到 HDFS、HBase、Hive、Kafka等<code>众多外部存储系统</code>中；</li>
<li>一般的采集需求，通过对 Flume 的简单配置即可实现；</li>
<li>Flume 针对特殊场景也具备良好的自定义扩展能力，因此，Flume 适用于大部分的日常数据采集场景；</li>
</ul>
<h4 id="2-运行机制"><a href="#2-运行机制" class="headerlink" title="2. 运行机制"></a>2. 运行机制</h4><p>Flume 分布式系统中最<code>核心的角色是 agent</code>，Flume 采集系统就是由一个个 agent 所连接起来形成的；</p>
<p><img src="image-20211114152336278.png" alt="image-20211114152336278"></p>
<p> 每一个 agent 相当于一个数据传递员，内部有三个组件：</p>
<ul>
<li> Source：` 采集组件，用于与众多数据源对接，以获取数据；</li>
<li>  Channel：` 传输通道组件，用于从 Source 将数据传递到 Sink；</li>
<li>  Sink：` 下沉组件，用于往下一级 agent 传递数据 或者 往最终存储系统传递数据；</li>
</ul>
<h4 id="3-单个agent采集数据"><a href="#3-单个agent采集数据" class="headerlink" title="3.单个agent采集数据"></a>3.单个agent采集数据</h4><p><img src="image-20211114152023931.png" alt="image-20211114152023931"></p>
<h4 id="4-多个agent采集数据"><a href="#4-多个agent采集数据" class="headerlink" title="4.多个agent采集数据"></a>4.多个agent采集数据</h4><p><img src="image-20211114152057458.png" alt="image-20211114152057458"></p>
]]></content>
      <categories>
        <category>学习</category>
      </categories>
      <tags>
        <tag>日志</tag>
        <tag>flume</tag>
      </tags>
  </entry>
  <entry>
    <title>GitHub搜索技巧</title>
    <url>/Echo/2021/03/17/GitHub%E6%90%9C%E7%B4%A2%E6%8A%80%E5%B7%A7/</url>
    <content><![CDATA[<p>github是世界知名的代码托管平台，千万程序员的圣地。作为一个常逛github的程序员，你在github上搜索代码时，是怎样操作的呢？</p>
<p>大家是不是也会像我一样搜索框直接输入关键字</p>
<p><img src="image-20211117104623233.png" alt="image-20211117104623233"></p>
<p>然后改变 一下列表oder排序方式</p>
<p><img src="image-20211117104649103.png" alt="image-20211117104649103"></p>
<p>但是找到了接近21万相关的开源项目，这时候的你是不是一脸懵呢！</p>
<p>接下来我们一块掌握几个精确查找项目的方式（均以springboot为例）</p>
<h6 id="1-项目名搜索"><a href="#1-项目名搜索" class="headerlink" title="1.项目名搜索"></a>1.项目名搜索</h6><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">in:name 项目关键字</span><br></pre></td></tr></table></figure>

<p><img src="image-20211117104831270.png" alt="image-20211117104831270"></p>
<p>这时发现项目数据量已经少了一些，搜索到了16.5万个项目</p>
<h6 id="2-项目描述搜索"><a href="#2-项目描述搜索" class="headerlink" title="2.项目描述搜索"></a>2.项目描述搜索</h6><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">in:description 关键字</span><br></pre></td></tr></table></figure>

<p><img src="image-20211117105101855.png" alt="image-20211117105101855"></p>
<p>此时项目数量已经下降到了6.9万个</p>
<h6 id="3-项目readMe搜索"><a href="#3-项目readMe搜索" class="headerlink" title="3.项目readMe搜索"></a>3.项目readMe搜索</h6><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">in:readme 关键字</span><br></pre></td></tr></table></figure>

<p><img src="image-20211117105323314.png" alt="image-20211117105323314"></p>
<p>此时项目数量为12.6万个</p>
<h6 id="4-关键字搜索，然后限制stars或者forks-数"><a href="#4-关键字搜索，然后限制stars或者forks-数" class="headerlink" title="4.关键字搜索，然后限制stars或者forks 数"></a>4.关键字搜索，然后限制stars或者forks 数</h6><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">in:name 或者 description 或者 readme 关键字 stars:&gt;数字 forks:&gt;数字</span><br></pre></td></tr></table></figure>

<p>stars 和 forks既可以单独使用，也可以组合使用</p>
<p><img src="image-20211117113707201.png" alt="image-20211117113707201"></p>
<p>当增加上stars 数量大于10000时，项目数为23个</p>
<h6 id="5-限制项目更新时间"><a href="#5-限制项目更新时间" class="headerlink" title="5.限制项目更新时间"></a>5.限制项目更新时间</h6><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">in:name或description或readme 关键字  pushed:&gt;2021-02-01</span><br></pre></td></tr></table></figure>

<p><img src="image-20211117113931148.png" alt="image-20211117113931148"></p>
<p>此时项目数为4.4万个。这里还可以和stars或者forks组合使用</p>
<h6 id="6-限制项目的语言"><a href="#6-限制项目的语言" class="headerlink" title="6.限制项目的语言"></a>6.限制项目的语言</h6><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">in:name或description或readme 关键字  language:javascript</span><br></pre></td></tr></table></figure>

<p><img src="image-20211117114146576.png" alt="image-20211117114146576"></p>
<p>项目数为8.5万个。</p>
<h6 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h6><p>如何高效的从GitHub上搜索开源项目，有下面的小技巧：</p>
<ul>
<li>项目名搜索: in:name 关键字</li>
<li>项目描述搜索： in:description 关键字</li>
<li>项目详细描述搜索： in: readme 关键字</li>
<li>限制项目的火热程度： stars:&gt;数字 或者 forks:&gt;数字</li>
<li>限制项目的更新时间：pushed:&gt; 时间</li>
<li>限制项目的语言：language:语言</li>
</ul>
<p>所以以上github搜索的小技巧。你学废了吗？</p>
]]></content>
      <categories>
        <category>学习</category>
      </categories>
      <tags>
        <tag>github</tag>
      </tags>
  </entry>
  <entry>
    <title>HDFS架构及命令</title>
    <url>/Echo/2022/01/02/HDFS%E6%9E%B6%E6%9E%84%E5%8F%8A%E5%91%BD%E4%BB%A4/</url>
    <content><![CDATA[<h4 id="HDFS架构"><a href="#HDFS架构" class="headerlink" title="HDFS架构"></a>HDFS架构</h4><p><img src="HDFS-Architecture.jpg" alt="HDFS-Architecture"></p>
<p>如图所示，有NameNode，因为已经知道哪个是HDFS架构中的主守护进程，它存储集群中存在的所有DataNode的元数据以及每个DataNode中存在的所有块的信息。</p>
<p>有像Rack-1这样的机架，它有三个DataNodes，Rack-2有两个DataNodes，如图所示。</p>
<p>还有一个应用于所有节点的复制因子。现在有一个客户端可以从DataNode读取数据，还有另一个客户端可以将数据写入这些数据节点。</p>
<p>因此，本质上两种机制是并行的，即读取机制，它是客户端为读取数据而生成的请求，而写入机制是为客户端写入数据而生成的。这就是客户端将数据移动到DataNode或Hadoop 集群中的方式。</p>
<h4 id="HDFS读写机制"><a href="#HDFS读写机制" class="headerlink" title="HDFS读写机制"></a>HDFS读写机制</h4><h5 id="写"><a href="#写" class="headerlink" title="写"></a>写</h5><p><img src="Write-Mechanism-in-HDFS.jpg" alt="Write-Mechanism-in-HDFS"></p>
<p>如图所示HDFS写入机制，客户端可以提出写入文件或读取文件的请求。步骤1表示客户端为块A生成的写入请求NameNode，NameNode的作用是它感知客户端可以写入块的IP地址列表，即块A。</p>
<p>现在，此客户端连接到交换机，然后最终向 DataNode 1、DataNode 4 和 DataNode 6 发送通知，为什么此 DataNode 本身，是因为这些是由 NameNode、NameNode 指定的 DataNode 发送的数据节点，数据必须写入 DataNode 1、4 和 6 中，这就是为什么客户端同时连接到所有这三个 DataNode 的原因。</p>
<p><img src="HDFS-Write-PipeLine.jpg" alt="HDFS-Write-PipeLine"></p>
<p>在第一步中，客户端从所有这些 DataNode 中获取确认，无论它们是否准备好对它们执行写入操作。它可能就像DataNode正在执行任务一样，目前还不可用。因此，第一步是接受他们的承认。</p>
<p>一旦他们说他们准备好了，写入管道就会创建。现在，客户端在 DataNode 1、4 和 6 上感知到写入请求，并且第一个副本是在 DataNode 1 中创建的，即在 DataNode 1 中创建/存储或写入的块 A。</p>
<p>然后，下一个副本由 DataNode 1 本身在 DataNode 4 中创建，正如您可以看到核心交换机的箭头所示，首先副本是在 DataNode 1 中创建的，DataNode 1 在 DataNode 4 中创建第二个副本。</p>
<p>现在不是客户端在做这项工作，而是DataNode实际在DataNode 4中创建副本，最后，DataNode 4在DataNode 6上创建副本，即块A的第三个副本。</p>
<p>在 DataNode 6 上创建第三个副本后，它会向 DataNode 4 发送回确认，DataNode 4 会将确认发回 DataNode 1，同样，DataNode 1 会将确认发送回客户端，最后客户端会将成功写回 NameNode 的消息作为确认。</p>
<p>一旦您通过NameNode获得成功消息，它就会在其末端更新元数据，即它将存储块A已存储在DataNode 1，4和6中的信息。因此，当我们谈论块A时，这是整个写入机制，这是按顺序发生的，即按顺序创建副本的副本。</p>
<p><img src="HDFS-Multi-Block-Write-Pipeline.jpg" alt="HDFS-Multi-Block-Write-Pipeline"></p>
<p>当有多个块时，它会变得有点复杂。上图显示，当有多个块（即块 A 和块 B）时，它将遵循相同的过程，就像客户端向 NameNode 发送请求一样。</p>
<p>NameNode 会将 DataNode 的列表返回给客户端，然后客户端将连接到核心交换机。当客户端连接到核心交换机时，它将并行写入两个块的第一个副本。</p>
<p>只需尝试理解这一点，您就可以看到1A和1B，即复制块A和块B的第一步，现在看到2A和2B向机架1的交换机发送请求，并将其他交换机发送到机架5的交换机，现在此交换机（机架1）连接到DataNode 1并创建块A的副本。</p>
<p>同时，客户端还在DataNode 7中创建了块B的副本，因此每个块的第一个副本，即块A和块B，即使有更多的块，块的第一个副本也将并行创建，而不是按顺序创建。</p>
<p>创建第一个副本后，将按顺序创建复制副本。首先，我们将看到块 A，DataNode 1 与 Rack 4 的数据节点 4 中的另一个块 A 副本一起按顺序创建。</p>
<p>创建此副本后，将在同一机架 4 的 DataNode 6 中创建块 A 的另一个副本。同样，块 B 是在 DataNode 9 中创建的，并且将根据发送到交换机的请求，在机架 1 的数据节点 3 中按顺序创建下一个副本。</p>
<p>如果您看到并行创建或写入HDFS的每个块的第一个副本，而这些块的副本由其后续DataNodes本身按顺序创建。</p>
<h5 id="读"><a href="#读" class="headerlink" title="读"></a>读</h5><p>阅读机制更容易理解，因为它非常简单。因此，客户端是发出所有请求的人，就像编写一样，它将从NameNode请求特定块。NameNode将通过存储这些特定块的数据节点发送。</p>
<p><img src="HDFS-Read-Mechanism.jpg" alt="HDFS-Read-Mechanism"></p>
<p>如图所示，客户端已从NameNode请求块A和B，NameNode将DN1（即DataNode 1和DN3，即DataNode 3）的地址发送回客户端计算机。</p>
<p>现在，此客户端计算机将与核心交换机建立连接，它将从 DataNode 1 读取块 A，从 DataNode 3 读取块 B，并将核心交换机设置的此数据发送回客户端计算机。客户端可以将这些数据用于所需的任何目的。</p>
<p>NameNode将确保客户端没有分配用于获取数据或读取数据的工作。</p>
<p>它将确保存储实际数据的DataNodes非常接近，并且客户端不必消耗大量网络带宽来读取数据。这是一件非常关键的事情，由NameNode负责，它有很大帮助。</p>
<h4 id="HDFS命令"><a href="#HDFS命令" class="headerlink" title="HDFS命令"></a>HDFS命令</h4><p>下面列出的是常用的 Hadoop/HDFS 命令。我们需要 FsShell 系统来运行这些命令。首先，从命令提示符转到主目录或工作目录，然后编写命令。</p>
<p><strong>#1）查看HDFS中可用命令的列表。</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$hadoopfs–help</span><br></pre></td></tr></table></figure>

<p><strong>#2）在HDFS中创建目录。</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$hadoopfs-mkdir &lt;path&gt;</span><br></pre></td></tr></table></figure>

<p><strong>#3）查看特定目录下的内容。</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$hadoopfs–ls</span><br></pre></td></tr></table></figure>

<p><strong>此外，我们可以将 -d、-h 或 –r 与 ls 命令一起使用。</strong></p>
<ul>
<li>-d 目录列为普通文件。</li>
<li>-h 以人类可读的方式（而不是字节数）格式化文件大小。</li>
<li>-R 递归列出目录的内容</li>
</ul>
<p><strong>#4）查看文件的内容。</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ hadoopfs -cat&lt;Path of file&gt;</span><br></pre></td></tr></table></figure>

<p><strong>#5）将文件从本地文件系统复制到HDFS。</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$hadoopfs-put &lt;source-path&gt;&lt;destination-path&gt;</span><br></pre></td></tr></table></figure>

<p><strong>此外，我们可以将 –p 或 –f 与 cat 命令一起使用。</strong></p>
<ul>
<li>-p 保留访问和修改时间。</li>
<li>-f 覆盖目标。</li>
</ul>
<p>或</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ Hadoop fs –copyFromLocal &lt;source-path&gt;&lt;destination-path&gt;</span><br></pre></td></tr></table></figure>

<p><strong>#6）将文件从HDFS复制到本地。</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$hadoopfs-put &lt;source-hadoop-path&gt;&lt;destination-local-path&gt;</span><br></pre></td></tr></table></figure>

<p>或</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ Hadoop fs –copyToLocal &lt;source-hadoop-path&gt;&lt;destination-local-path&gt;</span><br></pre></td></tr></table></figure>

<p><strong>#7） 删除由路径标识的文件或空目录。</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ hadoopfs -rm &lt;File Path&gt;</span><br></pre></td></tr></table></figure>

<p><strong>#8）将src标识的文件或目录复制到HDFS中。</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ hadoopfs cp &lt;src&gt;&lt;dest&gt;</span><br></pre></td></tr></table></figure>

<p><strong>#9）将src指示的文件或目录移动到HDFS中的dest。</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ hadoopfs mv &lt;src&gt;&lt;dest&gt;</span><br></pre></td></tr></table></figure>

<p><strong>#10） 显示磁盘使用情况，以字节为单位。</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ hadoopfsdu &lt;path&gt;</span><br></pre></td></tr></table></figure>

<p><strong>#11） 将所有给定本地文件的内容追加到 HDFS 上的给定目标文件中。</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$hadoopfs-appendToFile&lt;local files separated by space&gt;&lt;hdfs destination file&gt;</span><br></pre></td></tr></table></figure>

<p><strong>#12） 显示文件的最后 1KB。</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ hadoopfs -tail &lt;filename&gt;</span><br></pre></td></tr></table></figure>

<p><strong>#13）在HDFS中创建长度为零的文件。</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$hadoopfs-touchz &lt;path&gt;</span><br></pre></td></tr></table></figure>

<p><strong>#14） 将文件的复制因子更改为特定名称，而不是 HDFS 中其余文件的复制因子的默认值。</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$hadoopfs-setrep&lt;replication factor number&gt;&lt;file/path name&gt;</span><br></pre></td></tr></table></figure>

<p><strong>此外，我们可以将 -r 或 -w 与 -setrep 一起使用。</strong></p>
<ul>
<li>-w 请求命令等待复制完成。</li>
<li>-R 被接受为向后兼容性。</li>
</ul>
<p><strong>#15） 将 HDFS 上一个目录中的文件列表合并到本地文件系统上的单个文件中。</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ hadoopfs getmerge &lt;src&gt;&lt;localDest&gt;</span><br></pre></td></tr></table></figure>

<p><strong>#16） 计算路径下的目录、文件和字节数。</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ hadoopfs -count &lt;path&gt;</span><br></pre></td></tr></table></figure>

<p><strong>#17）显示空间量，以字节为单位。</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ hadoopfs -du &lt;path&gt;</span><br></pre></td></tr></table></figure>

<p><strong>此外，我们可以将 -s 或 -h 与 du 命令一起使用。</strong></p>
<ul>
<li>-s 显示总（摘要）大小。</li>
<li>-h 以人类可读的方式格式化文件大小</li>
</ul>
<p><strong>#18） 更改文件的权限。</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ hadoopfs chmod [-R] mode,mode,... &lt;path&gt;...</span><br></pre></td></tr></table></figure>

<p>此处，-R 以递归方式修改文件。</p>
<p><strong>#19） 更改文件或路径的组。</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ hadoopfs -chgrp [-R] groupname&lt;path&gt;</span><br></pre></td></tr></table></figure>

<p><strong>#20） 更改文件的所有者和组。</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ hadoop fs -chown [-R] [OWNER][:[GROUP]] PATH</span><br></pre></td></tr></table></figure>

<h4 id="结尾"><a href="#结尾" class="headerlink" title="结尾"></a>结尾</h4><p>Hadoop的文件存储结构以及读写机制我们已经了解完成了，下一篇文章，我们会了解下MapReduce数据处理机制。</p>
]]></content>
      <categories>
        <category>大数据</category>
      </categories>
      <tags>
        <tag>大数据，HDFS</tag>
      </tags>
  </entry>
  <entry>
    <title>JMeter介绍</title>
    <url>/Echo/2021/11/20/JMeter%E4%BB%8B%E7%BB%8D/</url>
    <content><![CDATA[<p>在本文中我们将了解什么是性能测试、为什么选择 JMeter、JMeter 与 HP LoadRunner。</p>
<h5 id="什么是性能测试？"><a href="#什么是性能测试？" class="headerlink" title="什么是性能测试？"></a>什么是性能测试？</h5><p>在我们继续探索 Jmeter 及其安装过程之前，我们需要了解什么是性能测试以及 JMeter 作为工具如何支持性能测试。 </p>
<p>就像学生需要表现良好才能提升自己的水平一样。 同样，应用程序（移动或 Web 或桌面）需要表现良好，才能在竞争激烈的市场中更上一层楼。 </p>
<p>性能测试衡量 <strong>您的应用程序在不同工作负载下的性能。</strong> 有许多参数可用于确定负载测试中的服务器是否运行良好，本文稍后将讨论这些参数。 </p>
<ul>
<li>举一个简单的例子。  在浏览器中输入“<a href="http://www.facebook.com”,它显示了/">www.facebook.com”，它显示了</a> Facebook 的主页使用时间10秒。 现在假设 1000 人同时输入“<a href="http://www.facebook.com”并点击/">www.facebook.com”并点击</a> Google 主页显示可能超过 10 秒 。</li>
<li>因此，在不同的工作负载（用户数量）下性能会发生变化。  这种类型的测试非常重要，因为无论您的应用程序有多么好的设计和功能，但如果它的性能很差，那么很有可能失去所有潜在的目标受众 。</li>
</ul>
<p>通过下图我们可以清晰看到比较</p>
<p><img src="FlowDiagram.jpg" alt="FlowDiagram"></p>
<h6 id="性能测试主要考虑以下参数："><a href="#性能测试主要考虑以下参数：" class="headerlink" title="性能测试主要考虑以下参数："></a>性能测试主要考虑以下参数：</h6><ul>
<li><strong>吞吐量</strong> - 它被定义为每秒的事务数。 例：假设银行客户服务一次只能处理 30 个呼叫，因此其余呼叫者需要排队。 这意味着吞吐量是 30</li>
<li><strong>响应时间</strong> ——这个时间是用户从服务器收到响应所用的时间 </li>
<li><strong>延迟</strong> 是信息的第一个字节到达用户端的时间。例：假设用户点击 HTTP 请求以检索网页。 因此，接收该网页的第一个字节的时间就是该请求的延迟时间 </li>
<li><strong>可扩展性</strong>  - 它是指应用程序可以承受的最大负载 </li>
<li>CPU 负载、内存使用和资源使用 </li>
</ul>
<h5 id="为什么是JMeter？"><a href="#为什么是JMeter？" class="headerlink" title="为什么是JMeter？"></a>为什么是JMeter？</h5><p>JMeter 最初是由 Apache Software 的  Stefano Mazzocchi 开发的。  基本上，JMeter 是一个基于 Java 的桌面应用程序。  JMeter 使用 Swing  图形 API，不是由特定于平台的编码实现的，只要有JAVA即可。JMeter的安装自己行搜索。</p>
<p> Jmeter支持以下协议：</p>
<ul>
<li>HTTP、HTTPS</li>
<li>FTP</li>
<li>JDBC</li>
<li>SMTP、IMAP</li>
<li>LDAP</li>
<li>TCP</li>
<li>SOAP</li>
</ul>
<p>JMeter的优点：</p>
<ul>
<li>免费–JMeter是免费的，Apache官网下载即可；</li>
<li>友好的界面–测试人员可以很容易地熟悉它的大部分组件，工具内提供每个组件的帮助文档</li>
<li>高度可扩展–用户可以使用 JSR223 创建自己的采样器，并且有许多采样器插件可用，测试人员增加测试能力</li>
<li>协议支持–JMeter 不仅可用于应用程序性能测试，还支持多种协议</li>
<li>记录– JMeter 内置了 HTTP(S) 测试脚本记录器，可用于记录来自网站或移动应用程序的所有操作，然后可以模拟负载以测试各种负载条件下的性能。 此外，还有一个 chrome 扩展可用于记录操作，然后可以在 JMeter 中使用相同的脚本来扩展负载</li>
<li>集成selenium–可以与selenium进行集成测试</li>
<li>安装简单</li>
<li>图形化的报告</li>
</ul>
<h5 id="HP-LoadRunner-VS-JMeter"><a href="#HP-LoadRunner-VS-JMeter" class="headerlink" title="HP LoadRunner VS JMeter"></a>HP LoadRunner VS JMeter</h5><table>
<thead>
<tr>
<th>JMeter</th>
<th>Loadrunner</th>
</tr>
</thead>
<tbody><tr>
<td>开源，免费</td>
<td>惠普产品，许可证还是很贵的</td>
</tr>
<tr>
<td>协议支持有限</td>
<td>更多的协议支持</td>
</tr>
<tr>
<td>Jmeter 是一个基于 Java 的产品，使用基于 sprint 的 API，这使得它独立于平台，可以在任何环境下运行，无论是 win、mac、Linux。</td>
<td>它使用基于 C 的语言、Java、Java Script 和 VB。</td>
</tr>
<tr>
<td>负载生成能力有限。  在具有高 RAM 和处理器的机器上，Jmeter 只能产生 1-2k 用户的负载。  增加负载可能会导致内存不足异常。</td>
<td>负载生成能力更高。</td>
</tr>
<tr>
<td>Jmeter的技术熟练程度较低。</td>
<td>LoadRunner 技术精湛。</td>
</tr>
<tr>
<td>Jmeter 在云中运行有很多复杂性。</td>
<td>Load Runner 也很容易在云环境中运行。</td>
</tr>
<tr>
<td>Jmeter 中的录制功能非常简单，并且也支持可扩展性。  有一些 chrome 插件，可以直接在 Jmeter 中导入脚本。</td>
<td>与 Jmeter 相比，Load Runner 中的记录功能也不复杂。</td>
</tr>
<tr>
<td>Jmeter 的结果不是实时的。</td>
<td>LoadRunner 提供相对更实时的结果</td>
</tr>
<tr>
<td>Jmeter 在用于 SAP 等企业产品时效率不高。</td>
<td>即使使用 SAP、Siebel 等，Load Runner 也能提供高效的结果。</td>
</tr>
</tbody></table>
<h5 id="结论"><a href="#结论" class="headerlink" title="结论"></a>结论</h5><p>JMeter 是市场上用于测试 Web 和移动应用程序的强大工具。  它非常易于使用并且不需要太多编程技能，除非在 JMeter 中编写自己的采样器。 将在接下来的系列文章中详细介绍每个组件，敬请期待！ </p>
]]></content>
      <categories>
        <category>测试</category>
      </categories>
      <tags>
        <tag>性能测试，JMeter</tag>
      </tags>
  </entry>
  <entry>
    <title>HDFS简介</title>
    <url>/Echo/2022/01/02/HDFS%E7%AE%80%E4%BB%8B/</url>
    <content><![CDATA[<h4 id="Hadoop-分布式文件系统"><a href="#Hadoop-分布式文件系统" class="headerlink" title="Hadoop 分布式文件系统"></a>Hadoop 分布式文件系统</h4><p><strong>HDFS</strong>解决了大数据的存储问题，<strong>Map Reduce</strong>解决了与处理部分大数据相关的问题。</p>
<h4 id="Hadoop的组件"><a href="#Hadoop的组件" class="headerlink" title="Hadoop的组件"></a>Hadoop的组件</h4><p>HDFS有两个主要组件来解决大数据问题：</p>
<ul>
<li>用于存储大数据的HDFS</li>
<li>用于处理大数据的MapReduce</li>
</ul>
<p><img src="Hadoop-Component-1.jpg" alt="Hadoop-Component-1"></p>
<p>如图所示，Hadoop的架构，一个是HDFS，Hadoop的文件存储系统，一个是YARN和MapReduce，大数据处理部分。</p>
<p>使用HDFS，Hadoop使我们能够存储大数据，使用YARN和Map Reduce，Hadoop使我们能够处理存储在HDFS中的相同大数据。</p>
<p><img src="Hadoop-Core-Components.jpg" alt="Hadoop-Core-Components"></p>
<p>正如您在上图中看到的，HDFS有两个主要的守护进程，或者您可以将它们称为进程或线程，它们只不过是JAVA进程，即在JVM中运行 - NameNode和DataNode。</p>
<p>NameNode是一个在Master Machine上运行的主守护程序，即本质上是高端机器，DataNode是在商用硬件上运行的从机。可以有更多的DataNode，因为从机不仅仅是主机。</p>
<p>因此，我们总是在从属机器上运行一个NameNode和多个DataNode。</p>
<p>同样，我们在另一端有YARN，它又有两个守护进程，一个是运行在主计算机上的资源管理器，另一个是运行在从机上的节点管理器，就像DataNode一样。因此，每台从属机器都有两个守护进程 - 一个是DataNode，另一个是Node Manager。</p>
<p>主计算机正在运行 NameNode 并运行资源管理器。NameNode 负责管理 Hadoop 分布式文件系统上的数据，资源管理器负责对此存储的数据执行处理任务。</p>
<h4 id="name-node-和data-node"><a href="#name-node-和data-node" class="headerlink" title="name node 和data node"></a>name node 和data node</h4><h5 id="name-node"><a href="#name-node" class="headerlink" title="name node"></a>name node</h5><ul>
<li>主守护进程。</li>
<li>管理和维护数据节点。</li>
<li>记录元数据。</li>
<li>接收来自所有 DataNode 的检测信号和阻止报告。</li>
</ul>
<p>data node</p>
<ul>
<li>守护进程。</li>
<li>实际数据存储在此处。</li>
<li>为来自客户端的读取和写入请求提供服务。</li>
</ul>
<p><img src="NameNode-DataNode.jpg" alt="NameNode-DataNode"></p>
<p>有一个集中式机器名称节点，它控制着各种DataNode，即商用硬件。因此，Name Node只不过是维护所有DataNode的主守护进程。</p>
<p>这些名称节点具有有关存储在 DataNode 中的数据的所有信息。DataNode顾名思义，用于存储Hadoop集群中存在的数据。</p>
<p>NameNode仅包含有关哪些数据存储在哪个DataNode上的信息。因此，我们可以说的是NameNode存储存储在DataNodes上的数据的元数据。</p>
<p>DataNode还执行另一项任务，即它定期将检测信号发送回NameNode。心跳实际上告诉NameNode这个DataNode仍然活着。</p>
<p>DataNodes将检测信号发送回NameNode，这样NameNode就可以知道这些数据节点是活跃的，因此NameNode可以使用这些数据节点来存储更多数据或从这些数据节点读取数据。</p>
<p>现在我们来看看DataNode，DataNode只不过是从属守护进程，它实际上存储着发送到Hadoop集群的数据。这些数据节点是实际为客户端发出的读取和写入请求提供服务的节点。</p>
<p>如果有人想从Hadoop集群中读取数据，那么这些请求实际上由数据所在的DataNodes处理。</p>
<h4 id="Hadoop-集群架构"><a href="#Hadoop-集群架构" class="headerlink" title="Hadoop 集群架构"></a>Hadoop 集群架构</h4><p><img src="Hadoop-Cluster.jpg" alt="Hadoop-Cluster"></p>
<p>如图所示，Hadoop 集群r只不过是一个主从拓扑，其中有一个主机器，正如你在顶部看到的那样，即Hadoop 集群。在此主计算机中，有一个 NameNode 和正在运行的资源管理器，即主守护程序。</p>
<p>主机使用核心交换机连接到所有从机，这是因为这些数据节点实际上存储在各种机架中，因此您可以看到计算机1，计算机2，计算机3直到计算机N。这只不过是从属机器或DataNodes，它们都存在于一个机架中。</p>
<h5 id="HDFS将如何存取数据？"><a href="#HDFS将如何存取数据？" class="headerlink" title="HDFS将如何存取数据？"></a>HDFS将如何存取数据？</h5><p>将文件存储在HDFS中时，数据被存储为HDFS中的块。整个文件不存储在HDFS中，这是因为如您所知，Hadoop是一个分布式文件系统。</p>
<p>因此，如果您的文件大小可能为1 PB（Peta Byte），那么这种存储就不会存在于单台计算机中，因为Hadoop集群是使用商用硬件制作的。一台计算机中的硬件大约为 1 TB 或 2 TB。</p>
<p>因此，整个文件需要分解为称为HDFS块的数据块。</p>
<ul>
<li>每个文件都作为块存储在HDFS上。</li>
<li>在Apache Hadoop 2.x中，每个块的默认大小约为128 MB（在以前的版本，即Apache Hadoop 1.x中为64mb）。</li>
<li>有一个工具可以使用Hadoop软件包附带的配置文件（即hdfssite.xml）来增加或减少块的文件大小。</li>
</ul>
<p>让我们在这里考虑一个248 MB的文件，现在如果我们打破这个文件，或者如果我们把这个文件移动到Hadoop Cluster（即2.x）中，那么这个文件将被分解成一个块，即128 MB的块A和另一个120 MB的块B。</p>
<p>如您所见，第一个块为128 MB，即第一个板块在那里削减，这就是为什么另一个块为120 MB而不是128 MB，即如果剩余的文件大小小于默认块大小，则不会浪费任何空间。</p>
<p><img src="Example-Diagram.jpg" alt="Example-Diagram"></p>
<p>现在我们面前还有另一个问题，即每个块的单个副本是否安全？</p>
<p>答案是否定的，因为系统可能会失败，而它只是商品硬件，因此我们可能会遇到大麻烦。为了克服这个问题，Hadoop HDFS有一个很好的解决方案，即**”块的复制”。**</p>
<h5 id="Hadoop-架构块复制"><a href="#Hadoop-架构块复制" class="headerlink" title="Hadoop 架构块复制"></a>Hadoop 架构块复制</h5><p>Hadoop创建存储到Hadoop分布式文件系统中的每个块的副本，这就是Hadoop作为容错系统的方式，即即使您的系统出现故障或DataNode失败或副本丢失，您也会在其他DataNode或其他服务器中存在多个其他副本，以便您始终可以从那里选择这些副本。</p>
<p><img src="Block-Replication.jpg" alt="Block-Replication"></p>
<p>如图所表示块复制，文件有五个不同的块，即块 1、2、3、4、5。让我们先检查一下块 1，您将在节点 1、节点 2 和节点 4 中找到块 1 的副本。</p>
<p>同样，块 2 也有三个副本，即节点 2、节点 3 和节点 4，因此在各自的节点中，块 3、4 和 5 也是如此。</p>
<p>因此，除了创建的副本之外，每个块都被复制了三次，即Hadoop遵循默认的复制因子为3，这意味着您复制到Hadoop分发文件系统中的任何文件都会被复制三次。</p>
<p>换句话说，如果您将1 GB的文件复制到Hadoop分发文件系统中，它实际上将3 GB的文件存储在HDFS中。好的部分是，通过更改Hadoop的配置文件，默认复制因子是可以更改的。</p>
<p>*<strong>Hadoop 如何决定存储副本的位置？*</strong></p>
<p>Hadoop实际上遵循Rack Awareness的概念来决定在哪里存储Block的副本。如图所示机架感知算法图表。</p>
<p><img src="Rack-Awareness-Algorithm.jpg" alt="Rack-Awareness-Algorithm"></p>
<p>Rack-1有四个DataNodes，Rack-2和Rack-3也是如此，因此整个Hadoop集群总共将由所有三个机架组成，并且将有12个DataNode。</p>
<p>假设块 A 在 Rack-1 的 DataNode 1 上复制，根据 Rack Aware 的概念，块 A 的副本不能在同一机架中创建，并且需要在 Rack-1 之外的任何其他机架中创建，因为主文件已经存在于 Rack-1 中。</p>
<p>如果我们在同一机架-1中创建块A的副本，并且如果整个Rack-1发生故障，那么我们肯定会丢失数据，因此副本必须存储在任何其他机架中，而不是存储在Rack-1中。</p>
<p>因此，将在 Rack-2 的 DataNode 6 和 8 中创建副本。同样，对于块 B 和块 C，副本将在不同的机架中创建，如上图所示。</p>
<h4 id="结尾"><a href="#结尾" class="headerlink" title="结尾"></a>结尾</h4><ul>
<li>Hadoop HDFS解决了大数据的存储问题。</li>
<li>Hadoop Map Reduce解决了与大数据处理相关的问题。</li>
<li>NameNode 是一个主守护进程，用于管理和维护 DataNode。</li>
<li>DataNode是一个从属守护进程，实际数据存储在这里。它用于读取和写入来自客户端的请求。</li>
<li>在Hadoop Cluster中，机架实际上是一组物理上存在于一个特定位置并相互连接的机器。</li>
<li>每个文件都作为块存储在HDFS上。</li>
<li>在Apache Hadoop 2.x中，每个块的默认大小约为128 MB（在以前的版本，即Apache Hadoop 1.x中为64 MB）。</li>
<li>有一个工具可以使用Hadoop软件包附带的配置文件（即hdfssite.xml）来增加或减少块的文件大小。</li>
</ul>
]]></content>
      <categories>
        <category>大数据</category>
      </categories>
      <tags>
        <tag>HDFS</tag>
        <tag>大数据</tag>
      </tags>
  </entry>
  <entry>
    <title>JMeter处理器和控制器</title>
    <url>/Echo/2021/12/16/JMeter%E5%A4%84%E7%90%86%E5%99%A8%E5%92%8C%E6%8E%A7%E5%88%B6%E5%99%A8/</url>
    <content><![CDATA[<h5 id="预处理器–pre-processor"><a href="#预处理器–pre-processor" class="headerlink" title="预处理器–pre processor"></a>预处理器–pre processor</h5><p>执行采样器之前执行的元素。您可以将预处理器与要在请求中进行一些更改的采样器连接在一起。</p>
<p>最简单的情况可能是在 HTTP 请求中添加”示例超时”预处理器，以便此请求仅运行定义的时间量。它还确保仅对父采样器执行此修改,以下是JMeter中的预处理器：</p>
<p><img src="image-20211217094257136.png" alt="image-20211217094257136"></p>
<h6 id="用户参数–-user-parameters"><a href="#用户参数–-user-parameters" class="headerlink" title="用户参数– user parameters"></a>用户参数– user parameters</h6><p>用户参数用于在取样器中使用变量之前定义变量的值。当JMeter执行此预处理器元素时，会将值存储在变量中，这些变量可由同一线程组中的任何取样器使用。</p>
<p><img src="image-20211217100245301.png" alt="image-20211217100245301"></p>
<p>示例超时–sample timeout</p>
<p>用于定义请求的超时持续时间。例：如果将取样时间设置为 400 毫秒，则所有需要时间的请求&gt;400 都将具有失败的响应。请看下面的截图</p>
<p><img src="image-20211217134259470.png" alt="image-20211217134259470"></p>
<p><img src="image-20211217134313658.png" alt="image-20211217134313658"></p>
<h5 id="控制器"><a href="#控制器" class="headerlink" title="控制器"></a>控制器</h5><p>控制器在构建实时JMeter测试计划方面十分重要，用于定义请求发送到服务器的顺序。JMeter中的控制器有以下：</p>
<p><img src="image-20211217150511568.png" alt="image-20211217150511568"></p>
<h6 id="简单控制器–simple-controller"><a href="#简单控制器–simple-controller" class="headerlink" title="简单控制器–simple controller"></a>简单控制器–simple controller</h6><p>简单的控制器不执行任何特定功能。它只是一种容器，您可以在其中保留类似的请求，以使测试计划易于理解。</p>
<p><img src="image-20211217154100877.png" alt="image-20211217154100877"></p>
<h6 id="循环控制器–Loop-Controller"><a href="#循环控制器–Loop-Controller" class="headerlink" title="循环控制器–Loop Controller"></a>循环控制器–Loop Controller</h6><p>如果希望某些特定请求运行的迭代次数多于”线程组”中指定的迭代次数，则可以将它们放在”循环控制器”下，然后在控制器设置中输入循环计数。</p>
<p><img src="image-20211217154238730.png" alt="image-20211217154238730"></p>
<p>图中的每个取样器将执行6次。</p>
<h6 id="仅一次控制器–once-ONLY-controller"><a href="#仅一次控制器–once-ONLY-controller" class="headerlink" title="仅一次控制器–once ONLY controller"></a>仅一次控制器–once ONLY controller</h6><p>当您只想运行某个特定请求一次时，即使线程组中有多个线程，也会使用此控制器。可以考虑的最简单的例子是”获取网站主页”或”登录到Web应用程序”。实时方案希望它只发生一次，其他请求（如搜索或编辑/删除某些内容）将多次发生。</p>
<p>仅执行一次的请求可以放在”仅一次控制器”下。截图以供参考。一次 只有控制器设置绕过父线程组设置。</p>
<p><img src="image-20211217160551520.png" alt="image-20211217160551520"></p>
<h6 id="录制控制器–HTTP（S）-TEST-Script-Recorder"><a href="#录制控制器–HTTP（S）-TEST-Script-Recorder" class="headerlink" title="录制控制器–HTTP（S） TEST Script Recorder"></a>录制控制器–HTTP（S） TEST Script Recorder</h6><p>就像简单控制器一样，录制控制器不会修改发送到服务器的任何请求序列。它与HTTP（S）脚本记录器一起使用。使用此非测试元素记录的所有请求都保存在记录控制器下。需要指定目标控制器以保存对服务器发出的记录请求。</p>
<p><img src="image-20211217160800045.png" alt="image-20211217160800045"></p>
<h6 id="吞吐量控制器–Throughput-controller"><a href="#吞吐量控制器–Throughput-controller" class="headerlink" title="吞吐量控制器–Throughput controller"></a>吞吐量控制器–Throughput controller</h6><p>此控制器还用于控制执行流。如下图所示，该控制器进一步分为两部分：</p>
<p><img src="image-20211217160905035.png" alt="image-20211217160905035"></p>
<p>执行百分比–Percent Executions ： 选中后 Jmeter 将仅执行此控制器下采样器总迭代的一定百分比。也可以选中”每用户”复选框以在用户级别进行控制。</p>
<p>执行总数– total Executions: 将允许用户直接为此控制器下包含的采样器指定迭代次数。</p>
<h6 id="交错控制器–-interleave-controller"><a href="#交错控制器–-interleave-controller" class="headerlink" title="交错控制器– interleave controller"></a>交错控制器– interleave controller</h6><p>此控制器允许您通过以 n 种方式修改序列来增加性能测试的范围，以便在应用程序以不同的顺序命中请求时测试服务器上的负载。交错控制器在其下方的采样器进行替代选择。</p>
<p>如果此块下有其他控制器（如 Simple Controller），则交错控制器授予从容器中为每个迭代选择一个采样器的权限。为了进一步解释它，见图</p>
<p><img src="image-20211217162333245.png" alt="image-20211217162333245"></p>
<p>Jmeter 将在每次迭代的控制器之间交替迭代。执行顺序为：<em>请求1 -&gt; 请求3 -&gt; 请求 5 – 请求2 -&gt; 请求4 -&gt; 请求6</em></p>
<h6 id="随机控制器–random-controller"><a href="#随机控制器–random-controller" class="headerlink" title="随机控制器–random controller"></a>随机控制器–random controller</h6><p>顾名思义随机选择子控制器和其中的采样器。工作方式几乎与交错控制器类似，但不按顺序选取采样器。</p>
<p>条件控制器–If controller</p>
<p>if 控制器 以类似的方式工作，则以任何编程语言处理 IF 表达式。首先验证条件，然后执行此容器下的组件（如果条件为 TRUE），否则将执行 IF 控制器外部的元素。</p>
<p><img src="image-20211217165030335.png" alt="image-20211217165030335"></p>
<p>测试计划设计如下：如果 IF 条件被评估为<strong>False，</strong>则只有 Request3、Request4 和 Request5 将执行。</p>
<h6 id="while-控制器"><a href="#while-控制器" class="headerlink" title="while 控制器"></a>while 控制器</h6><p>此控制器执行其下的组件，直到条件变为 false。</p>
<h5 id="JMeter的记录模板"><a href="#JMeter的记录模板" class="headerlink" title="JMeter的记录模板"></a>JMeter的记录模板</h5><p>Jmeter的File目录选择template ，然后切换recording</p>
<p><img src="image-20211217165849700.png" alt="image-20211217165849700"></p>
<p>选择此录制模板后，会看到一些组件已添加到测试计划中。</p>
<ul>
<li>工作台下的 HTTP 脚本记录器</li>
<li>HTTP 请求默认值和 HTTP Cookie 管理器</li>
<li>“线程组”下的记录控制器。</li>
<li><img src="image-20211217170049709.png" alt="image-20211217170049709"></li>
</ul>
]]></content>
      <categories>
        <category>测试</category>
      </categories>
      <tags>
        <tag>性能测试</tag>
        <tag>JMeter</tag>
      </tags>
  </entry>
  <entry>
    <title>Kafka常见命令</title>
    <url>/Echo/2020/09/12/Kafka%E5%B8%B8%E8%A7%81%E5%91%BD%E4%BB%A4/</url>
    <content><![CDATA[<h4 id="kafka-启动命令"><a href="#kafka-启动命令" class="headerlink" title="kafka 启动命令"></a>kafka 启动命令</h4><p>dir：kafka 安装位置</p>
<p>指定对应的配置文件启动</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">kafka-server-start.sh  [dir]config/server.properties</span><br></pre></td></tr></table></figure>

<p>以后台方式启动</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">kafka-server-start.sh  -daemon [dir]config/server.properties</span><br></pre></td></tr></table></figure>

<p>指定JMX 端口启动，指定JMX是为了可以方便的监控kafka集群（使用滴滴的logi会用到此端口）</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">JMX_PORT=9991 kafka-server-start.sh  -daemon [dir]config/server.properties</span><br></pre></td></tr></table></figure>

<h4 id="kafka-停止命令"><a href="#kafka-停止命令" class="headerlink" title="kafka 停止命令"></a>kafka 停止命令</h4><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">kafka-server-stop.sh</span><br></pre></td></tr></table></figure>

<p>或者</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment">#1 jps 找到kafka的pid</span></span><br><span class="line">jps</span><br><span class="line"><span class="comment">#2 通过kill -9 杀死进行</span></span><br><span class="line"><span class="built_in">kill</span> -9 pid</span><br></pre></td></tr></table></figure>

<h4 id="kafka-topic-相关命令"><a href="#kafka-topic-相关命令" class="headerlink" title="kafka topic 相关命令"></a>kafka topic 相关命令</h4><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment">#1.查看集群下所有topic</span></span><br><span class="line">kafka-topics --zookeeper ZKserverIP:2181 --list</span><br><span class="line"></span><br><span class="line"><span class="comment">#2.具体查看某个topic 默认端口号为2181，应根据自己配置修改</span></span><br><span class="line">kafka-topics --describe --zookeeper ZKserverIP:2181  --topic <span class="built_in">test</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#3.创建topic</span></span><br><span class="line">kafka-topics --create --zookeeper ZKserverIP:2181 --replication-factor 1 --partitions 3 --topic <span class="built_in">test</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#4.删除某个topic</span></span><br><span class="line"><span class="comment">#删除之前需要先将server.properties文件中配置的delete.topic.enable=true更改一下</span></span><br><span class="line">kafka-topics --delete --zookeeper ZKserverIP:2181 --topic <span class="built_in">test</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#5.console创建生产者往topic中写入数据 默认端口号9092，根据自己配置修改端口号</span></span><br><span class="line">kafka-console-producer --broker-list borkerServer:9092 --topic <span class="built_in">test</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#6.console创建消费者消费topic数据</span></span><br><span class="line">kafka-console-consumer --bootstrap-server borkerServer:9092 --topic <span class="built_in">test</span> --from-beginning</span><br><span class="line"></span><br><span class="line"><span class="comment">#7查看topic上面的消息数  --time -1 表示要获取当前topic所有分区当前最大位移， --time -2 表示获取当前最早位移</span></span><br><span class="line">kafka-run-class kafka.tools.GetOffsetShell --broker-list ZKserverIP:9092 --topic <span class="built_in">test</span> --time -1</span><br><span class="line"></span><br><span class="line"><span class="comment">#8修改topic分区数 注意：分区数量只能增加，不能减少</span></span><br><span class="line">kafka-topics --zookeeper ZKserverIP:2181 --alter --topic <span class="built_in">test</span> --partitions 3</span><br><span class="line"></span><br><span class="line"><span class="comment">#9查看消费组信息</span></span><br><span class="line">kafka-consumer-groups --bootstrap-server borkerServer:9092 --describe --group convert1</span><br><span class="line"></span><br><span class="line"><span class="comment"># 10describe有两个参数用于找出有问题的分区 </span></span><br><span class="line"><span class="comment"># --unavailable-partitions：列出所有没有首领的分区，这些分区已经处于离线状态，对于生产者和消费者来说是不可用的</span></span><br><span class="line"><span class="comment"># --under-replicated-partitions：列出所有包含不同步副本的分区。</span></span><br><span class="line">kafka-topics.sh --zookeeper ZKserverIP:2181 --describe --unavailable-partitions</span><br><span class="line">kafka-topics.sh --zookeeper ZKserverIP:2181 --describe --under-replicated-partitions</span><br></pre></td></tr></table></figure>

<h4 id="kafka-生产者"><a href="#kafka-生产者" class="headerlink" title="kafka 生产者"></a>kafka 生产者</h4><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 有多个broker，可以用逗号分隔开都写上</span></span><br><span class="line">kafka-console-producer.sh --broker-list brokerServer:9092 --topic <span class="built_in">test</span></span><br></pre></td></tr></table></figure>

<h4 id="kafka-消费者"><a href="#kafka-消费者" class="headerlink" title="kafka 消费者"></a>kafka 消费者</h4><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 查看消费者最新消费到的消息</span></span><br><span class="line">kafka-console-consumer.sh --zookeeper ZKserverIP:2181  --topic <span class="built_in">test</span></span><br><span class="line"><span class="comment"># 从第一条信息查看消费者消费到的消息</span></span><br><span class="line">kafka-console-consumer.sh --zookeeper ZKserverIP:2181 --from-beginning --topic <span class="built_in">test</span></span><br><span class="line"><span class="comment"># 列出所有消费者群组</span></span><br><span class="line">kafka-consumer-groups.sh --zookeeper ZKserverIP:2181 --list</span><br><span class="line"><span class="comment"># 列出test_group消费组的详细信息</span></span><br><span class="line">kafka-consumer-groups.sh --zookeeper  ZKserverIP:2181 --describe --group test_group</span><br><span class="line"><span class="comment"># 删除消费者群组</span></span><br><span class="line">kafka-consumer-groups.sh --zookeeper ZKserverIP:2181 --delete --group test_group</span><br><span class="line"><span class="comment"># 删除消费者群组中的topic</span></span><br><span class="line">kafka-consumer-groups.sh --zookeeper ZKserverIP:2181 --delete --group test_group --topic <span class="built_in">test</span></span><br></pre></td></tr></table></figure>

<h4 id="kafka-run-class命令"><a href="#kafka-run-class命令" class="headerlink" title="kafka-run-class命令"></a>kafka-run-class命令</h4><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 导出偏移量</span></span><br><span class="line">kafka-run-class.sh kafka.tools.ExportZkOffsets --zkconnect ZKserverIP:2181 --group testGroup --output-file test_group_offsets</span><br><span class="line"><span class="comment"># 查看test_group_offsets</span></span><br><span class="line">cat test_group_offsets</span><br><span class="line"><span class="comment"># 导入偏移量</span></span><br><span class="line">kafka-run-class.sh kafka.tools.ImportZkOffsets --zkconnect ZKserverIP:2181 --input-file test_group_offsets</span><br><span class="line"><span class="comment"># segment片段信息</span></span><br><span class="line">kafka-run-class.sh kafka.tools.DumpLogSegments --files [dir]/logs/test-1/00000000000000000000.log</span><br><span class="line"><span class="comment"># segment片段信息 -print-data-log</span></span><br><span class="line">kafka-run-class.sh kafka.tools.DumpLogSegments --files [dir]/logs/test-1/00000000000000000000.log -print-data-log</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>大数据</category>
      </categories>
      <tags>
        <tag>大数据</tag>
        <tag>kafka</tag>
      </tags>
  </entry>
  <entry>
    <title>JMeter组件介绍</title>
    <url>/Echo/2021/12/12/JMeter%E7%BB%84%E4%BB%B6%E4%BB%8B%E7%BB%8D/</url>
    <content><![CDATA[<p>在本文中，将熟悉<strong>JMeter 的所有组件，以及如何在测试计划中使用它们</strong>来覆盖所有可能的性能测试场景来测试 AUT（被测应用程序）。</p>
<h4 id="JMeter的组件"><a href="#JMeter的组件" class="headerlink" title="JMeter的组件"></a>JMeter的组件</h4><p>请参考以下的流程图来了解每个组件及其与JMeter特定模块的关系。</p>
<p><img src="JmeterFlowDiagram.jpg" alt="Jmeter流程图"></p>
<h5 id="测试计划–TEST-PLAN"><a href="#测试计划–TEST-PLAN" class="headerlink" title="测试计划–TEST PLAN"></a>测试计划–TEST PLAN</h5><p>测试计划中包含的所有内容都是按从上到下的顺序或者测试计划中定义的顺序执行。测试计划可以尽可能简单，担忧线程组、采样器、监听器，可以添加更多的元素如配置元素、预处理器、控制器或前置/后置处理器。</p>
<p>JMeter是通过虚拟用户或线程来衡量性能，这些虚拟用户或者线程会连接被测服务器，就像真实用户向服务器发送请求一样。因此，每个测试计划都应该有我们JMeter中所称的虚拟用户或者线程组–THREAD GROUP。</p>
<p>测试计划的要点：</p>
<ul>
<li>运行前应保存测试计划</li>
<li>JMeter文件或者测试计划以JMX文件的格式保存</li>
<li>还可以将测试计划保存为不同方式，可以在其他测试场景中使用</li>
</ul>
<h5 id="线程组–THREAD-GROUP"><a href="#线程组–THREAD-GROUP" class="headerlink" title="线程组–THREAD GROUP"></a>线程组–THREAD GROUP</h5><p>线程组是一组用户，他们将同时以定义好的顺序访问被测服务器。可以通过右键单击测试计划将线程组添加到测试计划中。</p>
<p><img src="image-20211213103617620.png" alt="线程组"></p>
<p>1、你可以重命名线程组名称</p>
<ul>
<li><strong>Number of Thread(Users)</strong> ：它定义了虚拟用户的数量。出于测试目的，我们应该只生成有限的负载，因为一次生成大量负载意味着消耗大量线程，最终会导致 CPU 使用率高。</li>
<li><strong>Ramp Up Period</strong> ：该字段在控制负载生成方面非常重要。加速周期定义了产生总负载的时间量。</li>
<li><strong>Loop COUNT</strong>：定义了线程组将执行的次数。如果您选中 Forever 复选框，您的测试将永远运行，除非您手动停止它。这可用于测试诸如“如果您的服务器在持续加载几分钟内没有崩溃”之类的内容。</li>
</ul>
<p>取样器–Sample</p>
<p>JMeter如何知道发送到服务器的请求类型是什么？</p>
<p>是通过取样器。取样器是必须要添加到测试计划中的，因为只有它可以让JMeter知道需要发送那种类型的请求到那个服务器上以及需要携带什么样的参数。请求是HTTP、websocket、FTP、TCP、SMTP等。</p>
<p>采样器只能添加到线程组，而不是直接在测试计划下，因为线程组需要使用采样器向被测服务器 URL 发送请求。采样器可以通过路径Thread Group -&gt; Sampler -&gt; HTTP Request 添加。</p>
<h6 id="HTTP请求示例"><a href="#HTTP请求示例" class="headerlink" title="HTTP请求示例"></a>HTTP请求示例</h6><p><img src="image-20211213111816981.png" alt="HTTP示例"></p>
<ul>
<li>server name or ip ：输入服务的IP或者域名</li>
<li>path： 请求的路径</li>
<li>method：请求方式，常见的有post、get、put、delete等</li>
<li>parameter：请求参数，如需要可以添加，还可以在config Element中添加httpcookie、请求头配置等</li>
<li>body data：请求体</li>
</ul>
<h5 id="监听器-Listener"><a href="#监听器-Listener" class="headerlink" title="监听器-Listener"></a>监听器-Listener</h5><p>截止到这里，我们已经看到了取样器向服务器发送请求，但是还没有分析响应。性能测试就是分析各种形式的服务器响应，然后将呈现给客户端。监听器用于显示测试执行的结果，以便测试人员了解统计信息。在JMeter中大约有15种监听器，但是常用的是table、tree和graph。</p>
<p>监听器可以直接在测试计划下或取样器下添加。不同之处在于，当您在取样器下添加侦听器时，它只会显示该取样器的结果。如果我们直接在测试计划下添加取样器，它会显示层次结构中所有取样器的结果。</p>
<p>会看到如下结果：</p>
<p><img src="image-20211214162144747.png" alt="image-20211214162144747"></p>
<ul>
<li>Label：一般展示为采样器名称</li>
<li>samples：请求的总数量</li>
<li>average：总请求平均耗时</li>
<li>median:总请求耗时中位数</li>
<li>90%Line：总请求中90%请求耗时</li>
<li>95%Line：总请求中95%请求耗时</li>
<li>99%Line：总请求中99%请求耗时</li>
<li>min：所有请求中最小耗时</li>
<li>max：所有请求中最大耗时</li>
<li>Error：所有请求发生的错误率（一般有错误产生可以认为已经到达瓶颈）</li>
<li>throughput:即QPS</li>
<li>rec/sent:发送和接受的网速</li>
</ul>
<h5 id="断言–Assertions"><a href="#断言–Assertions" class="headerlink" title="断言–Assertions"></a>断言–Assertions</h5><p>我们已经介绍了JMeter如何击中服务器以及如何通过侦听器显示响应。为了确保收到的响应是正确的，并且符合预期，我们需要添加断言。断言只是我们需要放在响应上以比较结果的验证。有以下断言类型</p>
<ul>
<li>响应断言</li>
<li>持续时间断言</li>
<li>大小断言</li>
<li>XML断言</li>
<li>HTML断言</li>
</ul>
<h6 id="响应时间断言"><a href="#响应时间断言" class="headerlink" title="响应时间断言"></a>响应时间断言</h6><p>在响应断言中，我们可以添加自己的模式字符串，然后将它们与从服务器收到的响应进行比较。<em>例如，</em>当任何请求成功返回某些响应时，您都知道响应代码为 200。因此，如果我们添加模式字符串”响应代码 = 202”，则测试用例应该失败。</p>
<p><img src="image-20211214195434442.png" alt="image-20211214195434442"></p>
<h6 id="持续时间断言"><a href="#持续时间断言" class="headerlink" title="持续时间断言"></a>持续时间断言</h6><p>持续时间断言非常重要，可验证服务器是否在给定的时间内进行了响应。这可用于我们需要对 100 个请求进行采样并确保每次收到响应都在基准限制范围内的情况。</p>
<p><img src="image-20211214202706648.png" alt="image-20211214202706648"></p>
<p>XML 断言验证响应数据中是否包含正确的 XML 文档，HTML 断言验证从服务器收到的响应的 HTML 语法。</p>
<h5 id="元素配置–config-ELements"><a href="#元素配置–config-ELements" class="headerlink" title="元素配置–config ELements"></a>元素配置–config ELements</h5><p>发送到服务器的请求可以使用一些在实际请求之前执行的配置元素进一步参数化。一个简单的示例可能是从使用 CSV 数据集配置的 CSV 文件中读取变量的值。常用的配置元素有如下这些：</p>
<ul>
<li>CSV数据集配置</li>
<li>用户定义的参数</li>
<li>HTTPS请求默认</li>
<li>HTTPS缓存管理器</li>
<li>HTTPS COOKIE MANAGER</li>
</ul>
<h6 id="csv数据集配置"><a href="#csv数据集配置" class="headerlink" title="csv数据集配置"></a>csv数据集配置</h6><p>CSV数据集配置可帮助Jmeter从CSV文件中选取某些参数的值，而不是在每个单独的请求中传递不同的参数。<em>例如，</em>如果我们需要使用一组不同的用户和密码来测试登录功能，那么我们可以在CSV文件中创建两列并在那里输入值，以便JMeter可以为发送到服务器的每个请求选择一个。</p>
<p><img src="image-20211216160753990.png" alt="image-20211216160753990"></p>
<h6 id="用户定义的变量-User-Defined-Variables"><a href="#用户定义的变量-User-Defined-Variables" class="headerlink" title="用户定义的变量-User Defined Variables"></a>用户定义的变量-User Defined Variables</h6><p>它可以帮助Jmeter从预定义的变量中选取值。<em>例如，</em>支持您需要创建一个测试计划，您需要在同一URL上添加许多HTTP请求，并且可能存在客户端计划稍后将其迁移到某些不同 URL.So 的情况，以避免在每个请求中更新URL，我们可以告诉JMeter从UDV（用户定义的变量）中选取URL，该UDV可以在以后更新以处理对更新的URL的所有请求。</p>
<p>因此，为了避免在每个请求中更新URL，我们可以告诉JMeter从UDV（用户定义的变量）中选择URL，该UDV可以在以后更新以处理对更新URL的所有请求。</p>
<p><img src="image-20211216161303245.png" alt="image-20211216161303245"></p>
<h6 id="HTTP-请求默认值"><a href="#HTTP-请求默认值" class="headerlink" title="HTTP 请求默认值"></a>HTTP 请求默认值</h6><p>此配置元素对于指定 https 请求的默认值非常有用。为了指导您更多，请举个例子，我们需要在Google服务器上命中50个不同的请求。在这种情况下，如果我们添加HTTP请求默认值，则无需指定服务器名称，路径或任何其他属性，如端口号，连接超时属性。在 HTTP 请求默认配置元素中指定的任何内容都将由所有 HTTP 请求继承。</p>
<p>在这种情况下，如果我们添加HTTP请求默认值，则无需指定服务器名称，路径或任何其他属性，如端口号，连接超时属性。在 HTTP 请求默认配置元素中指定的任何内容都将由所有 HTTP 请求继承。</p>
<p><img src="image-20211216161420935.png" alt="image-20211216161420935"></p>
<p><strong>HTTP Cache Manager</strong>和<strong>HTTP Cookie Manager</strong>用于使 JMeter 充当实时浏览器。HTTP缓存管理器可以在每个请求后清除缓存，而另一个可以管理cookie设置。</p>
<h5 id="逻辑控制器和定时器"><a href="#逻辑控制器和定时器" class="headerlink" title="逻辑控制器和定时器"></a>逻辑控制器和定时器</h5><p>逻辑控制器和定时器帮助Jmeter控制交易流。如果需要测试任何服务器，计时器可确保每个线程中的延迟。<em>例如，</em>如果我们需要FTP请求在HTTP请求完成后等待5秒，我们可以在那里添加计时器。</p>
<p>逻辑控制器用于定义发送到服务器的请求流。它还可以让您分别存储每个模块的请求，例如登录和注销。</p>
<p><img src="image-20211216161518560.png" alt="image-20211216161518560"></p>
<h5 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h5><p>到目前为止，一定都熟悉了JMeter的组件，并尝试过使用它，并且一定面临一些问题。在下一篇文章中，将介绍一些涵盖移动领域的实时性能测试场景，以便大家获得更多关于JMeter的实践知识。</p>
<p><strong>敬请期待！下一篇文章将帮助管理请求，分析结果并与性能测试的基准进行比较。</strong></p>
]]></content>
      <categories>
        <category>测试</category>
      </categories>
      <tags>
        <tag>性能测试，JMeter</tag>
      </tags>
  </entry>
  <entry>
    <title>cetnos 7.7单节点安装部署k8s（v1.18.2）</title>
    <url>/Echo/2020/05/13/cetnos-7-7%E5%8D%95%E8%8A%82%E7%82%B9%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2k8s%EF%BC%88v1-18-2%EF%BC%89/</url>
    <content><![CDATA[<h4 id="1-配置hosts文件"><a href="#1-配置hosts文件" class="headerlink" title="1.配置hosts文件"></a>1.配置hosts文件</h4><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">vi /etc/hosts</span><br></pre></td></tr></table></figure>

<p>本机ip  本机hostname 本机hostname</p>
<h4 id="2-关闭防火墙-sawp等"><a href="#2-关闭防火墙-sawp等" class="headerlink" title="2.关闭防火墙, sawp等"></a>2.关闭防火墙, sawp等</h4><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">systemctl stop firewalld</span><br><span class="line">systemctl <span class="built_in">disable</span> firewalld</span><br><span class="line">swapoff -a <span class="comment">#此处为临时关闭</span></span><br></pre></td></tr></table></figure>

<p>#注释掉 /etc/fstab 里面这一行 /dev/mapper/centos-swap swap                    swap    defaults        0 0</p>
<h4 id="3-禁用selinux"><a href="#3-禁用selinux" class="headerlink" title="3.禁用selinux"></a>3.禁用selinux</h4><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">vi /etc/selinux/config</span><br><span class="line">SELINUX=disabled</span><br></pre></td></tr></table></figure>

<h4 id="4-修改iptables参数-RHEL-CentOS-7上的一些用户报告了由于iptables被绕过而导致流量路由不正确的问题"><a href="#4-修改iptables参数-RHEL-CentOS-7上的一些用户报告了由于iptables被绕过而导致流量路由不正确的问题" class="headerlink" title="4.修改iptables参数 :: RHEL / CentOS 7上的一些用户报告了由于iptables被绕过而导致流量路由不正确的问题"></a>4.修改iptables参数 :: RHEL / CentOS 7上的一些用户报告了由于iptables被绕过而导致流量路由不正确的问题</h4><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">cat &lt;&lt;<span class="string">EOF &gt;  /etc/sysctl.d/k8s.conf</span></span><br><span class="line"><span class="string">vm.swappiness = 0</span></span><br><span class="line"><span class="string">net.bridge.bridge-nf-call-ip6tables = 1</span></span><br><span class="line"><span class="string">net.bridge.bridge-nf-call-iptables = 1</span></span><br><span class="line"><span class="string">net.ipv4.ip_forward = 1</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line"><span class="comment">#使配置生效</span></span><br><span class="line">modprobe br_netfilter</span><br><span class="line">sysctl -p /etc/sysctl.d/k8s.conf</span><br></pre></td></tr></table></figure>

<h4 id="5-安装docker-使用阿里镜像"><a href="#5-安装docker-使用阿里镜像" class="headerlink" title="5.安装docker(使用阿里镜像)"></a>5.安装docker(使用阿里镜像)</h4><h5 id="step-1-安装必要的一些系统工具"><a href="#step-1-安装必要的一些系统工具" class="headerlink" title="step 1: 安装必要的一些系统工具"></a>step 1: 安装必要的一些系统工具</h5><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">sudo yum install -y yum-utils device-mapper-persistent-data lvm2</span><br></pre></td></tr></table></figure>

<h5 id="Step-2-添加软件源信息"><a href="#Step-2-添加软件源信息" class="headerlink" title="Step 2: 添加软件源信息"></a>Step 2: 添加软件源信息</h5><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">sudo yum-config-manager --add-repo https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</span><br></pre></td></tr></table></figure>

<h5 id="Step-3-更新并安装Docker-CE"><a href="#Step-3-更新并安装Docker-CE" class="headerlink" title="Step 3: 更新并安装Docker-CE"></a>Step 3: 更新并安装Docker-CE</h5><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">sudo yum makecache fast</span><br><span class="line">sudo yum -y install docker-ce</span><br></pre></td></tr></table></figure>

<h5 id="Step-4-开启Docker服务"><a href="#Step-4-开启Docker服务" class="headerlink" title="Step 4: 开启Docker服务"></a>Step 4: 开启Docker服务</h5><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">sudo service docker start</span><br></pre></td></tr></table></figure>

<h5 id="Step-5-修改cgroupdriver-和镜像地址"><a href="#Step-5-修改cgroupdriver-和镜像地址" class="headerlink" title="Step 5: 修改cgroupdriver 和镜像地址"></a>Step 5: 修改cgroupdriver 和镜像地址</h5><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">vi /etc/docker/daemon.json</span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;exec-opts&quot;</span>: [<span class="string">&quot;native.cgroupdriver=systemd&quot;</span>],</span><br><span class="line">  <span class="string">&quot;registry-mirrors&quot;</span>: [<span class="string">&quot;https://e7l8pkuq.mirror.aliyuncs.com&quot;</span>,<span class="string">&quot;https://hub-mirror.c.163.com/&quot;</span>,<span class="string">&quot;https://reg-mirror.qiniu.com&quot;</span>]</span><br><span class="line">&#125;</span><br><span class="line"> <span class="comment"># 安装校验 docker version</span></span><br></pre></td></tr></table></figure>

<h5 id="Step-6-安装kubernetes"><a href="#Step-6-安装kubernetes" class="headerlink" title="Step  6.安装kubernetes"></a>Step  6.安装kubernetes</h5><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">cat &lt;&lt;<span class="string">EOF &gt; /etc/yum.repos.d/kubernetes.repo</span></span><br><span class="line"><span class="string">[kubernetes]</span></span><br><span class="line"><span class="string">name=Kubernetes</span></span><br><span class="line"><span class="string">baseurl=https://mirrors.aliyun.com/kubernetes/yum/repos/kubernetes-el7-x86_64/</span></span><br><span class="line"><span class="string">enabled=1</span></span><br><span class="line"><span class="string">gpgcheck=1</span></span><br><span class="line"><span class="string">repo_gpgcheck=1</span></span><br><span class="line"><span class="string">gpgkey=https://mirrors.aliyun.com/kubernetes/yum/doc/yum-key.gpg https://mirrors.aliyun.com/kubernetes/yum/doc/rpm-package-key.gpg</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line">setenforce 0</span><br><span class="line">yum install -y kubelet kubeadm kubectl</span><br><span class="line">systemctl <span class="built_in">enable</span> kubelet &amp;&amp; systemctl start kubelet</span><br><span class="line"> <span class="comment"># 出现索引lgpg检查失败时，请用yum install -y --nogpgcheck kubelet kubeadm kubectl</span></span><br></pre></td></tr></table></figure>

<h5 id="step-7-kubeadm初始化安装"><a href="#step-7-kubeadm初始化安装" class="headerlink" title="step 7.kubeadm初始化安装"></a>step 7.kubeadm初始化安装</h5><p>kubeadm init –apiserver-advertise-address=本机IP –image-repository registry.aliyuncs.com/google_containers –kubernetes-version 版本号 –pod-network-cidr=10.244.0.0/16</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">kubeadm init --apiserver-advertise-address=192.168.94.129 --image-repository registry.aliyuncs.com/google_containers --kubernetes-version 1.18.2 --pod-network-cidr=10.244.0.0/16</span><br></pre></td></tr></table></figure>

<h5 id="step-8-初始化安装成功后进行配置"><a href="#step-8-初始化安装成功后进行配置" class="headerlink" title="step 8.初始化安装成功后进行配置"></a>step 8.初始化安装成功后进行配置</h5><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">mkdir -p <span class="variable">$HOME</span>/.kube</span><br><span class="line">sudo cp -i /etc/kubernetes/admin.conf <span class="variable">$HOME</span>/.kube/config</span><br><span class="line">sudo chown $(id -u):$(id -g) <span class="variable">$HOME</span>/.kube/config</span><br></pre></td></tr></table></figure>

<h5 id="step-9-查看kubelet状态"><a href="#step-9-查看kubelet状态" class="headerlink" title="step 9.查看kubelet状态"></a>step 9.查看kubelet状态</h5><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">systemctl status kubelet.service</span><br></pre></td></tr></table></figure>

<h5 id="step-10-确认每个组件的状态"><a href="#step-10-确认每个组件的状态" class="headerlink" title="step 10.确认每个组件的状态"></a>step 10.确认每个组件的状态</h5><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">kubectl get cs</span><br></pre></td></tr></table></figure>

<h5 id="step-11-查看node状态，此时会发现处于NoReady"><a href="#step-11-查看node状态，此时会发现处于NoReady" class="headerlink" title="step 11.查看node状态，此时会发现处于NoReady"></a>step 11.查看node状态，此时会发现处于NoReady</h5><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">kubectl get node</span><br></pre></td></tr></table></figure>

<h5 id="step-12-安装port-Network-flannel-k8s-cluster-工作-须安装pod网络，否则pod之间无法通信，k8s支持多种方案"><a href="#step-12-安装port-Network-flannel-k8s-cluster-工作-须安装pod网络，否则pod之间无法通信，k8s支持多种方案" class="headerlink" title="step 12.安装port Network( flannel )  : k8s cluster 工作 须安装pod网络，否则pod之间无法通信，k8s支持多种方案"></a>step 12.安装port Network( flannel )  : k8s cluster 工作 须安装pod网络，否则pod之间无法通信，k8s支持多种方案</h5><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">kubectl apply -f https://raw.githubusercontent.com/coreos/flannel/master/Documentation/kube-flannel.yml</span><br></pre></td></tr></table></figure>

<p>建议将kube-fannle文件拷贝至本地，将其中所需的镜像进行替换。</p>
<h5 id="step-13-检查pod-确保每个pod都是running"><a href="#step-13-检查pod-确保每个pod都是running" class="headerlink" title="step 13.检查pod,确保每个pod都是running"></a>step 13.检查pod,确保每个pod都是running</h5><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">kubectl get pod --all-namespaces -o wide</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>环境安装</category>
      </categories>
      <tags>
        <tag>K8S</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>cetnos 8.2单节点安装部署k8s（v1.18.2）</title>
    <url>/Echo/2020/08/10/cetnos-8-2%E5%8D%95%E8%8A%82%E7%82%B9%E5%AE%89%E8%A3%85%E9%83%A8%E7%BD%B2k8s%EF%BC%88v1-18-2%EF%BC%89/</url>
    <content><![CDATA[<h4 id="1-配置hosts文件"><a href="#1-配置hosts文件" class="headerlink" title="1.配置hosts文件"></a>1.配置hosts文件</h4><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">vi /etc/hosts</span><br></pre></td></tr></table></figure>

<p>本机ip  本机hostname 本机hostname</p>
<h4 id="2-关闭防火墙-sawp等"><a href="#2-关闭防火墙-sawp等" class="headerlink" title="2.关闭防火墙, sawp等"></a>2.关闭防火墙, sawp等</h4><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">systemctl stop firewalld</span><br><span class="line">systemctl <span class="built_in">disable</span> firewalld</span><br></pre></td></tr></table></figure>

<h4 id="3-关闭swap"><a href="#3-关闭swap" class="headerlink" title="3.关闭swap"></a>3.关闭swap</h4><h4 id="4-禁用selinux"><a href="#4-禁用selinux" class="headerlink" title="4.禁用selinux"></a>4.禁用selinux</h4><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">vi /etc/selinux/config</span><br><span class="line">SELINUX=disabled</span><br><span class="line">/usr/sbin/sestatus -v  <span class="comment"># 查看selinux状态</span></span><br></pre></td></tr></table></figure>

<h4 id="5-安装docker"><a href="#5-安装docker" class="headerlink" title="5.安装docker"></a>5.安装docker</h4><h5 id="step-1-安装必要的一些系统工具"><a href="#step-1-安装必要的一些系统工具" class="headerlink" title="step 1: 安装必要的一些系统工具"></a>step 1: 安装必要的一些系统工具</h5><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">sudo yum install -y yum-utils device-mapper-persistent-data lvm2</span><br></pre></td></tr></table></figure>

<h5 id="Step-2-添加软件源信息"><a href="#Step-2-添加软件源信息" class="headerlink" title="Step 2: 添加软件源信息"></a>Step 2: 添加软件源信息</h5><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">sudo yum-config-manager --add-repo https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</span><br></pre></td></tr></table></figure>

<h5 id="Step-3-更新并安装Docker-CE"><a href="#Step-3-更新并安装Docker-CE" class="headerlink" title="Step 3: 更新并安装Docker-CE"></a>Step 3: 更新并安装Docker-CE</h5><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">yum makecache --refresh</span><br><span class="line">sudo yum -y install docker-ce</span><br><span class="line"><span class="comment"># 发现报错：Problem: package docker-ce-3:19.03.12-3.el7.x86_64 requires containerd.io &gt;= 1.2.2-3, but none of the providers can be installed</span></span><br><span class="line"><span class="comment"># 因为containerd 版本过低</span></span><br><span class="line">dnf install container-selinux</span><br><span class="line">通过yum -y install https://download.docker.com/linux/centos/7/x86_64/edge/Packages/containerd.io-1.2.6-3.3.el7.x86_64.rpm 升级即可</span><br></pre></td></tr></table></figure>

<h5 id="Step-4-docker-修改Cgroup-Driver以及docker镜像拉取地址"><a href="#Step-4-docker-修改Cgroup-Driver以及docker镜像拉取地址" class="headerlink" title="Step 4: docker 修改Cgroup Driver以及docker镜像拉取地址"></a>Step 4: docker 修改Cgroup Driver以及docker镜像拉取地址</h5><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"> cat /etc/docker/daemon.json</span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;registry-mirrors&quot;</span>: [<span class="string">&quot;https://e7l8pkuq.mirror.aliyuncs.com&quot;</span>],</span><br><span class="line">  <span class="string">&quot;exec-opts&quot;</span>: [<span class="string">&quot;native.cgroupdriver=systemd&quot;</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="Step-5-开启Docker服务"><a href="#Step-5-开启Docker服务" class="headerlink" title="Step 5: 开启Docker服务"></a>Step 5: 开启Docker服务</h5><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">sudo service docker start</span><br></pre></td></tr></table></figure>

<h4 id="6-安装kubectl"><a href="#6-安装kubectl" class="headerlink" title="6.安装kubectl"></a>6.安装kubectl</h4><h5 id="step-1：下载最新kubectl最新资源"><a href="#step-1：下载最新kubectl最新资源" class="headerlink" title="step 1：下载最新kubectl最新资源"></a>step 1：下载最新kubectl最新资源</h5><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">curl -LO <span class="string">&quot;https://storage.googleapis.com/kubernetes-release/release/<span class="subst">$(curl -s https://storage.googleapis.com/kubernetes-release/release/stable.txt)</span>/bin/linux/amd64/kubectl&quot;</span></span><br></pre></td></tr></table></figure>

<h5 id="step-2：添加执行权限"><a href="#step-2：添加执行权限" class="headerlink" title="step 2：添加执行权限"></a>step 2：添加执行权限</h5><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">chmod +x ./kubectl</span><br></pre></td></tr></table></figure>

<h5 id="step-3：移动kubectl至bin路径"><a href="#step-3：移动kubectl至bin路径" class="headerlink" title="step 3：移动kubectl至bin路径"></a>step 3：移动kubectl至bin路径</h5><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">sudo mv ./kubectl /usr/<span class="built_in">local</span>/bin/kubectl</span><br></pre></td></tr></table></figure>

<h5 id="step-4：确认安装的版本"><a href="#step-4：确认安装的版本" class="headerlink" title="step 4：确认安装的版本"></a>step 4：确认安装的版本</h5><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">kubectl version --client</span><br></pre></td></tr></table></figure>

<h4 id="7-安装minikube"><a href="#7-安装minikube" class="headerlink" title="7.安装minikube"></a>7.安装minikube</h4><h5 id="step-1：确认是否支持虚拟化"><a href="#step-1：确认是否支持虚拟化" class="headerlink" title="step 1：确认是否支持虚拟化"></a>step 1：确认是否支持虚拟化</h5><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">grep -E --color <span class="string">&#x27;vmx|svm&#x27;</span> /proc/cpuinfo</span><br></pre></td></tr></table></figure>



<h5 id="step-2：下载minikube资源"><a href="#step-2：下载minikube资源" class="headerlink" title="step 2：下载minikube资源"></a>step 2：下载minikube资源</h5><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">curl -Lo minikube https://storage.googleapis.com/minikube/releases/latest/minikube-linux-amd64 \</span><br><span class="line">  &amp;&amp; chmod +x minikube</span><br></pre></td></tr></table></figure>



<h5 id="step-3：添加minikube进入系统命令"><a href="#step-3：添加minikube进入系统命令" class="headerlink" title="step 3：添加minikube进入系统命令"></a>step 3：添加minikube进入系统命令</h5><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">sudo mkdir -p /usr/<span class="built_in">local</span>/bin/</span><br><span class="line">sudo install minikube /usr/<span class="built_in">local</span>/bin/</span><br></pre></td></tr></table></figure>



<h5 id="step-4：启动-minikube（使用的VM安装的centos-8因此设置driver-none）"><a href="#step-4：启动-minikube（使用的VM安装的centos-8因此设置driver-none）" class="headerlink" title="step 4：启动 minikube（使用的VM安装的centos 8因此设置driver=none）"></a>step 4：启动 minikube（使用的VM安装的centos 8因此设置driver=none）</h5><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">minikube start --driver=none --image-repository=registry.cn-hangzhou.aliyuncs.com/google_containers</span><br></pre></td></tr></table></figure>



<h5 id="step-5：确认minikube状态"><a href="#step-5：确认minikube状态" class="headerlink" title="step 5：确认minikube状态"></a>step 5：确认minikube状态</h5><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">minikube status</span><br></pre></td></tr></table></figure>

<p>8.istio安装</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">istioctl manifest apply --<span class="built_in">set</span> profile=demo</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>环境安装</category>
      </categories>
      <tags>
        <tag>K8S</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>emqtt_bench安装与压测MQTTbroker</title>
    <url>/Echo/2021/12/15/emqtt-bench%E5%AE%89%E8%A3%85%E4%B8%8E%E5%8E%8B%E6%B5%8BMQTTbroker/</url>
    <content><![CDATA[<h4 id="EMQX"><a href="#EMQX" class="headerlink" title="EMQX"></a>EMQX</h4><p><em>EMQ X</em> (Erlang/Enterprise/Elastic MQTT Broker) 是基于 Erlang/OTP 平台开发的开源物联网 MQTT 消息服务器。</p>
<p>Erlang/OTP是出色的软实时 (Soft-Realtime)、低延时 (Low-Latency)、分布式 (Distributed)的语言平台。</p>
<p>MQTT 是轻量的 (Lightweight)、发布订阅模式 (PubSub) 的物联网消息协议。</p>
<p>EMQ X 设计目标是实现高可靠，并支持承载海量物联网终端的MQTT连接，支持在海量物联网设备间低延时消息路由:</p>
<ol>
<li>稳定承载大规模的 MQTT 客户端连接，单服务器节点支持50万到100万连接。</li>
<li>分布式节点集群，快速低延时的消息路由，单集群支持1000万规模的路由。</li>
<li>消息服务器内扩展，支持定制多种认证方式、高效存储消息到后端数据库。</li>
<li>完整物联网协议支持，MQTT、MQTT-SN、CoAP、LwM2M、WebSocket 或私有协议支持。</li>
</ol>
<h4 id="emqtt-bench"><a href="#emqtt-bench" class="headerlink" title="emqtt_bench"></a>emqtt_bench</h4><p><a href="https://github.com/emqx/emqtt_bench">emqtt_bench (opens new window)</a>是基于 Erlang 编写的，一个简洁强大的 MQTT 协议性能测试工具。</p>
<h4 id="EMQX安装"><a href="#EMQX安装" class="headerlink" title="EMQX安装"></a>EMQX安装</h4><p>emqx安装比较简单，可以参照<a href="https://docs.emqx.cn/broker/v4.3/getting-started/install.html">安装 | EMQ Docs (emqx.cn)</a>进行。</p>
<h4 id="emqtt-bench安装"><a href="#emqtt-bench安装" class="headerlink" title="emqtt_bench安装"></a>emqtt_bench安装</h4><p>结合官网介绍需要 Erlang/OTP 22.3+以上，但是经过尝试最新版的Erlang不太兼容，所以还是老老实实用22.3了。</p>
<h6 id="1-前提准备"><a href="#1-前提准备" class="headerlink" title="1.前提准备"></a>1.前提准备</h6><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 各种依赖，缺乏可能会导致意外问题</span></span><br><span class="line">yum -y install ncurses-devel openssl-devel unixODBC-devel gcc-c++ perl</span><br></pre></td></tr></table></figure>

<h6 id="2-安装Erlang-22-3"><a href="#2-安装Erlang-22-3" class="headerlink" title="2.安装Erlang 22.3"></a>2.安装Erlang 22.3</h6><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 切换到安装目录此处建议用opt文件夹</span></span><br><span class="line"><span class="built_in">cd</span> /opt</span><br><span class="line"><span class="comment"># 下载Erlang</span></span><br><span class="line">wget http://erlang.org/download/otp_src_22.3.tar.gz</span><br><span class="line"><span class="comment"># 解压</span></span><br><span class="line">tar -zxvf otp_src_22.3</span><br><span class="line">.tar.gz</span><br><span class="line"><span class="comment"># 切换到解压后的erlang安装包</span></span><br><span class="line"><span class="built_in">cd</span> otp_src_22.3</span><br><span class="line"><span class="comment"># 开始安装</span></span><br><span class="line">./configure &amp; make &amp; make install</span><br><span class="line"><span class="comment"># 查看版本</span></span><br><span class="line">erl</span><br></pre></td></tr></table></figure>

<p><img src="image-20211216170648216.png" alt="image-20211216170648216"></p>
<h6 id="3-安装新版git（因后续在emqtt-bench-make时centos7自带git版本较低导致问题）"><a href="#3-安装新版git（因后续在emqtt-bench-make时centos7自带git版本较低导致问题）" class="headerlink" title="3.安装新版git（因后续在emqtt_bench make时centos7自带git版本较低导致问题）"></a>3.安装新版git（因后续在emqtt_bench make时centos7自带git版本较低导致问题）</h6><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 更新系统资源包</span></span><br><span class="line">yum install http://opensource.wandisco.com/centos/7/git/x86_64/wandisco-git-release-7-2.noarch.rpm</span><br><span class="line"><span class="comment"># 安装git</span></span><br><span class="line">yum install -y git</span><br><span class="line"><span class="comment"># 查看git版本</span></span><br><span class="line">git --version</span><br></pre></td></tr></table></figure>

<p>4.安装emqtt_bench</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 安装依赖</span></span><br><span class="line">yum install -y libatomic</span><br><span class="line"><span class="meta">#</span><span class="bash"> 安装</span></span><br><span class="line">git clone https://github.com/emqx/emqtt-bench</span><br><span class="line">cd emqtt-bench</span><br><span class="line"><span class="meta">#</span><span class="bash"> 因为QUIC目前不稳定所以选择禁用QUIC</span></span><br><span class="line">BUILD_WITHOUT_QUIC=1 make</span><br><span class="line"><span class="meta">#</span><span class="bash"> 验证</span></span><br><span class="line">./emqtt_bench</span><br></pre></td></tr></table></figure>

<p>输出Usage: emqtt_bench pub | sub | conn [–help]即为安装成功</p>
<h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><p>安装中遇到的问题有以下两个</p>
<h6 id="1-make失败（报错GUN版本）"><a href="#1-make失败（报错GUN版本）" class="headerlink" title="1.make失败（报错GUN版本）"></a>1.make失败（报错GUN版本）</h6><p>经排查此问题为QUIC功能不能使用导致，使用禁用模式make即可</p>
<h6 id="2-有部分git资源下载失败"><a href="#2-有部分git资源下载失败" class="headerlink" title="2.有部分git资源下载失败"></a>2.有部分git资源下载失败</h6><p><img src="image-20211216171321403.png" alt="image-20211216171321403"></p>
<p><strong>cd /opt/emqtt-bench/_build/default/lib/quicer/msquic/submodules</strong></p>
<p><strong>git clone git://github.com/google/googletest</strong></p>
<h4 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h4><p><code>emqtt_bench</code> 共三个子命令：</p>
<ol>
<li><code>pub</code>：用于创建大量客户端执行发布消息的操作。</li>
<li><code>sub</code>：用于创建大量客户端执行订阅主题，并接受消息的操作。</li>
<li><code>conn</code>：用于创建大量的连接</li>
</ol>
<p>参数</p>
<table>
<thead>
<tr>
<th align="left">参数</th>
<th>简写</th>
<th>可选值</th>
<th>默认值</th>
<th align="left">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="left">–host</td>
<td>-h</td>
<td>-</td>
<td>localhost</td>
<td align="left">要连接的 MQTT 服务器地址</td>
</tr>
<tr>
<td align="left">–port</td>
<td>-p</td>
<td>-</td>
<td>1883</td>
<td align="left">MQTT 服务端口</td>
</tr>
<tr>
<td align="left">–version</td>
<td>-V</td>
<td>3 4 5</td>
<td>5</td>
<td align="left">使用的 MQTT 协议版本</td>
</tr>
<tr>
<td align="left">–count</td>
<td>-c</td>
<td>-</td>
<td>200</td>
<td align="left">客户端总数</td>
</tr>
<tr>
<td align="left">–startnumber</td>
<td>-n</td>
<td>-</td>
<td>0</td>
<td align="left">客户端数量起始值</td>
</tr>
<tr>
<td align="left">–interval</td>
<td>-i</td>
<td>-</td>
<td>10</td>
<td align="left">每间隔多少时间创建一个客户端；单位：毫秒</td>
</tr>
<tr>
<td align="left">–interval_of_msg</td>
<td>-I</td>
<td>-</td>
<td>1000</td>
<td align="left">每间隔多少时间发送一个消息</td>
</tr>
<tr>
<td align="left">–username</td>
<td>-u</td>
<td>-</td>
<td>无；非必选</td>
<td align="left">客户端用户名</td>
</tr>
<tr>
<td align="left">–password</td>
<td>-P</td>
<td>-</td>
<td>无；非必选</td>
<td align="left">客户端密码</td>
</tr>
<tr>
<td align="left">–topic</td>
<td>-t</td>
<td>-</td>
<td>无；必选</td>
<td align="left">发布的主题；支持站位符： <code>%c</code>：表示 ClientId <code>%u</code>：表示 Username <code>%i</code>：表示客户端的序列数</td>
</tr>
<tr>
<td align="left">–szie</td>
<td>-s</td>
<td>-</td>
<td>256</td>
<td align="left">消息 Payload 的大小；单位：字节</td>
</tr>
<tr>
<td align="left">–qos</td>
<td>-q</td>
<td>-</td>
<td>0</td>
<td align="left">Qos 等级</td>
</tr>
<tr>
<td align="left">–retain</td>
<td>-r</td>
<td>true false</td>
<td>false</td>
<td align="left">消息是否设置 Retain 标志</td>
</tr>
<tr>
<td align="left">–keepalive</td>
<td>-k</td>
<td>-</td>
<td>300</td>
<td align="left">客户端心跳时间</td>
</tr>
<tr>
<td align="left">–clean</td>
<td>-C</td>
<td>true false</td>
<td>true</td>
<td align="left">是否以清除会话的方式建立连接</td>
</tr>
<tr>
<td align="left">–ssl</td>
<td>-S</td>
<td>true false</td>
<td>false</td>
<td align="left">是否启用 SSL</td>
</tr>
<tr>
<td align="left">–certfile</td>
<td>-</td>
<td>-</td>
<td>无</td>
<td align="left">客户端 SSL 证书</td>
</tr>
<tr>
<td align="left">–keyfile</td>
<td>-</td>
<td>-</td>
<td>无</td>
<td align="left">客户端 SSL 秘钥文件</td>
</tr>
<tr>
<td align="left">–ws</td>
<td>-</td>
<td>true false</td>
<td>false</td>
<td align="left">是否以 Websocket 的方式建立连接</td>
</tr>
<tr>
<td align="left">–ifaddr</td>
<td>-</td>
<td>-</td>
<td>无</td>
<td align="left">指定客户端连接使用的本地网卡</td>
</tr>
</tbody></table>
<h4 id="吞吐量性能压测"><a href="#吞吐量性能压测" class="headerlink" title="吞吐量性能压测"></a>吞吐量性能压测</h4><p>bench1上执行</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">./emqtt_bench sub -t t -h EMQQserverIP -c 500</span><br></pre></td></tr></table></figure>

<p>bench2 上执行</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">./emqtt_bench pub -t t -h EMQQserverIP -c 20 -I 100</span><br></pre></td></tr></table></figure>

<p>在bench1上可以观察到</p>
<p><strong>ecv(28006): total=2102563, rate=99725(msg/sec）</strong></p>
]]></content>
      <categories>
        <category>测试</category>
      </categories>
      <tags>
        <tag>性能测试</tag>
        <tag>mqtt</tag>
      </tags>
  </entry>
  <entry>
    <title>HBase shell命令</title>
    <url>/Echo/2020/03/13/hbase%E7%9B%B8%E5%85%B3%E5%91%BD%E4%BB%A4/</url>
    <content><![CDATA[<h4 id="HBase简介"><a href="#HBase简介" class="headerlink" title="HBase简介"></a>HBase简介</h4><p>HBase 命名的起源是 Hadoop database，Hadoop数据库，是NoSQL数据库，基于列式存储而非行式存储。</p>
<p>HBase是一个分布式的、面向列的、基于Google Bigtable的开源实现。</p>
<ul>
<li>利用Hadoop HDFS作为其文件存储系统</li>
<li>利用Hadoop MapReduce来处理HBase中的海量数据</li>
<li>利用Zookeeper作为协同服务</li>
</ul>
<h4 id="HBase数据模型"><a href="#HBase数据模型" class="headerlink" title="HBase数据模型"></a>HBase数据模型</h4><p>HBase是一个稀疏、多维度、有序的映射表。表有行和列组成，列划分为若干个列族/列簇(column family)，每个列族/列簇下面可以有多个普通列。</p>
<p><img src="5-1Z5091305564M.gif" alt="5-1Z5091305564M"></p>
<h4 id="HBase-shell-命令"><a href="#HBase-shell-命令" class="headerlink" title="HBase shell 命令"></a>HBase shell 命令</h4><h5 id="进入-HBase-shell"><a href="#进入-HBase-shell" class="headerlink" title="进入 HBase shell"></a>进入 HBase shell</h5><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">hbase shell</span><br></pre></td></tr></table></figure>



<h5 id="HBase版本状态查看"><a href="#HBase版本状态查看" class="headerlink" title="HBase版本状态查看"></a>HBase版本状态查看</h5><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 查询状态</span></span><br><span class="line">status</span><br><span class="line"><span class="meta">#</span><span class="bash"> 查询版本</span></span><br><span class="line">version</span><br><span class="line"><span class="meta">#</span><span class="bash"> 查看当前操作用户</span></span><br><span class="line">whoami</span><br><span class="line"><span class="meta">#</span><span class="bash"> 帮助命令</span></span><br><span class="line">help</span><br><span class="line"><span class="meta">#</span><span class="bash"> 查看hbase支持的工具</span></span><br><span class="line">tools</span><br></pre></td></tr></table></figure>

<h5 id="DDL操作"><a href="#DDL操作" class="headerlink" title="DDL操作"></a>DDL操作</h5><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 创建一个表</span></span><br><span class="line">create<span class="string">&#x27;table&#x27;</span>,<span class="string">&#x27;column_famaly&#x27;</span>,<span class="string">&#x27;column_famaly1&#x27;</span>,<span class="string">&#x27;column_famaly2&#x27;</span></span><br><span class="line"><span class="comment"># 列出所有表</span></span><br><span class="line">list</span><br><span class="line"><span class="comment"># 获取表的描述</span></span><br><span class="line">describe<span class="string">&#x27;table&#x27;</span></span><br><span class="line"><span class="comment"># 删除一个列族</span></span><br><span class="line">alter<span class="string">&#x27;table&#x27;</span>,&#123;NAME=&gt;<span class="string">&#x27;column_famaly&#x27;</span>,METHOD=&gt;<span class="string">&#x27;delete&#x27;</span>&#125;</span><br><span class="line"><span class="comment"># 删除一个表</span></span><br><span class="line"><span class="comment"># ① 要删除的表设置为disable</span></span><br><span class="line"><span class="built_in">disable</span><span class="string">&#x27;table&#x27;</span></span><br><span class="line"><span class="comment"># ② 删除表</span></span><br><span class="line">drop <span class="string">&#x27;table&#x27;</span></span><br><span class="line"><span class="comment"># 查询表是否存在</span></span><br><span class="line">exists<span class="string">&#x27;table&#x27;</span></span><br><span class="line"><span class="comment"># 查看表是否可用</span></span><br><span class="line">is_enabled<span class="string">&#x27;table&#x27;</span></span><br></pre></td></tr></table></figure>

<h5 id="DML操作"><a href="#DML操作" class="headerlink" title="DML操作"></a>DML操作</h5><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 插入数据</span></span><br><span class="line">put<span class="string">&#x27;table&#x27;</span>,<span class="string">&#x27;rw1&#x27;</span>,<span class="string">&#x27;col1:name&#x27;</span>,<span class="string">&#x27;name&#x27;</span></span><br><span class="line"><span class="comment"># 获取row1所有数据</span></span><br><span class="line">get <span class="string">&#x27;table&#x27;</span>,<span class="string">&#x27;rw1&#x27;</span></span><br><span class="line"><span class="comment"># 获取表row1，col1所有数据</span></span><br><span class="line">get<span class="string">&#x27;table&#x27;</span>,<span class="string">&#x27;rw1&#x27;</span>,<span class="string">&#x27;col1&#x27;</span></span><br><span class="line"><span class="comment"># 更新一条数据</span></span><br><span class="line">put <span class="string">&#x27;table&#x27;</span>,<span class="string">&#x27;rw1&#x27;</span>,<span class="string">&#x27;col1:name&#x27;</span>,<span class="string">&#x27;name1&#x27;</span></span><br><span class="line"><span class="comment"># 通过时间戳获取数据</span></span><br><span class="line">get <span class="string">&#x27;table&#x27;</span>,<span class="string">&#x27;rw1&#x27;</span>,&#123;COLUMN=&gt;<span class="string">&#x27;col1:name&#x27;</span>,TIMESTAMP=&gt;1463055736277&#125;</span><br><span class="line"><span class="comment"># 扫描整张表（数据量大时不建议此操作）</span></span><br><span class="line">scan <span class="string">&#x27;table&#x27;</span></span><br><span class="line"><span class="comment"># 删除一列</span></span><br><span class="line">delete <span class="string">&#x27;table&#x27;</span>,<span class="string">&#x27;rw1&#x27;</span>,<span class="string">&#x27;col1:name&#x27;</span></span><br><span class="line"><span class="comment"># 删除行所有的数据</span></span><br><span class="line">deleteall <span class="string">&#x27;table&#x27;</span>,<span class="string">&#x27;rw1&#x27;</span></span><br><span class="line"><span class="comment"># 统计表中的行数</span></span><br><span class="line">count <span class="string">&#x27;table&#x27;</span></span><br><span class="line"><span class="comment"># 清空整张表（清空表后，表的分区设置会默认为1不建议）</span></span><br><span class="line">truncate <span class="string">&#x27;table&#x27;</span></span><br></pre></td></tr></table></figure>

<h5 id="退出操作"><a href="#退出操作" class="headerlink" title="退出操作"></a>退出操作</h5><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 退出</span></span><br><span class="line"><span class="built_in">exit</span></span><br><span class="line"><span class="comment"># 关闭hbase集群（危险操作！！！）</span></span><br><span class="line">shutdown</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>大数据</category>
      </categories>
      <tags>
        <tag>大数据</tag>
        <tag>HBase</tag>
      </tags>
  </entry>
  <entry>
    <title>jekins环境搭建</title>
    <url>/Echo/2021/08/31/jekins%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/</url>
    <content><![CDATA[<table>
<thead>
<tr>
<th>环境</th>
<th>版本</th>
<th>包</th>
</tr>
</thead>
<tbody><tr>
<td>JDK</td>
<td>11.0.2</td>
<td>jdk-11.0.2_linux-x64_bin.tar.gz</td>
</tr>
<tr>
<td>Maven</td>
<td>3.8.1</td>
<td>apache-maven-3.8.1-bin.tar.gz</td>
</tr>
<tr>
<td>Git</td>
<td>2.9.5</td>
<td>git-2.9.5.tar.gz</td>
</tr>
<tr>
<td>Jenkins</td>
<td>2.303.1 LTS</td>
<td>jenkins.war</td>
</tr>
</tbody></table>
<p>注：Jenkins的中英文系统跟随操作系统保持一致，如果想使用中文Jenkins，操作系统需要设置中文：<strong>zh_CN.UTF-8</strong></p>
<h1 id="1-JDK安装部署"><a href="#1-JDK安装部署" class="headerlink" title="1.JDK安装部署"></a>1.JDK安装部署</h1><h2 id="1-1-旧JDK卸载"><a href="#1-1-旧JDK卸载" class="headerlink" title="1.1 旧JDK卸载"></a>1.1 旧JDK卸载</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">rpm -qa | grep -i java | xargs -n1 sudo rpm -e --nodeps</span><br><span class="line">rpm -qa：表示查询所有已经安装的软件包</span><br><span class="line">grep -i：表示过滤时不区分大小写</span><br><span class="line">xargs -n1：表示一次获取上次执行结果的一个值</span><br><span class="line">rpm -e --nodeps：表示卸载软件</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="1-2-安装指定JDK"><a href="#1-2-安装指定JDK" class="headerlink" title="1.2 安装指定JDK"></a>1.2 安装指定JDK</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 创建节点安装服务目录</span><br><span class="line">mkdir /opt/software</span><br><span class="line"># 解压JDK</span><br><span class="line">tar -zxvf jdk-11.0.2_linux-x64_bin.tar.gz -C /opt/software/</span><br><span class="line"># 配置环境变量</span><br><span class="line">vim /etc/profile</span><br><span class="line">export JAVA_HOME=/opt/software/jdk-11.0.2</span><br><span class="line">export PATH=$PATH:$JAVA_HOME/bin</span><br><span class="line">source /etc/profile</span><br><span class="line"># 验证JDK安装</span><br><span class="line">java -version</span><br></pre></td></tr></table></figure>

<h1 id="2-关闭防火墙"><a href="#2-关闭防火墙" class="headerlink" title="2.关闭防火墙"></a>2.关闭防火墙</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">systemctl status firewalld		# 查看防火墙的状态</span><br><span class="line">systemctl stop firewalld		# 关闭防火墙</span><br><span class="line">systemctl disable firewalld		# 设置开机不启动</span><br><span class="line">systemctl is-enabled firewalld	# 查看防火墙服务是否设置开机启动</span><br></pre></td></tr></table></figure>

<h1 id="3-安装Maven"><a href="#3-安装Maven" class="headerlink" title="3.安装Maven"></a>3.安装Maven</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 解压maven</span><br><span class="line">tar -zxvf apache-maven-3.8.1-bin.tar.gz -C /opt/software/</span><br><span class="line"># 配置环境变量</span><br><span class="line">vim /etc/profile</span><br><span class="line">export JAVA_HOME=/opt/software/jdk-11.0.2</span><br><span class="line">export MAVNE_HOME=/opt/software/apache-maven-3.8.1</span><br><span class="line">export PATH=$PATH:$JAVA_HOME/bin:$MAVNE_HOME/bin</span><br><span class="line">source /etc/profile</span><br><span class="line"># 检查maven安装</span><br><span class="line">mvn -version</span><br></pre></td></tr></table></figure>

<h1 id="4-安装Git"><a href="#4-安装Git" class="headerlink" title="4.安装Git"></a>4.安装Git</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 1.安装编译 git 时需要的包</span><br><span class="line">yum install -y curl-devel expat-devel gettext-devel openssl-devel zlib-devel</span><br><span class="line">yum install -y gcc perl-ExtUtils-MakeMaker</span><br><span class="line"># 2.删除已有的 git</span><br><span class="line">yum remove -y git</span><br><span class="line"># 3.Git 官网下载 Git 最新版 tar 包，解压到/opt/software目录下</span><br><span class="line">tar -zxvf git-2.9.5.tar.gz -C /opt/software/</span><br><span class="line"># 4.编译安装</span><br><span class="line">cd /opt/software/git-2.9.5/</span><br><span class="line">make prefix=/usr/local/git all</span><br><span class="line">make prefix=/usr/local/git install</span><br><span class="line">echo &quot;export PATH=$PATH:/usr/local/git/bin&quot; &gt;&gt; /etc/bashrc</span><br><span class="line">source /etc/bashrc</span><br><span class="line"># 5.检查一下版本号</span><br><span class="line">git --version</span><br></pre></td></tr></table></figure>

<h1 id="5-搭建Jenkins"><a href="#5-搭建Jenkins" class="headerlink" title="5.搭建Jenkins"></a>5.搭建Jenkins</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">yum install -y fontconfig</span><br><span class="line"># Jenkins可以直接运行</span><br></pre></td></tr></table></figure>

<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">nohup /usr/bin/java -jar /root/jenkins.war  --logfile=/var/<span class="built_in">log</span>/jenkins_server.log --httpPort=8088 &gt;  /root/jenkins_server.log 2&gt;&amp; 1 &amp;**</span><br></pre></td></tr></table></figure>

<p>设置开机启动<br> vim /etc/rc.local</p>
<h2 id="5-1-访问jekins"><a href="#5-1-访问jekins" class="headerlink" title="5.1 访问jekins"></a>5.1 访问jekins</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">http://yellow.bigdata:8088</span><br></pre></td></tr></table></figure>

<h2 id="5-2-解锁Jenkins"><a href="#5-2-解锁Jenkins" class="headerlink" title="5.2 解锁Jenkins"></a>5.2 解锁Jenkins</h2><p>依据提示，查看/root/.jenkins/secrets/initialAdminPassword文件中内容，填入文本框，这里填写的密码，也是admin账号的密码</p>
<p><img src="image-20211113151335779.png" alt="image-20211113151335779"></p>
<h2 id="5-3-选择插件安装模式"><a href="#5-3-选择插件安装模式" class="headerlink" title="5.3 选择插件安装模式"></a>5.3 选择插件安装模式</h2><p>选择哪种插件的安装方式都可以，对后续操作没有太大影响，若后面有需要可以有针对性的安装插件，本次选择 “<strong>安装推荐的插件</strong>”，此时安装插件节点必须能够联网。</p>
<p><img src="image-20211113153312956.png" alt="image-20211113153312956"></p>
<p><img src="image-20211113153332209.png" alt="image-20211113153332209"></p>
<p>打×的插件是由于网络传输导致的安装失败，后面再重新安装即可</p>
<h2 id="5-4-新建账号或以管理员身份继续"><a href="#5-4-新建账号或以管理员身份继续" class="headerlink" title="5.4 新建账号或以管理员身份继续"></a>5.4 新建账号或以管理员身份继续</h2><p>可以选择使用admin账户继续，后面仍然有机会注册新账户</p>
<p><img src="image-20211113153358671.png" alt="image-20211113153358671"></p>
<h2 id="5-5-实例配置"><a href="#5-5-实例配置" class="headerlink" title="5.5 实例配置"></a>5.5 实例配置</h2><p><img src="image-20211113153424306.png" alt="image-20211113153424306"></p>
<h2 id="5-6-开始使用Jenkins"><a href="#5-6-开始使用Jenkins" class="headerlink" title="5.6 开始使用Jenkins"></a>5.6 开始使用Jenkins</h2><p><img src="image-20211113153454866.png" alt="image-20211113153454866"></p>
<p><img src="image-20211113153524832.png" alt="image-20211113153524832"></p>
<h2 id="5-7-Jenkins设置中文"><a href="#5-7-Jenkins设置中文" class="headerlink" title="5.7 Jenkins设置中文"></a>5.7 Jenkins设置中文</h2><p>安装插件 Locale plugin , Localization: Chinese (Simplified) , Localization Support Plugin，如果失败就再安装一次</p>
<p><img src="image-20211113153552830.png" alt="image-20211113153552830"></p>
<p>重启：<a href="http://yellow.bigdata:8088/restart">http://yellow.bigdata:8088/restart</a><br> 如果出现部分汉化，部分没有汉化，则卸载插件，重新安装插件<br> 如果还是存在部分汉化，部分没有汉化的现象，则如下操作：<br> 1.先设置Default Language：zh_US（含义：英文）<br> 2.重启Jenkins<br> 3.再设置Default Language：zh_CN（含义：中文）<br> 4.刷新即可</p>
<h1 id="6-Jenkins系统管理初始化设置"><a href="#6-Jenkins系统管理初始化设置" class="headerlink" title="6.Jenkins系统管理初始化设置"></a>6.Jenkins系统管理初始化设置</h1><h2 id="6-1-全局工具配置"><a href="#6-1-全局工具配置" class="headerlink" title="6.1 全局工具配置"></a>6.1 全局工具配置</h2><p><img src="image-20211113153642733.png" alt="image-20211113153642733"></p>
<p>JDK</p>
<p><img src="image-20211113153701355.png" alt="image-20211113153701355"></p>
<p>Git</p>
<p><img src="image-20211113153722363.png" alt="image-20211113153722363"></p>
<p>Maven</p>
<p><img src="image-20211113153742157.png" alt="image-20211113153742157"></p>
]]></content>
      <categories>
        <category>环境安装</category>
      </categories>
      <tags>
        <tag>jekins</tag>
        <tag>CI/CD</tag>
      </tags>
  </entry>
  <entry>
    <title>Yarn REST API 使用指南</title>
    <url>/Echo/2021/11/13/Yarn-ResourceManager-REST-API-%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/</url>
    <content><![CDATA[<p>Yarn作为一款优秀的开源集群管理工具，可以用它来运行Hadoop，Spark，Flink等大数据处理任务。所有的分布式计算框架，都是主从模式，ResourceManager作为集群的管理员，是任务提交的入口。一般企业的大数据处理平台会在Yarn的基础中做进一步的封装，以web应用的形式提供更高级的大数据处理平台。如果web应用通过shell的方式提交任务将显得太重，而且不利于任务状态的监控。幸好Yarn提供了ResourceManager的REST API，可以很方便的向集群提交、杀死任务或者监控任务的状态，本文将简要介绍ResourceManager REST API的使用方法。</p>
<h2 id="向集群提交任务"><a href="#向集群提交任务" class="headerlink" title="向集群提交任务"></a>向集群提交任务</h2><p>先通过POST请求生成application_id再通过这个id来提交任务。</p>
<h3 id="生成application-id"><a href="#生成application-id" class="headerlink" title="生成application-id"></a>生成application-id</h3><p>通过POST请求rm-http-address:port/ws/v1/cluster/apps/new-application，不需要参数，ResourceManager将返回application_id与集群可用资源配额，如下：</p>
<p>请求url</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">http://cdh-1:8088/ws/v1/cluster/apps/new-application</span><br></pre></td></tr></table></figure>

<p>请求参数：无</p>
<p>返回数据</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;application-id&quot;</span>: <span class="string">&quot;application_1613349389113_0535&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;maximum-resource-capability&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;memory&quot;</span>: <span class="number">16384</span>,</span><br><span class="line">        <span class="attr">&quot;vCores&quot;</span>: <span class="number">8</span>,</span><br><span class="line">        <span class="attr">&quot;resourceInformations&quot;</span>: &#123;</span><br><span class="line">            <span class="attr">&quot;resourceInformation&quot;</span>: [</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                    <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                    <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;memory-mb&quot;</span>,</span><br><span class="line">                    <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                    <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;Mi&quot;</span>,</span><br><span class="line">                    <span class="attr">&quot;value&quot;</span>: <span class="number">16384</span></span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                    <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                    <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;vcores&quot;</span>,</span><br><span class="line">                    <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                    <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                    <span class="attr">&quot;value&quot;</span>: <span class="number">8</span></span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>返回json字段说明</p>
<table>
<thead>
<tr>
<th>Item</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>application-id</td>
<td>string</td>
<td>The newly created application id</td>
</tr>
<tr>
<td>maximum-resource-capability</td>
<td>object</td>
<td>The maximum resource capabilities available on this cluster</td>
</tr>
</tbody></table>
<p>maximum-resource-capability元素说明</p>
<table>
<thead>
<tr>
<th>Item</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>memory</td>
<td>int</td>
<td>容器可用的最大内存</td>
</tr>
<tr>
<td>vCores</td>
<td>int</td>
<td>容器可用的最大核心数</td>
</tr>
</tbody></table>
<h3 id="提交任务"><a href="#提交任务" class="headerlink" title="提交任务"></a>提交任务</h3><p>提交应用程序API可用于提交应用程序。如果提交申请，则必须首先使用<a href="http://hadoop.apache.org/docs/r2.6.0/hadoop-yarn/hadoop-yarn-site/ResourceManagerRest.html#Cluster_New_Application_API">Cluster New Application API</a>获得一个应用程序ID 。应用程序ID必须是请求正文的一部分。响应包含指向应用程序页面的URL，可用于跟踪应用程序的状态和进度。</p>
<p>通过POST请求rm-http-address:port/ws/v1/cluster/apps提交任务</p>
<p>请求url</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">http://cdh-1:8088/ws/v1/cluster/apps</span><br></pre></td></tr></table></figure>

<p>请求参数</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">POST http:<span class="comment">//&lt;rm http address:port&gt;/ws/v1/cluster/apps</span></span><br><span class="line">Accept: application/json</span><br><span class="line">Content-Type: application/json</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;application-id&quot;</span>:<span class="string">&quot;application_1404203615263_0001&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;application-name&quot;</span>:<span class="string">&quot;test&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;am-container-spec&quot;</span>:</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">&quot;local-resources&quot;</span>:</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">&quot;entry&quot;</span>:</span><br><span class="line">      [</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">&quot;key&quot;</span>:<span class="string">&quot;AppMaster.jar&quot;</span>,</span><br><span class="line">          <span class="attr">&quot;value&quot;</span>:</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">&quot;resource&quot;</span>:<span class="string">&quot;hdfs://hdfs-namenode:9000/user/testuser/DistributedShell/demo-app/AppMaster.jar&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;type&quot;</span>:<span class="string">&quot;FILE&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;visibility&quot;</span>:<span class="string">&quot;APPLICATION&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;size&quot;</span>: <span class="number">43004</span>,</span><br><span class="line">            <span class="attr">&quot;timestamp&quot;</span>: <span class="number">1405452071209</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">&quot;commands&quot;</span>:</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">&quot;command&quot;</span>:<span class="string">&quot;&#123;&#123;JAVA_HOME&#125;&#125;/bin/java -Xmx10m org.apache.hadoop.yarn.applications.distributedshell.ApplicationMaster --container_memory 10 --container_vcores 1 --num_containers 1 --priority 0 1&gt;&lt;LOG_DIR&gt;/AppMaster.stdout 2&gt;&lt;LOG_DIR&gt;/AppMaster.stderr&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">&quot;environment&quot;</span>:</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">&quot;entry&quot;</span>:</span><br><span class="line">      [</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">&quot;key&quot;</span>: <span class="string">&quot;DISTRIBUTEDSHELLSCRIPTTIMESTAMP&quot;</span>,</span><br><span class="line">          <span class="attr">&quot;value&quot;</span>: <span class="string">&quot;1405459400754&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">&quot;key&quot;</span>: <span class="string">&quot;CLASSPATH&quot;</span>,</span><br><span class="line">          <span class="attr">&quot;value&quot;</span>: <span class="string">&quot;&#123;&#123;CLASSPATH&#125;&#125;&lt;CPS&gt;./*&lt;CPS&gt;&#123;&#123;HADOOP_CONF_DIR&#125;&#125;&lt;CPS&gt;&#123;&#123;HADOOP_COMMON_HOME&#125;&#125;/share/hadoop/common/*&lt;CPS&gt;&#123;&#123;HADOOP_COMMON_HOME&#125;&#125;/share/hadoop/common/lib/*&lt;CPS&gt;&#123;&#123;HADOOP_HDFS_HOME&#125;&#125;/share/hadoop/hdfs/*&lt;CPS&gt;&#123;&#123;HADOOP_HDFS_HOME&#125;&#125;/share/hadoop/hdfs/lib/*&lt;CPS&gt;&#123;&#123;HADOOP_YARN_HOME&#125;&#125;/share/hadoop/yarn/*&lt;CPS&gt;&#123;&#123;HADOOP_YARN_HOME&#125;&#125;/share/hadoop/yarn/lib/*&lt;CPS&gt;./log4j.properties&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">&quot;key&quot;</span>: <span class="string">&quot;DISTRIBUTEDSHELLSCRIPTLEN&quot;</span>,</span><br><span class="line">          <span class="attr">&quot;value&quot;</span>: <span class="string">&quot;6&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">&quot;key&quot;</span>: <span class="string">&quot;DISTRIBUTEDSHELLSCRIPTLOCATION&quot;</span>,</span><br><span class="line">          <span class="attr">&quot;value&quot;</span>: <span class="string">&quot;hdfs://hdfs-namenode:9000/user/testuser/demo-app/shellCommands&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">&quot;unmanaged-AM&quot;</span>:<span class="literal">false</span>,</span><br><span class="line">  <span class="attr">&quot;max-app-attempts&quot;</span>:<span class="number">2</span>,</span><br><span class="line">  <span class="attr">&quot;resource&quot;</span>:</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">&quot;memory&quot;</span>:<span class="number">1024</span>,</span><br><span class="line">    <span class="attr">&quot;vCores&quot;</span>:<span class="number">1</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">&quot;application-type&quot;</span>:<span class="string">&quot;YARN&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;keep-containers-across-application-attempts&quot;</span>:<span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>请求参数说明</p>
<table>
<thead>
<tr>
<th>Item</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>application-id</td>
<td>string</td>
<td>申请编号</td>
</tr>
<tr>
<td>application-name</td>
<td>string</td>
<td>申请名称</td>
</tr>
<tr>
<td>queue</td>
<td>string</td>
<td>应将应用程序提交到的队列的名称</td>
</tr>
<tr>
<td>priority</td>
<td>int</td>
<td>应用程序的优先级</td>
</tr>
<tr>
<td>am-container-spec</td>
<td>object</td>
<td>应用程序主容器启动上下文，如下所述</td>
</tr>
<tr>
<td>unmanaged-AM</td>
<td>boolean</td>
<td>该应用程序是否使用非托管应用程序主机</td>
</tr>
<tr>
<td>max-app-attempts</td>
<td>int</td>
<td>此应用程序的最大尝试次数</td>
</tr>
<tr>
<td>resource</td>
<td>object</td>
<td>应用程序主机需要的资源，如下所述</td>
</tr>
<tr>
<td>application-type</td>
<td>string</td>
<td>应用程序类型（MapReduce，Pig，Hive等）</td>
</tr>
<tr>
<td>keep-containers-across-application-attmpts</td>
<td>boolean</td>
<td>YARN是否应保留此应用程序使用的容器而不是销毁它们</td>
</tr>
<tr>
<td>application-tags</td>
<td>object</td>
<td>应用程序标签列表，请参阅有关如何指定标签的请求示例</td>
</tr>
</tbody></table>
<p><em>am-container-spec</em>对象的元素</p>
<p>应该使用am-container-spec对象为应用程序主机提供容器启动上下文。</p>
<table>
<thead>
<tr>
<th>Item</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>local-resources</td>
<td>object</td>
<td>描述需要本地化的资源的对象，如下所述</td>
</tr>
<tr>
<td>environment</td>
<td>object</td>
<td>容器的环境变量，指定为键值对</td>
</tr>
<tr>
<td>commands</td>
<td>object</td>
<td>用于启动容器的命令（应按执行顺序）</td>
</tr>
<tr>
<td>service-data</td>
<td>object</td>
<td>特定于应用程序的服务数据；key是辅助服务的名称，值是您希望传递的数据的base-64编码</td>
</tr>
<tr>
<td>credentials</td>
<td>object</td>
<td>您的应用程序运行所需的凭据，如下所述</td>
</tr>
<tr>
<td>application-acls</td>
<td>object</td>
<td>您的应用程序的ACLs；密钥可以是“ VIEW_APP”或“ MODIFY_APP”，值是具有权限的用户列表</td>
</tr>
</tbody></table>
<p>local-resource对象的元素</p>
<table>
<thead>
<tr>
<th align="left">Item</th>
<th align="left">Data Type</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="left">resource</td>
<td align="left">string</td>
<td align="left">要本地化的资源的位置</td>
</tr>
<tr>
<td align="left">type</td>
<td align="left">string</td>
<td align="left">资源类型；选项是“ ARCHIVE”，“ FILE”和“ PATTERN”</td>
</tr>
<tr>
<td align="left">visibility</td>
<td align="left">string</td>
<td align="left">可见要本地化的资源；选项是“ PUBLIC”，“ PRIVATE”和“ APPLICATION”</td>
</tr>
<tr>
<td align="left">size</td>
<td align="left">long</td>
<td align="left">要本地化的资源大小</td>
</tr>
<tr>
<td align="left">timestamp</td>
<td align="left">long</td>
<td align="left">要本地化的资源的时间戳</td>
</tr>
</tbody></table>
<p>credentials对象的元素</p>
<table>
<thead>
<tr>
<th align="left">Item</th>
<th align="left">Data Type</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="left">tokens</td>
<td align="left">object</td>
<td align="left">您希望传递给应用程序的令牌，指定为键值对。密钥是令牌的标识符，值是令牌（应使用相应的Web服务获取）</td>
</tr>
<tr>
<td align="left">secrets</td>
<td align="left">object</td>
<td align="left">您希望在应用程序中使用的机密，指定为键值对。它们的键是标识符，值是密钥的base-64编码</td>
</tr>
</tbody></table>
<p>resource对象的元素</p>
<table>
<thead>
<tr>
<th align="left">Item</th>
<th align="left">Data Type</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="left">memory</td>
<td align="left">int</td>
<td align="left">每个容器所需的内存</td>
</tr>
<tr>
<td align="left">vCores</td>
<td align="left">int</td>
<td align="left">每个容器所需的虚拟核心</td>
</tr>
</tbody></table>
<p>返回数据： 无</p>
<p>提交后ResourceManager不会返回信息。从请求的参数可以看出，如果想通过Yarn来管理某个分布式计算任务，必须有对应的ApplicationMaser实现，如上例中的AppMaster.jar，其执行入口类为org.apache.hadoop.yarn.applications.distributedshell.ApplicationMaster。常见的分布式计算任务如Hadoop、Spark与Flink都有，但Flink-yarn项目对Flink 1.9貌似还 没有实现对应的ApplicationMaster，所以Flink 1.9的任务目前还不能通过Rest API提交（1.7可以）。</p>
<h2 id="查询任务状态信息"><a href="#查询任务状态信息" class="headerlink" title="查询任务状态信息"></a>查询任务状态信息</h2><h3 id="查询所有任务"><a href="#查询所有任务" class="headerlink" title="查询所有任务"></a>查询所有任务</h3><p>通过GET请求rm-http-address:port/ws/v1/cluster/apps将获取到所有任务的信息列表，如</p>
<p>请求url</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">http://cdh-:8088/ws/v1/cluster/apps</span><br></pre></td></tr></table></figure>

<p>请求参数（可选）</p>
<p>可以为GET操作指定多个参数。开始时间和结束时间都有一个begin和end参数，以允许您指定范围。例如，可以请求在2021年3月2日早上09:00:00和早上10:00：00之间启动的所有应用程序，其中startedTimeBegin = 1614646800000＆startedTimeEnd = 1614650400000。如果未指定Begin参数，则默认为0；如果未指定End参数，则默认为无穷大。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">* state [deprecated] - state of the application</span><br><span class="line">* states - applications matching the given application states, specified as a comma-separated list.[NEW, NEW_SAVING, SUBMITTED, ACCEPTED, RUNNING, FINISHED, FAILED, KILLED]</span><br><span class="line">* finalStatus - the final status of the application - reported by the application itself [UNDEFINED, FAILED, KILLED, SUCCEEDED]</span><br><span class="line">* user - user name</span><br><span class="line">* queue - queue name</span><br><span class="line">* limit - total number of app objects to be returned</span><br><span class="line">* startedTimeBegin - applications with start time beginning with this time, specified in ms since epoch</span><br><span class="line">* startedTimeEnd - applications with start time ending with this time, specified in ms since epoch</span><br><span class="line">* finishedTimeBegin - applications with finish time beginning with this time, specified in ms since epoch</span><br><span class="line">* finishedTimeEnd - applications with finish time ending with this time, specified in ms since epoch</span><br><span class="line">* applicationTypes - applications matching the given application types, specified as a comma-separated list.</span><br><span class="line">* applicationTags - applications matching any of the given application tags, specified as a comma-separated list.</span><br></pre></td></tr></table></figure>

<p>返回数据</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;apps&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;app&quot;</span>: [</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">&quot;id&quot;</span>: <span class="string">&quot;application_1613349389113_0393&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;user&quot;</span>: <span class="string">&quot;root&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;com.zzmj.main.KafkaToParquet&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;queue&quot;</span>: <span class="string">&quot;root.users.root&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;state&quot;</span>: <span class="string">&quot;RUNNING&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;finalStatus&quot;</span>: <span class="string">&quot;UNDEFINED&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;progress&quot;</span>: <span class="number">10.0</span>,</span><br><span class="line">                <span class="attr">&quot;trackingUI&quot;</span>: <span class="string">&quot;ApplicationMaster&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;trackingUrl&quot;</span>: <span class="string">&quot;http://cdh-1:8088/proxy/application_1613349389113_0393/&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;diagnostics&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;clusterId&quot;</span>: <span class="number">1613349389113</span>,</span><br><span class="line">                <span class="attr">&quot;applicationType&quot;</span>: <span class="string">&quot;SPARK&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;applicationTags&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;priority&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                <span class="attr">&quot;startedTime&quot;</span>: <span class="number">1614648944707</span>,</span><br><span class="line">                <span class="attr">&quot;launchTime&quot;</span>: <span class="number">1614648945179</span>,</span><br><span class="line">                <span class="attr">&quot;finishedTime&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                <span class="attr">&quot;elapsedTime&quot;</span>: <span class="number">515573848</span>,</span><br><span class="line">                <span class="attr">&quot;amContainerLogs&quot;</span>: <span class="string">&quot;http://cdh-4:8042/node/containerlogs/container_1613349389113_0393_01_000001/root&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;amHostHttpAddress&quot;</span>: <span class="string">&quot;cdh-4:8042&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;amRPCAddress&quot;</span>: <span class="string">&quot;cdh-4:46434&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;allocatedMB&quot;</span>: <span class="number">5120</span>,</span><br><span class="line">                <span class="attr">&quot;allocatedVCores&quot;</span>: <span class="number">4</span>,</span><br><span class="line">                <span class="attr">&quot;reservedMB&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                <span class="attr">&quot;reservedVCores&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                <span class="attr">&quot;runningContainers&quot;</span>: <span class="number">2</span>,</span><br><span class="line">                <span class="attr">&quot;memorySeconds&quot;</span>: <span class="number">2514229328</span>,</span><br><span class="line">                <span class="attr">&quot;vcoreSeconds&quot;</span>: <span class="number">1914825</span>,</span><br><span class="line">                <span class="attr">&quot;queueUsagePercentage&quot;</span>: <span class="number">6.25</span>,</span><br><span class="line">                <span class="attr">&quot;clusterUsagePercentage&quot;</span>: <span class="number">6.25</span>,</span><br><span class="line">                <span class="attr">&quot;resourceSecondsMap&quot;</span>: &#123;</span><br><span class="line">                    <span class="attr">&quot;entry&quot;</span>: &#123;</span><br><span class="line">                        <span class="attr">&quot;key&quot;</span>: <span class="string">&quot;memory-mb&quot;</span>,</span><br><span class="line">                        <span class="attr">&quot;value&quot;</span>: <span class="string">&quot;2514229328&quot;</span></span><br><span class="line">                    &#125;,</span><br><span class="line">                    <span class="attr">&quot;entry&quot;</span>: &#123;</span><br><span class="line">                        <span class="attr">&quot;key&quot;</span>: <span class="string">&quot;vcores&quot;</span>,</span><br><span class="line">                        <span class="attr">&quot;value&quot;</span>: <span class="string">&quot;1914825&quot;</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                <span class="attr">&quot;preemptedResourceMB&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                <span class="attr">&quot;preemptedResourceVCores&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                <span class="attr">&quot;numNonAMContainerPreempted&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                <span class="attr">&quot;numAMContainerPreempted&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                <span class="attr">&quot;preemptedMemorySeconds&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                <span class="attr">&quot;preemptedVcoreSeconds&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                <span class="attr">&quot;preemptedResourceSecondsMap&quot;</span>: &#123;&#125;,</span><br><span class="line">                <span class="attr">&quot;logAggregationStatus&quot;</span>: <span class="string">&quot;NOT_START&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;unmanagedApplication&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">                <span class="attr">&quot;amNodeLabelExpression&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;timeouts&quot;</span>: &#123;</span><br><span class="line">                    <span class="attr">&quot;timeout&quot;</span>: [</span><br><span class="line">                        &#123;</span><br><span class="line">                            <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;LIFETIME&quot;</span>,</span><br><span class="line">                            <span class="attr">&quot;expiryTime&quot;</span>: <span class="string">&quot;UNLIMITED&quot;</span>,</span><br><span class="line">                            <span class="attr">&quot;remainingTimeInSeconds&quot;</span>: <span class="number">-1</span></span><br><span class="line">                        &#125;</span><br><span class="line">                    ]</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>字段说明</p>
<table>
<thead>
<tr>
<th>Item</th>
<th>DataType</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>id</td>
<td>string</td>
<td>应用的application-id</td>
</tr>
<tr>
<td>user</td>
<td>string</td>
<td>提交任务的用户名</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>应用程序的名称</td>
</tr>
<tr>
<td>queue</td>
<td>string</td>
<td>应用程序所属消息队列</td>
</tr>
<tr>
<td>state</td>
<td>string</td>
<td>应用程序当前状态</td>
</tr>
<tr>
<td>finalStatus</td>
<td>string</td>
<td>应用程序最终状态</td>
</tr>
<tr>
<td>progress</td>
<td>double</td>
<td>应用程序进度</td>
</tr>
<tr>
<td>trackingUI</td>
<td>string</td>
<td>追踪UI显示名称</td>
</tr>
<tr>
<td>trackingUrl</td>
<td>string</td>
<td>追踪UI的url</td>
</tr>
<tr>
<td>clusterId</td>
<td>string</td>
<td>集群id</td>
</tr>
<tr>
<td>applicationType</td>
<td>string</td>
<td>应用程序类型</td>
</tr>
<tr>
<td>priority</td>
<td>int</td>
<td>应用程序优先级</td>
</tr>
<tr>
<td>startedTime</td>
<td>long</td>
<td>应用程序开始时间</td>
</tr>
<tr>
<td>launchTime</td>
<td>long</td>
<td>应用程序加载时间</td>
</tr>
<tr>
<td>finishedTime</td>
<td>long</td>
<td>应用程序完成时间</td>
</tr>
<tr>
<td>elapsedTime</td>
<td>long</td>
<td>应用程序消耗时间(finished-start)</td>
</tr>
<tr>
<td>amContainerLogs</td>
<td>string</td>
<td>am容器日志地址</td>
</tr>
<tr>
<td>amHostHttpAddress</td>
<td>string</td>
<td>am的主机http地址</td>
</tr>
<tr>
<td>amRPCAddress</td>
<td>string</td>
<td>am的RPC地址</td>
</tr>
<tr>
<td>allocatedMB</td>
<td>string</td>
<td>初始化内存大小</td>
</tr>
<tr>
<td>allocatedVCores</td>
<td>string</td>
<td>初始化核心数</td>
</tr>
<tr>
<td>reservedMB</td>
<td>string</td>
<td>保留内存</td>
</tr>
<tr>
<td>reservedVCores</td>
<td>string</td>
<td>保留核心数</td>
</tr>
<tr>
<td>runningContainers</td>
<td>string</td>
<td>正在运行的容器数</td>
</tr>
<tr>
<td>memorySeconds</td>
<td>int</td>
<td>所有的container每秒消耗的内存总和</td>
</tr>
<tr>
<td>vcoreSecond</td>
<td>string</td>
<td>所有的container每秒消耗的核心数总和</td>
</tr>
<tr>
<td>queueUsagePercentage</td>
<td>double</td>
<td>所属队列的资源使用百分比</td>
</tr>
<tr>
<td>clusterUsagePercentage</td>
<td>double</td>
<td>所属集群的资源使用百分比</td>
</tr>
<tr>
<td>logAggregationStatus</td>
<td>string</td>
<td>日志聚合状态</td>
</tr>
<tr>
<td>unmanagedApplication</td>
<td>boolean</td>
<td>未被管理的应用程序</td>
</tr>
</tbody></table>
<h3 id="查询单个任务"><a href="#查询单个任务" class="headerlink" title="查询单个任务"></a>查询单个任务</h3><p>通过GET请求rm-http-address:port/ws/v1/cluster/apps/{appid}，如</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">http://cdh-1:8088/ws/v1/cluster/apps/application_1613349389113_0001</span><br></pre></td></tr></table></figure>

<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;app&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;id&quot;</span>: <span class="string">&quot;application_1613349389113_0001&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;user&quot;</span>: <span class="string">&quot;root&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;StorageAgg&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;queue&quot;</span>: <span class="string">&quot;root.users.root&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;state&quot;</span>: <span class="string">&quot;RUNNING&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;finalStatus&quot;</span>: <span class="string">&quot;UNDEFINED&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;progress&quot;</span>: <span class="number">100.0</span>,</span><br><span class="line">        <span class="attr">&quot;trackingUI&quot;</span>: <span class="string">&quot;ApplicationMaster&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;trackingUrl&quot;</span>: <span class="string">&quot;http://cdh-1:8088/proxy/application_1613349389113_0001/&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;diagnostics&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;clusterId&quot;</span>: <span class="number">1613349389113</span>,</span><br><span class="line">        <span class="attr">&quot;applicationType&quot;</span>: <span class="string">&quot;Apache Flink&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;applicationTags&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;priority&quot;</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">&quot;startedTime&quot;</span>: <span class="number">1613358478865</span>,</span><br><span class="line">        <span class="attr">&quot;launchTime&quot;</span>: <span class="number">1613358479810</span>,</span><br><span class="line">        <span class="attr">&quot;finishedTime&quot;</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">&quot;elapsedTime&quot;</span>: <span class="number">1829294258</span>,</span><br><span class="line">        <span class="attr">&quot;amContainerLogs&quot;</span>: <span class="string">&quot;http://cdh-4:8042/node/containerlogs/container_1613349389113_0001_01_000001/root&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;amHostHttpAddress&quot;</span>: <span class="string">&quot;cdh-4:8042&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;amRPCAddress&quot;</span>: <span class="string">&quot;cdh-4:8082&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;allocatedMB&quot;</span>: <span class="number">9216</span>,</span><br><span class="line">        <span class="attr">&quot;allocatedVCores&quot;</span>: <span class="number">4</span>,</span><br><span class="line">        <span class="attr">&quot;reservedMB&quot;</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">&quot;reservedVCores&quot;</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">&quot;runningContainers&quot;</span>: <span class="number">2</span>,</span><br><span class="line">        <span class="attr">&quot;memorySeconds&quot;</span>: <span class="number">16858454105</span>,</span><br><span class="line">        <span class="attr">&quot;vcoreSeconds&quot;</span>: <span class="number">7317057</span>,</span><br><span class="line">        <span class="attr">&quot;queueUsagePercentage&quot;</span>: <span class="number">11.25</span>,</span><br><span class="line">        <span class="attr">&quot;clusterUsagePercentage&quot;</span>: <span class="number">11.25</span>,</span><br><span class="line">        <span class="attr">&quot;resourceSecondsMap&quot;</span>: &#123;</span><br><span class="line">            <span class="attr">&quot;entry&quot;</span>: &#123;</span><br><span class="line">                <span class="attr">&quot;key&quot;</span>: <span class="string">&quot;memory-mb&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;value&quot;</span>: <span class="string">&quot;16858454105&quot;</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">&quot;entry&quot;</span>: &#123;</span><br><span class="line">                <span class="attr">&quot;key&quot;</span>: <span class="string">&quot;vcores&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;value&quot;</span>: <span class="string">&quot;7317057&quot;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">&quot;preemptedResourceMB&quot;</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">&quot;preemptedResourceVCores&quot;</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">&quot;numNonAMContainerPreempted&quot;</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">&quot;numAMContainerPreempted&quot;</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">&quot;preemptedMemorySeconds&quot;</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">&quot;preemptedVcoreSeconds&quot;</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">&quot;preemptedResourceSecondsMap&quot;</span>: &#123;&#125;,</span><br><span class="line">        <span class="attr">&quot;logAggregationStatus&quot;</span>: <span class="string">&quot;NOT_START&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;unmanagedApplication&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="attr">&quot;amNodeLabelExpression&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;timeouts&quot;</span>: &#123;</span><br><span class="line">            <span class="attr">&quot;timeout&quot;</span>: [</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;LIFETIME&quot;</span>,</span><br><span class="line">                    <span class="attr">&quot;expiryTime&quot;</span>: <span class="string">&quot;UNLIMITED&quot;</span>,</span><br><span class="line">                    <span class="attr">&quot;remainingTimeInSeconds&quot;</span>: <span class="number">-1</span></span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="修改任务状态"><a href="#修改任务状态" class="headerlink" title="修改任务状态"></a>修改任务状态</h3><p>通过Cluster Application State API来完成，当然需要得到RM web service的授权才能进行这种操作，URI为rm-http-address:port/ws/v1/cluster/apps/{appid}/state，如</p>
<p><em><strong>通过GET请求该URI</strong></em></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">http://cdh-1:8088/ws/v1/cluster/apps/application_1613349389113_0001/state</span><br></pre></td></tr></table></figure>

<p>将返回的application_id为application_1613349389113_0001的任务的状态</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;state&quot;</span>: <span class="string">&quot;RUNNING&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>然会参数列举说明</p>
<table>
<thead>
<tr>
<th>Item</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>state</td>
<td>string</td>
<td>The application state - can be one of “NEW”, “NEW_SAVING”, “SUBMITTED”, “ACCEPTED”, “RUNNING”, “FINISHED”, “FAILED”, “KILLED”</td>
</tr>
</tbody></table>
<p><em><strong>或者通过PUT请求来kill一个job</strong></em></p>
<figure class="highlight tex"><table><tr><td class="code"><pre><span class="line">http://cdh-1:8088/ws/v1/cluster/apps/application<span class="built_in">_</span>1399397633663<span class="built_in">_</span>0003/state</span><br></pre></td></tr></table></figure>

<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;state&quot;</span>:<span class="string">&quot;KILLED&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>返回结果为</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;state&quot;</span>:<span class="string">&quot;RUNNING&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>其实的state的状态为当前程序的状态【RUNNING, ACCEPTED】</p>
<p><em><strong>重新通过GET请求该任务的状态</strong></em></p>
<p>发现该任务已经被kill了</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;state&quot;</span>:<span class="string">&quot;KILLED&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="查看与调整任务优先级"><a href="#查看与调整任务优先级" class="headerlink" title="查看与调整任务优先级"></a>查看与调整任务优先级</h2><p>主要通过访问rm-http-address:port/ws/v1/cluster/apps/{appid}/priority来完成。统一需要得到RM web services的授权</p>
<h3 id="查看任务优先级"><a href="#查看任务优先级" class="headerlink" title="查看任务优先级"></a>查看任务优先级</h3><p>通过GET请求上面的URI，如</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">http://cdh-1:8088/ws/v1/cluster/apps/application_1613349389113_0001/priority</span><br></pre></td></tr></table></figure>

<p>将返回application_id为application_1613349389113_0001的任务的优先级</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;priority&quot;</span>: <span class="number">0</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="修改任务优先级"><a href="#修改任务优先级" class="headerlink" title="修改任务优先级"></a>修改任务优先级</h3><p>如果这项任务非常重要，你想让它优先执行，可通过PUT请求来修改其优先级</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">http://cdh-1:8088/ws/v1/cluster/apps/application_1613349389113_0001/priority</span><br><span class="line">请求参数：</span><br><span class="line">Accept: application/json</span><br><span class="line">Content-Type: application/json</span><br><span class="line">&#123;</span><br><span class="line">	&quot;priority&quot;: 8</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="集群API"><a href="#集群API" class="headerlink" title="集群API"></a>集群API</h2><h3 id="集群信息"><a href="#集群信息" class="headerlink" title="集群信息"></a>集群信息</h3><p>主要通过GET请求访问rm-http-address:port/ws/v1/cluster来完成。</p>
<p>通过GET请求上面的URI，如</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">http://cdh-1:8088/ws/v1/cluster</span><br></pre></td></tr></table></figure>

<p>请求参数： 无</p>
<p>返回数据</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;clusterInfo&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;id&quot;</span>: <span class="number">1613349389113</span>,</span><br><span class="line">        <span class="attr">&quot;startedOn&quot;</span>: <span class="number">1613349389113</span>,</span><br><span class="line">        <span class="attr">&quot;state&quot;</span>: <span class="string">&quot;STARTED&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;haState&quot;</span>: <span class="string">&quot;ACTIVE&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;rmStateStoreName&quot;</span>: <span class="string">&quot;org.apache.hadoop.yarn.server.resourcemanager.recovery.NullRMStateStore&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;resourceManagerVersion&quot;</span>: <span class="string">&quot;3.0.0-cdh6.3.2&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;resourceManagerBuildVersion&quot;</span>: <span class="string">&quot;3.0.0-cdh6.3.2 from 9aff20de3b5ecccf3c19d57f71b214fb4d37ee89 by jenkins source checksum bdea11f98ce3d056d6c170c883b73569&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;resourceManagerVersionBuiltOn&quot;</span>: <span class="string">&quot;2019-11-08T13:55Z&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;hadoopVersion&quot;</span>: <span class="string">&quot;3.0.0-cdh6.3.2&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;hadoopBuildVersion&quot;</span>: <span class="string">&quot;3.0.0-cdh6.3.2 from 9aff20de3b5ecccf3c19d57f71b214fb4d37ee89 by jenkins source checksum f539c87da37534aad732f2a7ddcc59&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;hadoopVersionBuiltOn&quot;</span>: <span class="string">&quot;2019-11-08T13:49Z&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;haZooKeeperConnectionState&quot;</span>: <span class="string">&quot;Could not find leader elector. Verify both HA and automatic failover are enabled.&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>返回数据字段说明</p>
<table>
<thead>
<tr>
<th align="left">Item</th>
<th align="left">Data Type</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="left">id</td>
<td align="left">long</td>
<td align="left">集群ID</td>
</tr>
<tr>
<td align="left">startedOn</td>
<td align="left">long</td>
<td align="left">集群启动的时间（从纪元开始以毫秒为单位）</td>
</tr>
<tr>
<td align="left">state</td>
<td align="left">string</td>
<td align="left">ResourceManager状态-有效值为：NOTINITED，INITED，STARTED，STOPPED</td>
</tr>
<tr>
<td align="left">haState</td>
<td align="left">string</td>
<td align="left">ResourceManager HA状态-有效值为：INITIALIZING，ACTIVE，STANDBY，STOPPED</td>
</tr>
<tr>
<td align="left">rmStateStoreName</td>
<td align="left">string</td>
<td align="left">实现ResourceManager状态存储的类的完全限定名称</td>
</tr>
<tr>
<td align="left">resourceManagerVersion</td>
<td align="left">string</td>
<td align="left">ResourceManager的版本</td>
</tr>
<tr>
<td align="left">resourceManagerBuildVersion</td>
<td align="left">string</td>
<td align="left">ResourceManager构建字符串以及构建版本，用户和校验和</td>
</tr>
<tr>
<td align="left">resourceManagerVersionBuiltOn</td>
<td align="left">string</td>
<td align="left">生成ResourceManager的时间戳（自纪元以来以毫秒为单位）</td>
</tr>
<tr>
<td align="left">hadoopVersion</td>
<td align="left">string</td>
<td align="left">Hadoop通用版本</td>
</tr>
<tr>
<td align="left">hadoopBuildVersion</td>
<td align="left">string</td>
<td align="left">具有构建版本，用户和校验和的Hadoop通用构建字符串</td>
</tr>
<tr>
<td align="left">hadoopVersionBuiltOn</td>
<td align="left">string</td>
<td align="left">建立hadoop common的时间戳（自纪元以来以毫秒为单位）</td>
</tr>
<tr>
<td align="left">haZooKeeperConnectionState</td>
<td align="left">string</td>
<td align="left">ZooKeeper高可用性服务的连接状态</td>
</tr>
</tbody></table>
<h3 id="集群指标"><a href="#集群指标" class="headerlink" title="集群指标"></a>集群指标</h3><p>通过GET请求rm-http-address:port/ws/v1/cluster/metrics来完成。</p>
<p>通过GET请求上面URI，如</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">http://cdh-1:8088/ws/v1/cluster/metrics</span><br></pre></td></tr></table></figure>

<p>请求参数： 无</p>
<p>返回数据</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;clusterMetrics&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;appsSubmitted&quot;</span>: <span class="number">547</span>,</span><br><span class="line">        <span class="attr">&quot;appsCompleted&quot;</span>: <span class="number">506</span>,</span><br><span class="line">        <span class="attr">&quot;appsPending&quot;</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">&quot;appsRunning&quot;</span>: <span class="number">8</span>,</span><br><span class="line">        <span class="attr">&quot;appsFailed&quot;</span>: <span class="number">14</span>,</span><br><span class="line">        <span class="attr">&quot;appsKilled&quot;</span>: <span class="number">19</span>,</span><br><span class="line">        <span class="attr">&quot;reservedMB&quot;</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">&quot;availableMB&quot;</span>: <span class="number">36864</span>,</span><br><span class="line">        <span class="attr">&quot;allocatedMB&quot;</span>: <span class="number">45056</span>,</span><br><span class="line">        <span class="attr">&quot;reservedVirtualCores&quot;</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">&quot;availableVirtualCores&quot;</span>: <span class="number">8</span>,</span><br><span class="line">        <span class="attr">&quot;allocatedVirtualCores&quot;</span>: <span class="number">32</span>,</span><br><span class="line">        <span class="attr">&quot;containersAllocated&quot;</span>: <span class="number">16</span>,</span><br><span class="line">        <span class="attr">&quot;containersReserved&quot;</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">&quot;containersPending&quot;</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">&quot;totalMB&quot;</span>: <span class="number">81920</span>,</span><br><span class="line">        <span class="attr">&quot;totalVirtualCores&quot;</span>: <span class="number">40</span>,</span><br><span class="line">        <span class="attr">&quot;totalNodes&quot;</span>: <span class="number">5</span>,</span><br><span class="line">        <span class="attr">&quot;lostNodes&quot;</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">&quot;unhealthyNodes&quot;</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">&quot;decommissioningNodes&quot;</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">&quot;decommissionedNodes&quot;</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">&quot;rebootedNodes&quot;</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">&quot;activeNodes&quot;</span>: <span class="number">5</span>,</span><br><span class="line">        <span class="attr">&quot;shutdownNodes&quot;</span>: <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>返回数据字段说明</p>
<table>
<thead>
<tr>
<th align="left">Item</th>
<th align="left">Data Type</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="left">appsSubmitted</td>
<td align="left">int</td>
<td align="left">提交的应用程序数量</td>
</tr>
<tr>
<td align="left">appsCompleted</td>
<td align="left">int</td>
<td align="left">完成的应用程序数量</td>
</tr>
<tr>
<td align="left">appsPending</td>
<td align="left">int</td>
<td align="left">等待的应用程序数量</td>
</tr>
<tr>
<td align="left">appsRunning</td>
<td align="left">int</td>
<td align="left">正在运行的应用程序数量</td>
</tr>
<tr>
<td align="left">appsFailed</td>
<td align="left">int</td>
<td align="left">失败的应用程序数量</td>
</tr>
<tr>
<td align="left">appsKilled</td>
<td align="left">int</td>
<td align="left">被杀死的应用程序数量</td>
</tr>
<tr>
<td align="left">reservedMB</td>
<td align="left">long</td>
<td align="left">保留的内存量（MB）</td>
</tr>
<tr>
<td align="left">availableMB</td>
<td align="left">long</td>
<td align="left">可用的内存量（MB）</td>
</tr>
<tr>
<td align="left">allocatedMB</td>
<td align="left">long</td>
<td align="left">分配的内存量（MB）</td>
</tr>
<tr>
<td align="left">totalMB</td>
<td align="left">long</td>
<td align="left">总内存量（MB）</td>
</tr>
<tr>
<td align="left">reservedVirtualCores</td>
<td align="left">long</td>
<td align="left">保留的虚拟核心数</td>
</tr>
<tr>
<td align="left">availableVirtualCores</td>
<td align="left">long</td>
<td align="left">可用虚拟核心数</td>
</tr>
<tr>
<td align="left">allocatedVirtualCores</td>
<td align="left">long</td>
<td align="left">分配的虚拟核心数</td>
</tr>
<tr>
<td align="left">totalVirtualCores</td>
<td align="left">long</td>
<td align="left">虚拟核心总数</td>
</tr>
<tr>
<td align="left">containersAllocated</td>
<td align="left">int</td>
<td align="left">分配的容器数</td>
</tr>
<tr>
<td align="left">containersReserved</td>
<td align="left">int</td>
<td align="left">保留的容器数</td>
</tr>
<tr>
<td align="left">containersPending</td>
<td align="left">int</td>
<td align="left">待处理的容器数</td>
</tr>
<tr>
<td align="left">totalNodes</td>
<td align="left">int</td>
<td align="left">节点总数</td>
</tr>
<tr>
<td align="left">activeNodes</td>
<td align="left">int</td>
<td align="left">活动节点数</td>
</tr>
<tr>
<td align="left">lostNodes</td>
<td align="left">int</td>
<td align="left">丢失的节点数</td>
</tr>
<tr>
<td align="left">unhealthyNodes</td>
<td align="left">int</td>
<td align="left">不良节点数</td>
</tr>
<tr>
<td align="left">decommissioningNodes</td>
<td align="left">int</td>
<td align="left">停用的节点数</td>
</tr>
<tr>
<td align="left">decommissionedNodes</td>
<td align="left">int</td>
<td align="left">退役的节点数</td>
</tr>
<tr>
<td align="left">rebootedNodes</td>
<td align="left">int</td>
<td align="left">重新启动的节点数</td>
</tr>
<tr>
<td align="left">shutdownNodes</td>
<td align="left">int</td>
<td align="left">关闭的节点数</td>
</tr>
</tbody></table>
<h3 id="集群调度"><a href="#集群调度" class="headerlink" title="集群调度"></a>集群调度</h3><p>调度程序资源包含有关集群中配置的当前调度程序的信息。它目前支持Fifo，容量和公平调度程序。根据配置哪个调度程序，您将获得不同的信息，因此请务必查看类型信息。</p>
<p>请求URI</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">http://cdh-1:8088/ws/v1cluster/scheduler</span><br></pre></td></tr></table></figure>

<p>请求参数： 无</p>
<p>返回数据</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;scheduler&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;schedulerInfo&quot;</span>: &#123;</span><br><span class="line">            <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;fairScheduler&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;rootQueue&quot;</span>: &#123;</span><br><span class="line">                <span class="attr">&quot;maxApps&quot;</span>: <span class="number">2147483647</span>,</span><br><span class="line">                <span class="attr">&quot;minResources&quot;</span>: &#123;</span><br><span class="line">                    <span class="attr">&quot;memory&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                    <span class="attr">&quot;vCores&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                    <span class="attr">&quot;resourceInformations&quot;</span>: &#123;</span><br><span class="line">                        <span class="attr">&quot;resourceInformation&quot;</span>: [</span><br><span class="line">                            &#123;</span><br><span class="line">                                <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">16384</span>,</span><br><span class="line">                                <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">1024</span>,</span><br><span class="line">                                <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;memory-mb&quot;</span>,</span><br><span class="line">                                <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;Mi&quot;</span>,</span><br><span class="line">                                <span class="attr">&quot;value&quot;</span>: <span class="number">0</span></span><br><span class="line">                            &#125;,</span><br><span class="line">                            &#123;</span><br><span class="line">                                <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">8</span>,</span><br><span class="line">                                <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">1</span>,</span><br><span class="line">                                <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;vcores&quot;</span>,</span><br><span class="line">                                <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                                <span class="attr">&quot;value&quot;</span>: <span class="number">0</span></span><br><span class="line">                            &#125;</span><br><span class="line">                        ]</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                <span class="attr">&quot;maxResources&quot;</span>: &#123;</span><br><span class="line">                    <span class="attr">&quot;memory&quot;</span>: <span class="number">81920</span>,</span><br><span class="line">                    <span class="attr">&quot;vCores&quot;</span>: <span class="number">40</span>,</span><br><span class="line">                    <span class="attr">&quot;resourceInformations&quot;</span>: &#123;</span><br><span class="line">                        <span class="attr">&quot;resourceInformation&quot;</span>: [</span><br><span class="line">                            &#123;</span><br><span class="line">                                <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;memory-mb&quot;</span>,</span><br><span class="line">                                <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;Mi&quot;</span>,</span><br><span class="line">                                <span class="attr">&quot;value&quot;</span>: <span class="number">81920</span></span><br><span class="line">                            &#125;,</span><br><span class="line">                            &#123;</span><br><span class="line">                                <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;vcores&quot;</span>,</span><br><span class="line">                                <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                                <span class="attr">&quot;value&quot;</span>: <span class="number">40</span></span><br><span class="line">                            &#125;</span><br><span class="line">                        ]</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                <span class="attr">&quot;usedResources&quot;</span>: &#123;</span><br><span class="line">                    <span class="attr">&quot;memory&quot;</span>: <span class="number">45056</span>,</span><br><span class="line">                    <span class="attr">&quot;vCores&quot;</span>: <span class="number">32</span>,</span><br><span class="line">                    <span class="attr">&quot;resourceInformations&quot;</span>: &#123;</span><br><span class="line">                        <span class="attr">&quot;resourceInformation&quot;</span>: [</span><br><span class="line">                            &#123;</span><br><span class="line">                                <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;memory-mb&quot;</span>,</span><br><span class="line">                                <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;Mi&quot;</span>,</span><br><span class="line">                                <span class="attr">&quot;value&quot;</span>: <span class="number">45056</span></span><br><span class="line">                            &#125;,</span><br><span class="line">                            &#123;</span><br><span class="line">                                <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;vcores&quot;</span>,</span><br><span class="line">                                <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                                <span class="attr">&quot;value&quot;</span>: <span class="number">32</span></span><br><span class="line">                            &#125;</span><br><span class="line">                        ]</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                <span class="attr">&quot;amUsedResources&quot;</span>: &#123;</span><br><span class="line">                    <span class="attr">&quot;memory&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                    <span class="attr">&quot;vCores&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                    <span class="attr">&quot;resourceInformations&quot;</span>: &#123;</span><br><span class="line">                        <span class="attr">&quot;resourceInformation&quot;</span>: [</span><br><span class="line">                            &#123;</span><br><span class="line">                                <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;memory-mb&quot;</span>,</span><br><span class="line">                                <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;Mi&quot;</span>,</span><br><span class="line">                                <span class="attr">&quot;value&quot;</span>: <span class="number">0</span></span><br><span class="line">                            &#125;,</span><br><span class="line">                            &#123;</span><br><span class="line">                                <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;vcores&quot;</span>,</span><br><span class="line">                                <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                                <span class="attr">&quot;value&quot;</span>: <span class="number">0</span></span><br><span class="line">                            &#125;</span><br><span class="line">                        ]</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                <span class="attr">&quot;amMaxResources&quot;</span>: &#123;</span><br><span class="line">                    <span class="attr">&quot;memory&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                    <span class="attr">&quot;vCores&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                    <span class="attr">&quot;resourceInformations&quot;</span>: &#123;</span><br><span class="line">                        <span class="attr">&quot;resourceInformation&quot;</span>: [</span><br><span class="line">                            &#123;</span><br><span class="line">                                <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;memory-mb&quot;</span>,</span><br><span class="line">                                <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;Mi&quot;</span>,</span><br><span class="line">                                <span class="attr">&quot;value&quot;</span>: <span class="number">0</span></span><br><span class="line">                            &#125;,</span><br><span class="line">                            &#123;</span><br><span class="line">                                <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;vcores&quot;</span>,</span><br><span class="line">                                <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                                <span class="attr">&quot;value&quot;</span>: <span class="number">0</span></span><br><span class="line">                            &#125;</span><br><span class="line">                        ]</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                <span class="attr">&quot;demandResources&quot;</span>: &#123;</span><br><span class="line">                    <span class="attr">&quot;memory&quot;</span>: <span class="number">45056</span>,</span><br><span class="line">                    <span class="attr">&quot;vCores&quot;</span>: <span class="number">32</span>,</span><br><span class="line">                    <span class="attr">&quot;resourceInformations&quot;</span>: &#123;</span><br><span class="line">                        <span class="attr">&quot;resourceInformation&quot;</span>: [</span><br><span class="line">                            &#123;</span><br><span class="line">                                <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;memory-mb&quot;</span>,</span><br><span class="line">                                <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;Mi&quot;</span>,</span><br><span class="line">                                <span class="attr">&quot;value&quot;</span>: <span class="number">45056</span></span><br><span class="line">                            &#125;,</span><br><span class="line">                            &#123;</span><br><span class="line">                                <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;vcores&quot;</span>,</span><br><span class="line">                                <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                                <span class="attr">&quot;value&quot;</span>: <span class="number">32</span></span><br><span class="line">                            &#125;</span><br><span class="line">                        ]</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                <span class="attr">&quot;steadyFairResources&quot;</span>: &#123;</span><br><span class="line">                    <span class="attr">&quot;memory&quot;</span>: <span class="number">81920</span>,</span><br><span class="line">                    <span class="attr">&quot;vCores&quot;</span>: <span class="number">40</span>,</span><br><span class="line">                    <span class="attr">&quot;resourceInformations&quot;</span>: &#123;</span><br><span class="line">                        <span class="attr">&quot;resourceInformation&quot;</span>: [</span><br><span class="line">                            &#123;</span><br><span class="line">                                <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;memory-mb&quot;</span>,</span><br><span class="line">                                <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;Mi&quot;</span>,</span><br><span class="line">                                <span class="attr">&quot;value&quot;</span>: <span class="number">81920</span></span><br><span class="line">                            &#125;,</span><br><span class="line">                            &#123;</span><br><span class="line">                                <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;vcores&quot;</span>,</span><br><span class="line">                                <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                                <span class="attr">&quot;value&quot;</span>: <span class="number">40</span></span><br><span class="line">                            &#125;</span><br><span class="line">                        ]</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                <span class="attr">&quot;fairResources&quot;</span>: &#123;</span><br><span class="line">                    <span class="attr">&quot;memory&quot;</span>: <span class="number">81920</span>,</span><br><span class="line">                    <span class="attr">&quot;vCores&quot;</span>: <span class="number">40</span>,</span><br><span class="line">                    <span class="attr">&quot;resourceInformations&quot;</span>: &#123;</span><br><span class="line">                        <span class="attr">&quot;resourceInformation&quot;</span>: [</span><br><span class="line">                            &#123;</span><br><span class="line">                                <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;memory-mb&quot;</span>,</span><br><span class="line">                                <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;Mi&quot;</span>,</span><br><span class="line">                                <span class="attr">&quot;value&quot;</span>: <span class="number">81920</span></span><br><span class="line">                            &#125;,</span><br><span class="line">                            &#123;</span><br><span class="line">                                <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;vcores&quot;</span>,</span><br><span class="line">                                <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                                <span class="attr">&quot;value&quot;</span>: <span class="number">40</span></span><br><span class="line">                            &#125;</span><br><span class="line">                        ]</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                <span class="attr">&quot;clusterResources&quot;</span>: &#123;</span><br><span class="line">                    <span class="attr">&quot;memory&quot;</span>: <span class="number">81920</span>,</span><br><span class="line">                    <span class="attr">&quot;vCores&quot;</span>: <span class="number">40</span>,</span><br><span class="line">                    <span class="attr">&quot;resourceInformations&quot;</span>: &#123;</span><br><span class="line">                        <span class="attr">&quot;resourceInformation&quot;</span>: [</span><br><span class="line">                            &#123;</span><br><span class="line">                                <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;memory-mb&quot;</span>,</span><br><span class="line">                                <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;Mi&quot;</span>,</span><br><span class="line">                                <span class="attr">&quot;value&quot;</span>: <span class="number">81920</span></span><br><span class="line">                            &#125;,</span><br><span class="line">                            &#123;</span><br><span class="line">                                <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;vcores&quot;</span>,</span><br><span class="line">                                <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                                <span class="attr">&quot;value&quot;</span>: <span class="number">40</span></span><br><span class="line">                            &#125;</span><br><span class="line">                        ]</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                <span class="attr">&quot;reservedResources&quot;</span>: &#123;</span><br><span class="line">                    <span class="attr">&quot;memory&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                    <span class="attr">&quot;vCores&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                    <span class="attr">&quot;resourceInformations&quot;</span>: &#123;</span><br><span class="line">                        <span class="attr">&quot;resourceInformation&quot;</span>: [</span><br><span class="line">                            &#123;</span><br><span class="line">                                <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;memory-mb&quot;</span>,</span><br><span class="line">                                <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;Mi&quot;</span>,</span><br><span class="line">                                <span class="attr">&quot;value&quot;</span>: <span class="number">0</span></span><br><span class="line">                            &#125;,</span><br><span class="line">                            &#123;</span><br><span class="line">                                <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;vcores&quot;</span>,</span><br><span class="line">                                <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                                <span class="attr">&quot;value&quot;</span>: <span class="number">0</span></span><br><span class="line">                            &#125;</span><br><span class="line">                        ]</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                <span class="attr">&quot;maxContainerAllocation&quot;</span>: &#123;</span><br><span class="line">                    <span class="attr">&quot;memory&quot;</span>: <span class="number">16384</span>,</span><br><span class="line">                    <span class="attr">&quot;vCores&quot;</span>: <span class="number">8</span>,</span><br><span class="line">                    <span class="attr">&quot;resourceInformations&quot;</span>: &#123;</span><br><span class="line">                        <span class="attr">&quot;resourceInformation&quot;</span>: [</span><br><span class="line">                            &#123;</span><br><span class="line">                                <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;memory-mb&quot;</span>,</span><br><span class="line">                                <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;Mi&quot;</span>,</span><br><span class="line">                                <span class="attr">&quot;value&quot;</span>: <span class="number">16384</span></span><br><span class="line">                            &#125;,</span><br><span class="line">                            &#123;</span><br><span class="line">                                <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;vcores&quot;</span>,</span><br><span class="line">                                <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                                <span class="attr">&quot;value&quot;</span>: <span class="number">8</span></span><br><span class="line">                            &#125;</span><br><span class="line">                        ]</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                <span class="attr">&quot;allocatedContainers&quot;</span>: <span class="number">16</span>,</span><br><span class="line">                <span class="attr">&quot;reservedContainers&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                <span class="attr">&quot;queueName&quot;</span>: <span class="string">&quot;root&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;schedulingPolicy&quot;</span>: <span class="string">&quot;DRF&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;preemptable&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">                <span class="attr">&quot;childQueues&quot;</span>: &#123;</span><br><span class="line">                    <span class="attr">&quot;queue&quot;</span>: [</span><br><span class="line">                        &#123;</span><br><span class="line">                            <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;fairSchedulerLeafQueueInfo&quot;</span>,</span><br><span class="line">                            <span class="attr">&quot;maxApps&quot;</span>: <span class="number">2147483647</span>,</span><br><span class="line">                            <span class="attr">&quot;minResources&quot;</span>: &#123;</span><br><span class="line">                                <span class="attr">&quot;memory&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                <span class="attr">&quot;vCores&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                <span class="attr">&quot;resourceInformations&quot;</span>: &#123;</span><br><span class="line">                                    <span class="attr">&quot;resourceInformation&quot;</span>: [</span><br><span class="line">                                        &#123;</span><br><span class="line">                                            <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">16384</span>,</span><br><span class="line">                                            <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">1024</span>,</span><br><span class="line">                                            <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;memory-mb&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;Mi&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;value&quot;</span>: <span class="number">0</span></span><br><span class="line">                                        &#125;,</span><br><span class="line">                                        &#123;</span><br><span class="line">                                            <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">8</span>,</span><br><span class="line">                                            <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">1</span>,</span><br><span class="line">                                            <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;vcores&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;value&quot;</span>: <span class="number">0</span></span><br><span class="line">                                        &#125;</span><br><span class="line">                                    ]</span><br><span class="line">                                &#125;</span><br><span class="line">                            &#125;,</span><br><span class="line">                            <span class="attr">&quot;maxResources&quot;</span>: &#123;</span><br><span class="line">                                <span class="attr">&quot;memory&quot;</span>: <span class="number">81920</span>,</span><br><span class="line">                                <span class="attr">&quot;vCores&quot;</span>: <span class="number">40</span>,</span><br><span class="line">                                <span class="attr">&quot;resourceInformations&quot;</span>: &#123;</span><br><span class="line">                                    <span class="attr">&quot;resourceInformation&quot;</span>: [</span><br><span class="line">                                        &#123;</span><br><span class="line">                                            <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                            <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                            <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;memory-mb&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;Mi&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;value&quot;</span>: <span class="number">81920</span></span><br><span class="line">                                        &#125;,</span><br><span class="line">                                        &#123;</span><br><span class="line">                                            <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                            <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                            <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;vcores&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;value&quot;</span>: <span class="number">40</span></span><br><span class="line">                                        &#125;</span><br><span class="line">                                    ]</span><br><span class="line">                                &#125;</span><br><span class="line">                            &#125;,</span><br><span class="line">                            <span class="attr">&quot;usedResources&quot;</span>: &#123;</span><br><span class="line">                                <span class="attr">&quot;memory&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                <span class="attr">&quot;vCores&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                <span class="attr">&quot;resourceInformations&quot;</span>: &#123;</span><br><span class="line">                                    <span class="attr">&quot;resourceInformation&quot;</span>: [</span><br><span class="line">                                        &#123;</span><br><span class="line">                                            <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                            <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                            <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;memory-mb&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;Mi&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;value&quot;</span>: <span class="number">0</span></span><br><span class="line">                                        &#125;,</span><br><span class="line">                                        &#123;</span><br><span class="line">                                            <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                            <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                            <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;vcores&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;value&quot;</span>: <span class="number">0</span></span><br><span class="line">                                        &#125;</span><br><span class="line">                                    ]</span><br><span class="line">                                &#125;</span><br><span class="line">                            &#125;,</span><br><span class="line">                            <span class="attr">&quot;amUsedResources&quot;</span>: &#123;</span><br><span class="line">                                <span class="attr">&quot;memory&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                <span class="attr">&quot;vCores&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                <span class="attr">&quot;resourceInformations&quot;</span>: &#123;</span><br><span class="line">                                    <span class="attr">&quot;resourceInformation&quot;</span>: [</span><br><span class="line">                                        &#123;</span><br><span class="line">                                            <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                            <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                            <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;memory-mb&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;Mi&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;value&quot;</span>: <span class="number">0</span></span><br><span class="line">                                        &#125;,</span><br><span class="line">                                        &#123;</span><br><span class="line">                                            <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                            <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                            <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;vcores&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;value&quot;</span>: <span class="number">0</span></span><br><span class="line">                                        &#125;</span><br><span class="line">                                    ]</span><br><span class="line">                                &#125;</span><br><span class="line">                            &#125;,</span><br><span class="line">                            <span class="attr">&quot;amMaxResources&quot;</span>: &#123;</span><br><span class="line">                                <span class="attr">&quot;memory&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                <span class="attr">&quot;vCores&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                <span class="attr">&quot;resourceInformations&quot;</span>: &#123;</span><br><span class="line">                                    <span class="attr">&quot;resourceInformation&quot;</span>: [</span><br><span class="line">                                        &#123;</span><br><span class="line">                                            <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                            <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                            <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;memory-mb&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;Mi&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;value&quot;</span>: <span class="number">0</span></span><br><span class="line">                                        &#125;,</span><br><span class="line">                                        &#123;</span><br><span class="line">                                            <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                            <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                            <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;vcores&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;value&quot;</span>: <span class="number">0</span></span><br><span class="line">                                        &#125;</span><br><span class="line">                                    ]</span><br><span class="line">                                &#125;</span><br><span class="line">                            &#125;,</span><br><span class="line">                            <span class="attr">&quot;demandResources&quot;</span>: &#123;</span><br><span class="line">                                <span class="attr">&quot;memory&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                <span class="attr">&quot;vCores&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                <span class="attr">&quot;resourceInformations&quot;</span>: &#123;</span><br><span class="line">                                    <span class="attr">&quot;resourceInformation&quot;</span>: [</span><br><span class="line">                                        &#123;</span><br><span class="line">                                            <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                            <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                            <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;memory-mb&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;Mi&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;value&quot;</span>: <span class="number">0</span></span><br><span class="line">                                        &#125;,</span><br><span class="line">                                        &#123;</span><br><span class="line">                                            <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                            <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                            <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;vcores&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;value&quot;</span>: <span class="number">0</span></span><br><span class="line">                                        &#125;</span><br><span class="line">                                    ]</span><br><span class="line">                                &#125;</span><br><span class="line">                            &#125;,</span><br><span class="line">                            <span class="attr">&quot;steadyFairResources&quot;</span>: &#123;</span><br><span class="line">                                <span class="attr">&quot;memory&quot;</span>: <span class="number">40960</span>,</span><br><span class="line">                                <span class="attr">&quot;vCores&quot;</span>: <span class="number">20</span>,</span><br><span class="line">                                <span class="attr">&quot;resourceInformations&quot;</span>: &#123;</span><br><span class="line">                                    <span class="attr">&quot;resourceInformation&quot;</span>: [</span><br><span class="line">                                        &#123;</span><br><span class="line">                                            <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                            <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                            <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;memory-mb&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;Mi&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;value&quot;</span>: <span class="number">40960</span></span><br><span class="line">                                        &#125;,</span><br><span class="line">                                        &#123;</span><br><span class="line">                                            <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                            <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                            <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;vcores&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;value&quot;</span>: <span class="number">20</span></span><br><span class="line">                                        &#125;</span><br><span class="line">                                    ]</span><br><span class="line">                                &#125;</span><br><span class="line">                            &#125;,</span><br><span class="line">                            <span class="attr">&quot;fairResources&quot;</span>: &#123;</span><br><span class="line">                                <span class="attr">&quot;memory&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                <span class="attr">&quot;vCores&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                <span class="attr">&quot;resourceInformations&quot;</span>: &#123;</span><br><span class="line">                                    <span class="attr">&quot;resourceInformation&quot;</span>: [</span><br><span class="line">                                        &#123;</span><br><span class="line">                                            <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                            <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                            <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;memory-mb&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;Mi&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;value&quot;</span>: <span class="number">0</span></span><br><span class="line">                                        &#125;,</span><br><span class="line">                                        &#123;</span><br><span class="line">                                            <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                            <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                            <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;vcores&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;value&quot;</span>: <span class="number">0</span></span><br><span class="line">                                        &#125;</span><br><span class="line">                                    ]</span><br><span class="line">                                &#125;</span><br><span class="line">                            &#125;,</span><br><span class="line">                            <span class="attr">&quot;clusterResources&quot;</span>: &#123;</span><br><span class="line">                                <span class="attr">&quot;memory&quot;</span>: <span class="number">81920</span>,</span><br><span class="line">                                <span class="attr">&quot;vCores&quot;</span>: <span class="number">40</span>,</span><br><span class="line">                                <span class="attr">&quot;resourceInformations&quot;</span>: &#123;</span><br><span class="line">                                    <span class="attr">&quot;resourceInformation&quot;</span>: [</span><br><span class="line">                                        &#123;</span><br><span class="line">                                            <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                            <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                            <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;memory-mb&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;Mi&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;value&quot;</span>: <span class="number">81920</span></span><br><span class="line">                                        &#125;,</span><br><span class="line">                                        &#123;</span><br><span class="line">                                            <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                            <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                            <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;vcores&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;value&quot;</span>: <span class="number">40</span></span><br><span class="line">                                        &#125;</span><br><span class="line">                                    ]</span><br><span class="line">                                &#125;</span><br><span class="line">                            &#125;,</span><br><span class="line">                            <span class="attr">&quot;reservedResources&quot;</span>: &#123;</span><br><span class="line">                                <span class="attr">&quot;memory&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                <span class="attr">&quot;vCores&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                <span class="attr">&quot;resourceInformations&quot;</span>: &#123;</span><br><span class="line">                                    <span class="attr">&quot;resourceInformation&quot;</span>: [</span><br><span class="line">                                        &#123;</span><br><span class="line">                                            <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                            <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                            <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;memory-mb&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;Mi&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;value&quot;</span>: <span class="number">0</span></span><br><span class="line">                                        &#125;,</span><br><span class="line">                                        &#123;</span><br><span class="line">                                            <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                            <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                            <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;vcores&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;value&quot;</span>: <span class="number">0</span></span><br><span class="line">                                        &#125;</span><br><span class="line">                                    ]</span><br><span class="line">                                &#125;</span><br><span class="line">                            &#125;,</span><br><span class="line">                            <span class="attr">&quot;maxContainerAllocation&quot;</span>: &#123;</span><br><span class="line">                                <span class="attr">&quot;memory&quot;</span>: <span class="number">16384</span>,</span><br><span class="line">                                <span class="attr">&quot;vCores&quot;</span>: <span class="number">8</span>,</span><br><span class="line">                                <span class="attr">&quot;resourceInformations&quot;</span>: &#123;</span><br><span class="line">                                    <span class="attr">&quot;resourceInformation&quot;</span>: [</span><br><span class="line">                                        &#123;</span><br><span class="line">                                            <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                            <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                            <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;memory-mb&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;Mi&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;value&quot;</span>: <span class="number">16384</span></span><br><span class="line">                                        &#125;,</span><br><span class="line">                                        &#123;</span><br><span class="line">                                            <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                            <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                            <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;vcores&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;value&quot;</span>: <span class="number">8</span></span><br><span class="line">                                        &#125;</span><br><span class="line">                                    ]</span><br><span class="line">                                &#125;</span><br><span class="line">                            &#125;,</span><br><span class="line">                            <span class="attr">&quot;allocatedContainers&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                            <span class="attr">&quot;reservedContainers&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                            <span class="attr">&quot;queueName&quot;</span>: <span class="string">&quot;root.default&quot;</span>,</span><br><span class="line">                            <span class="attr">&quot;schedulingPolicy&quot;</span>: <span class="string">&quot;DRF&quot;</span>,</span><br><span class="line">                            <span class="attr">&quot;preemptable&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">                            <span class="attr">&quot;numPendingApps&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                            <span class="attr">&quot;numActiveApps&quot;</span>: <span class="number">0</span></span><br><span class="line">                        &#125;,</span><br><span class="line">                        &#123;</span><br><span class="line">                            <span class="attr">&quot;maxApps&quot;</span>: <span class="number">2147483647</span>,</span><br><span class="line">                            <span class="attr">&quot;minResources&quot;</span>: &#123;</span><br><span class="line">                                <span class="attr">&quot;memory&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                <span class="attr">&quot;vCores&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                <span class="attr">&quot;resourceInformations&quot;</span>: &#123;</span><br><span class="line">                                    <span class="attr">&quot;resourceInformation&quot;</span>: [</span><br><span class="line">                                        &#123;</span><br><span class="line">                                            <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">16384</span>,</span><br><span class="line">                                            <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">1024</span>,</span><br><span class="line">                                            <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;memory-mb&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;Mi&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;value&quot;</span>: <span class="number">0</span></span><br><span class="line">                                        &#125;,</span><br><span class="line">                                        &#123;</span><br><span class="line">                                            <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">8</span>,</span><br><span class="line">                                            <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">1</span>,</span><br><span class="line">                                            <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;vcores&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;value&quot;</span>: <span class="number">0</span></span><br><span class="line">                                        &#125;</span><br><span class="line">                                    ]</span><br><span class="line">                                &#125;</span><br><span class="line">                            &#125;,</span><br><span class="line">                            <span class="attr">&quot;maxResources&quot;</span>: &#123;</span><br><span class="line">                                <span class="attr">&quot;memory&quot;</span>: <span class="number">81920</span>,</span><br><span class="line">                                <span class="attr">&quot;vCores&quot;</span>: <span class="number">40</span>,</span><br><span class="line">                                <span class="attr">&quot;resourceInformations&quot;</span>: &#123;</span><br><span class="line">                                    <span class="attr">&quot;resourceInformation&quot;</span>: [</span><br><span class="line">                                        &#123;</span><br><span class="line">                                            <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                            <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                            <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;memory-mb&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;Mi&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;value&quot;</span>: <span class="number">81920</span></span><br><span class="line">                                        &#125;,</span><br><span class="line">                                        &#123;</span><br><span class="line">                                            <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                            <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                            <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;vcores&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;value&quot;</span>: <span class="number">40</span></span><br><span class="line">                                        &#125;</span><br><span class="line">                                    ]</span><br><span class="line">                                &#125;</span><br><span class="line">                            &#125;,</span><br><span class="line">                            <span class="attr">&quot;usedResources&quot;</span>: &#123;</span><br><span class="line">                                <span class="attr">&quot;memory&quot;</span>: <span class="number">45056</span>,</span><br><span class="line">                                <span class="attr">&quot;vCores&quot;</span>: <span class="number">32</span>,</span><br><span class="line">                                <span class="attr">&quot;resourceInformations&quot;</span>: &#123;</span><br><span class="line">                                    <span class="attr">&quot;resourceInformation&quot;</span>: [</span><br><span class="line">                                        &#123;</span><br><span class="line">                                            <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                            <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                            <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;memory-mb&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;Mi&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;value&quot;</span>: <span class="number">45056</span></span><br><span class="line">                                        &#125;,</span><br><span class="line">                                        &#123;</span><br><span class="line">                                            <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                            <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                            <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;vcores&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;value&quot;</span>: <span class="number">32</span></span><br><span class="line">                                        &#125;</span><br><span class="line">                                    ]</span><br><span class="line">                                &#125;</span><br><span class="line">                            &#125;,</span><br><span class="line">                            <span class="attr">&quot;amUsedResources&quot;</span>: &#123;</span><br><span class="line">                                <span class="attr">&quot;memory&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                <span class="attr">&quot;vCores&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                <span class="attr">&quot;resourceInformations&quot;</span>: &#123;</span><br><span class="line">                                    <span class="attr">&quot;resourceInformation&quot;</span>: [</span><br><span class="line">                                        &#123;</span><br><span class="line">                                            <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                            <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                            <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;memory-mb&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;Mi&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;value&quot;</span>: <span class="number">0</span></span><br><span class="line">                                        &#125;,</span><br><span class="line">                                        &#123;</span><br><span class="line">                                            <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                            <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                            <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;vcores&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;value&quot;</span>: <span class="number">0</span></span><br><span class="line">                                        &#125;</span><br><span class="line">                                    ]</span><br><span class="line">                                &#125;</span><br><span class="line">                            &#125;,</span><br><span class="line">                            <span class="attr">&quot;amMaxResources&quot;</span>: &#123;</span><br><span class="line">                                <span class="attr">&quot;memory&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                <span class="attr">&quot;vCores&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                <span class="attr">&quot;resourceInformations&quot;</span>: &#123;</span><br><span class="line">                                    <span class="attr">&quot;resourceInformation&quot;</span>: [</span><br><span class="line">                                        &#123;</span><br><span class="line">                                            <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                            <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                            <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;memory-mb&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;Mi&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;value&quot;</span>: <span class="number">0</span></span><br><span class="line">                                        &#125;,</span><br><span class="line">                                        &#123;</span><br><span class="line">                                            <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                            <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                            <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;vcores&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;value&quot;</span>: <span class="number">0</span></span><br><span class="line">                                        &#125;</span><br><span class="line">                                    ]</span><br><span class="line">                                &#125;</span><br><span class="line">                            &#125;,</span><br><span class="line">                            <span class="attr">&quot;demandResources&quot;</span>: &#123;</span><br><span class="line">                                <span class="attr">&quot;memory&quot;</span>: <span class="number">45056</span>,</span><br><span class="line">                                <span class="attr">&quot;vCores&quot;</span>: <span class="number">32</span>,</span><br><span class="line">                                <span class="attr">&quot;resourceInformations&quot;</span>: &#123;</span><br><span class="line">                                    <span class="attr">&quot;resourceInformation&quot;</span>: [</span><br><span class="line">                                        &#123;</span><br><span class="line">                                            <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                            <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                            <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;memory-mb&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;Mi&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;value&quot;</span>: <span class="number">45056</span></span><br><span class="line">                                        &#125;,</span><br><span class="line">                                        &#123;</span><br><span class="line">                                            <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                            <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                            <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;vcores&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;value&quot;</span>: <span class="number">32</span></span><br><span class="line">                                        &#125;</span><br><span class="line">                                    ]</span><br><span class="line">                                &#125;</span><br><span class="line">                            &#125;,</span><br><span class="line">                            <span class="attr">&quot;steadyFairResources&quot;</span>: &#123;</span><br><span class="line">                                <span class="attr">&quot;memory&quot;</span>: <span class="number">40960</span>,</span><br><span class="line">                                <span class="attr">&quot;vCores&quot;</span>: <span class="number">20</span>,</span><br><span class="line">                                <span class="attr">&quot;resourceInformations&quot;</span>: &#123;</span><br><span class="line">                                    <span class="attr">&quot;resourceInformation&quot;</span>: [</span><br><span class="line">                                        &#123;</span><br><span class="line">                                            <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                            <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                            <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;memory-mb&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;Mi&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;value&quot;</span>: <span class="number">40960</span></span><br><span class="line">                                        &#125;,</span><br><span class="line">                                        &#123;</span><br><span class="line">                                            <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                            <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                            <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;vcores&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;value&quot;</span>: <span class="number">20</span></span><br><span class="line">                                        &#125;</span><br><span class="line">                                    ]</span><br><span class="line">                                &#125;</span><br><span class="line">                            &#125;,</span><br><span class="line">                            <span class="attr">&quot;fairResources&quot;</span>: &#123;</span><br><span class="line">                                <span class="attr">&quot;memory&quot;</span>: <span class="number">81920</span>,</span><br><span class="line">                                <span class="attr">&quot;vCores&quot;</span>: <span class="number">40</span>,</span><br><span class="line">                                <span class="attr">&quot;resourceInformations&quot;</span>: &#123;</span><br><span class="line">                                    <span class="attr">&quot;resourceInformation&quot;</span>: [</span><br><span class="line">                                        &#123;</span><br><span class="line">                                            <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                            <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                            <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;memory-mb&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;Mi&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;value&quot;</span>: <span class="number">81920</span></span><br><span class="line">                                        &#125;,</span><br><span class="line">                                        &#123;</span><br><span class="line">                                            <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                            <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                            <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;vcores&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;value&quot;</span>: <span class="number">40</span></span><br><span class="line">                                        &#125;</span><br><span class="line">                                    ]</span><br><span class="line">                                &#125;</span><br><span class="line">                            &#125;,</span><br><span class="line">                            <span class="attr">&quot;clusterResources&quot;</span>: &#123;</span><br><span class="line">                                <span class="attr">&quot;memory&quot;</span>: <span class="number">81920</span>,</span><br><span class="line">                                <span class="attr">&quot;vCores&quot;</span>: <span class="number">40</span>,</span><br><span class="line">                                <span class="attr">&quot;resourceInformations&quot;</span>: &#123;</span><br><span class="line">                                    <span class="attr">&quot;resourceInformation&quot;</span>: [</span><br><span class="line">                                        &#123;</span><br><span class="line">                                            <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                            <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                            <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;memory-mb&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;Mi&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;value&quot;</span>: <span class="number">81920</span></span><br><span class="line">                                        &#125;,</span><br><span class="line">                                        &#123;</span><br><span class="line">                                            <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                            <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                            <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;vcores&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;value&quot;</span>: <span class="number">40</span></span><br><span class="line">                                        &#125;</span><br><span class="line">                                    ]</span><br><span class="line">                                &#125;</span><br><span class="line">                            &#125;,</span><br><span class="line">                            <span class="attr">&quot;reservedResources&quot;</span>: &#123;</span><br><span class="line">                                <span class="attr">&quot;memory&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                <span class="attr">&quot;vCores&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                <span class="attr">&quot;resourceInformations&quot;</span>: &#123;</span><br><span class="line">                                    <span class="attr">&quot;resourceInformation&quot;</span>: [</span><br><span class="line">                                        &#123;</span><br><span class="line">                                            <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                            <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                            <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;memory-mb&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;Mi&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;value&quot;</span>: <span class="number">0</span></span><br><span class="line">                                        &#125;,</span><br><span class="line">                                        &#123;</span><br><span class="line">                                            <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                            <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                            <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;vcores&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;value&quot;</span>: <span class="number">0</span></span><br><span class="line">                                        &#125;</span><br><span class="line">                                    ]</span><br><span class="line">                                &#125;</span><br><span class="line">                            &#125;,</span><br><span class="line">                            <span class="attr">&quot;maxContainerAllocation&quot;</span>: &#123;</span><br><span class="line">                                <span class="attr">&quot;memory&quot;</span>: <span class="number">16384</span>,</span><br><span class="line">                                <span class="attr">&quot;vCores&quot;</span>: <span class="number">8</span>,</span><br><span class="line">                                <span class="attr">&quot;resourceInformations&quot;</span>: &#123;</span><br><span class="line">                                    <span class="attr">&quot;resourceInformation&quot;</span>: [</span><br><span class="line">                                        &#123;</span><br><span class="line">                                            <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                            <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                            <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;memory-mb&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;Mi&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;value&quot;</span>: <span class="number">16384</span></span><br><span class="line">                                        &#125;,</span><br><span class="line">                                        &#123;</span><br><span class="line">                                            <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                            <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                            <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;vcores&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                                            <span class="attr">&quot;value&quot;</span>: <span class="number">8</span></span><br><span class="line">                                        &#125;</span><br><span class="line">                                    ]</span><br><span class="line">                                &#125;</span><br><span class="line">                            &#125;,</span><br><span class="line">                            <span class="attr">&quot;allocatedContainers&quot;</span>: <span class="number">16</span>,</span><br><span class="line">                            <span class="attr">&quot;reservedContainers&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                            <span class="attr">&quot;queueName&quot;</span>: <span class="string">&quot;root.users&quot;</span>,</span><br><span class="line">                            <span class="attr">&quot;schedulingPolicy&quot;</span>: <span class="string">&quot;DRF&quot;</span>,</span><br><span class="line">                            <span class="attr">&quot;preemptable&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">                            <span class="attr">&quot;childQueues&quot;</span>: &#123;</span><br><span class="line">                                <span class="attr">&quot;queue&quot;</span>: [</span><br><span class="line">                                    &#123;</span><br><span class="line">                                        <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;fairSchedulerLeafQueueInfo&quot;</span>,</span><br><span class="line">                                        <span class="attr">&quot;maxApps&quot;</span>: <span class="number">2147483647</span>,</span><br><span class="line">                                        <span class="attr">&quot;minResources&quot;</span>: &#123;</span><br><span class="line">                                            <span class="attr">&quot;memory&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                            <span class="attr">&quot;vCores&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                            <span class="attr">&quot;resourceInformations&quot;</span>: &#123;</span><br><span class="line">                                                <span class="attr">&quot;resourceInformation&quot;</span>: [</span><br><span class="line">                                                    &#123;</span><br><span class="line">                                                        <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">16384</span>,</span><br><span class="line">                                                        <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">1024</span>,</span><br><span class="line">                                                        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;memory-mb&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;Mi&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;value&quot;</span>: <span class="number">0</span></span><br><span class="line">                                                    &#125;,</span><br><span class="line">                                                    &#123;</span><br><span class="line">                                                        <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">8</span>,</span><br><span class="line">                                                        <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">1</span>,</span><br><span class="line">                                                        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;vcores&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;value&quot;</span>: <span class="number">0</span></span><br><span class="line">                                                    &#125;</span><br><span class="line">                                                ]</span><br><span class="line">                                            &#125;</span><br><span class="line">                                        &#125;,</span><br><span class="line">                                        <span class="attr">&quot;maxResources&quot;</span>: &#123;</span><br><span class="line">                                            <span class="attr">&quot;memory&quot;</span>: <span class="number">65536</span>,</span><br><span class="line">                                            <span class="attr">&quot;vCores&quot;</span>: <span class="number">32</span>,</span><br><span class="line">                                            <span class="attr">&quot;resourceInformations&quot;</span>: &#123;</span><br><span class="line">                                                <span class="attr">&quot;resourceInformation&quot;</span>: [</span><br><span class="line">                                                    &#123;</span><br><span class="line">                                                        <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                                        <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                                        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;memory-mb&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;Mi&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;value&quot;</span>: <span class="number">65536</span></span><br><span class="line">                                                    &#125;,</span><br><span class="line">                                                    &#123;</span><br><span class="line">                                                        <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                                        <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                                        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;vcores&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;value&quot;</span>: <span class="number">32</span></span><br><span class="line">                                                    &#125;</span><br><span class="line">                                                ]</span><br><span class="line">                                            &#125;</span><br><span class="line">                                        &#125;,</span><br><span class="line">                                        <span class="attr">&quot;usedResources&quot;</span>: &#123;</span><br><span class="line">                                            <span class="attr">&quot;memory&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                            <span class="attr">&quot;vCores&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                            <span class="attr">&quot;resourceInformations&quot;</span>: &#123;</span><br><span class="line">                                                <span class="attr">&quot;resourceInformation&quot;</span>: [</span><br><span class="line">                                                    &#123;</span><br><span class="line">                                                        <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                                        <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                                        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;memory-mb&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;Mi&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;value&quot;</span>: <span class="number">0</span></span><br><span class="line">                                                    &#125;,</span><br><span class="line">                                                    &#123;</span><br><span class="line">                                                        <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                                        <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                                        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;vcores&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;value&quot;</span>: <span class="number">0</span></span><br><span class="line">                                                    &#125;</span><br><span class="line">                                                ]</span><br><span class="line">                                            &#125;</span><br><span class="line">                                        &#125;,</span><br><span class="line">                                        <span class="attr">&quot;amUsedResources&quot;</span>: &#123;</span><br><span class="line">                                            <span class="attr">&quot;memory&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                            <span class="attr">&quot;vCores&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                            <span class="attr">&quot;resourceInformations&quot;</span>: &#123;</span><br><span class="line">                                                <span class="attr">&quot;resourceInformation&quot;</span>: [</span><br><span class="line">                                                    &#123;</span><br><span class="line">                                                        <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                                        <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                                        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;memory-mb&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;Mi&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;value&quot;</span>: <span class="number">0</span></span><br><span class="line">                                                    &#125;,</span><br><span class="line">                                                    &#123;</span><br><span class="line">                                                        <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                                        <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                                        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;vcores&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;value&quot;</span>: <span class="number">0</span></span><br><span class="line">                                                    &#125;</span><br><span class="line">                                                ]</span><br><span class="line">                                            &#125;</span><br><span class="line">                                        &#125;,</span><br><span class="line">                                        <span class="attr">&quot;amMaxResources&quot;</span>: &#123;</span><br><span class="line">                                            <span class="attr">&quot;memory&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                            <span class="attr">&quot;vCores&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                            <span class="attr">&quot;resourceInformations&quot;</span>: &#123;</span><br><span class="line">                                                <span class="attr">&quot;resourceInformation&quot;</span>: [</span><br><span class="line">                                                    &#123;</span><br><span class="line">                                                        <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                                        <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                                        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;memory-mb&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;Mi&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;value&quot;</span>: <span class="number">0</span></span><br><span class="line">                                                    &#125;,</span><br><span class="line">                                                    &#123;</span><br><span class="line">                                                        <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                                        <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                                        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;vcores&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;value&quot;</span>: <span class="number">0</span></span><br><span class="line">                                                    &#125;</span><br><span class="line">                                                ]</span><br><span class="line">                                            &#125;</span><br><span class="line">                                        &#125;,</span><br><span class="line">                                        <span class="attr">&quot;demandResources&quot;</span>: &#123;</span><br><span class="line">                                            <span class="attr">&quot;memory&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                            <span class="attr">&quot;vCores&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                            <span class="attr">&quot;resourceInformations&quot;</span>: &#123;</span><br><span class="line">                                                <span class="attr">&quot;resourceInformation&quot;</span>: [</span><br><span class="line">                                                    &#123;</span><br><span class="line">                                                        <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                                        <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                                        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;memory-mb&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;Mi&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;value&quot;</span>: <span class="number">0</span></span><br><span class="line">                                                    &#125;,</span><br><span class="line">                                                    &#123;</span><br><span class="line">                                                        <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                                        <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                                        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;vcores&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;value&quot;</span>: <span class="number">0</span></span><br><span class="line">                                                    &#125;</span><br><span class="line">                                                ]</span><br><span class="line">                                            &#125;</span><br><span class="line">                                        &#125;,</span><br><span class="line">                                        <span class="attr">&quot;steadyFairResources&quot;</span>: &#123;</span><br><span class="line">                                            <span class="attr">&quot;memory&quot;</span>: <span class="number">13654</span>,</span><br><span class="line">                                            <span class="attr">&quot;vCores&quot;</span>: <span class="number">7</span>,</span><br><span class="line">                                            <span class="attr">&quot;resourceInformations&quot;</span>: &#123;</span><br><span class="line">                                                <span class="attr">&quot;resourceInformation&quot;</span>: [</span><br><span class="line">                                                    &#123;</span><br><span class="line">                                                        <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                                        <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                                        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;memory-mb&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;Mi&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;value&quot;</span>: <span class="number">13654</span></span><br><span class="line">                                                    &#125;,</span><br><span class="line">                                                    &#123;</span><br><span class="line">                                                        <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                                        <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                                        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;vcores&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;value&quot;</span>: <span class="number">7</span></span><br><span class="line">                                                    &#125;</span><br><span class="line">                                                ]</span><br><span class="line">                                            &#125;</span><br><span class="line">                                        &#125;,</span><br><span class="line">                                        <span class="attr">&quot;fairResources&quot;</span>: &#123;</span><br><span class="line">                                            <span class="attr">&quot;memory&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                            <span class="attr">&quot;vCores&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                            <span class="attr">&quot;resourceInformations&quot;</span>: &#123;</span><br><span class="line">                                                <span class="attr">&quot;resourceInformation&quot;</span>: [</span><br><span class="line">                                                    &#123;</span><br><span class="line">                                                        <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                                        <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                                        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;memory-mb&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;Mi&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;value&quot;</span>: <span class="number">0</span></span><br><span class="line">                                                    &#125;,</span><br><span class="line">                                                    &#123;</span><br><span class="line">                                                        <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                                        <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                                        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;vcores&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;value&quot;</span>: <span class="number">0</span></span><br><span class="line">                                                    &#125;</span><br><span class="line">                                                ]</span><br><span class="line">                                            &#125;</span><br><span class="line">                                        &#125;,</span><br><span class="line">                                        <span class="attr">&quot;clusterResources&quot;</span>: &#123;</span><br><span class="line">                                            <span class="attr">&quot;memory&quot;</span>: <span class="number">81920</span>,</span><br><span class="line">                                            <span class="attr">&quot;vCores&quot;</span>: <span class="number">40</span>,</span><br><span class="line">                                            <span class="attr">&quot;resourceInformations&quot;</span>: &#123;</span><br><span class="line">                                                <span class="attr">&quot;resourceInformation&quot;</span>: [</span><br><span class="line">                                                    &#123;</span><br><span class="line">                                                        <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                                        <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                                        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;memory-mb&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;Mi&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;value&quot;</span>: <span class="number">81920</span></span><br><span class="line">                                                    &#125;,</span><br><span class="line">                                                    &#123;</span><br><span class="line">                                                        <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                                        <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                                        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;vcores&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;value&quot;</span>: <span class="number">40</span></span><br><span class="line">                                                    &#125;</span><br><span class="line">                                                ]</span><br><span class="line">                                            &#125;</span><br><span class="line">                                        &#125;,</span><br><span class="line">                                        <span class="attr">&quot;reservedResources&quot;</span>: &#123;</span><br><span class="line">                                            <span class="attr">&quot;memory&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                            <span class="attr">&quot;vCores&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                            <span class="attr">&quot;resourceInformations&quot;</span>: &#123;</span><br><span class="line">                                                <span class="attr">&quot;resourceInformation&quot;</span>: [</span><br><span class="line">                                                    &#123;</span><br><span class="line">                                                        <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                                        <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                                        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;memory-mb&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;Mi&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;value&quot;</span>: <span class="number">0</span></span><br><span class="line">                                                    &#125;,</span><br><span class="line">                                                    &#123;</span><br><span class="line">                                                        <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                                        <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                                        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;vcores&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;value&quot;</span>: <span class="number">0</span></span><br><span class="line">                                                    &#125;</span><br><span class="line">                                                ]</span><br><span class="line">                                            &#125;</span><br><span class="line">                                        &#125;,</span><br><span class="line">                                        <span class="attr">&quot;maxContainerAllocation&quot;</span>: &#123;</span><br><span class="line">                                            <span class="attr">&quot;memory&quot;</span>: <span class="number">16384</span>,</span><br><span class="line">                                            <span class="attr">&quot;vCores&quot;</span>: <span class="number">8</span>,</span><br><span class="line">                                            <span class="attr">&quot;resourceInformations&quot;</span>: &#123;</span><br><span class="line">                                                <span class="attr">&quot;resourceInformation&quot;</span>: [</span><br><span class="line">                                                    &#123;</span><br><span class="line">                                                        <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                                        <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                                        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;memory-mb&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;Mi&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;value&quot;</span>: <span class="number">16384</span></span><br><span class="line">                                                    &#125;,</span><br><span class="line">                                                    &#123;</span><br><span class="line">                                                        <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                                        <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                                        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;vcores&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;value&quot;</span>: <span class="number">8</span></span><br><span class="line">                                                    &#125;</span><br><span class="line">                                                ]</span><br><span class="line">                                            &#125;</span><br><span class="line">                                        &#125;,</span><br><span class="line">                                        <span class="attr">&quot;allocatedContainers&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                        <span class="attr">&quot;reservedContainers&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                        <span class="attr">&quot;queueName&quot;</span>: <span class="string">&quot;root.users.hdfs&quot;</span>,</span><br><span class="line">                                        <span class="attr">&quot;schedulingPolicy&quot;</span>: <span class="string">&quot;DRF&quot;</span>,</span><br><span class="line">                                        <span class="attr">&quot;preemptable&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">                                        <span class="attr">&quot;numPendingApps&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                        <span class="attr">&quot;numActiveApps&quot;</span>: <span class="number">0</span></span><br><span class="line">                                    &#125;,</span><br><span class="line">                                    &#123;</span><br><span class="line">                                        <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;fairSchedulerLeafQueueInfo&quot;</span>,</span><br><span class="line">                                        <span class="attr">&quot;maxApps&quot;</span>: <span class="number">2147483647</span>,</span><br><span class="line">                                        <span class="attr">&quot;minResources&quot;</span>: &#123;</span><br><span class="line">                                            <span class="attr">&quot;memory&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                            <span class="attr">&quot;vCores&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                            <span class="attr">&quot;resourceInformations&quot;</span>: &#123;</span><br><span class="line">                                                <span class="attr">&quot;resourceInformation&quot;</span>: [</span><br><span class="line">                                                    &#123;</span><br><span class="line">                                                        <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">16384</span>,</span><br><span class="line">                                                        <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">1024</span>,</span><br><span class="line">                                                        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;memory-mb&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;Mi&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;value&quot;</span>: <span class="number">0</span></span><br><span class="line">                                                    &#125;,</span><br><span class="line">                                                    &#123;</span><br><span class="line">                                                        <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">8</span>,</span><br><span class="line">                                                        <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">1</span>,</span><br><span class="line">                                                        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;vcores&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;value&quot;</span>: <span class="number">0</span></span><br><span class="line">                                                    &#125;</span><br><span class="line">                                                ]</span><br><span class="line">                                            &#125;</span><br><span class="line">                                        &#125;,</span><br><span class="line">                                        <span class="attr">&quot;maxResources&quot;</span>: &#123;</span><br><span class="line">                                            <span class="attr">&quot;memory&quot;</span>: <span class="number">81920</span>,</span><br><span class="line">                                            <span class="attr">&quot;vCores&quot;</span>: <span class="number">40</span>,</span><br><span class="line">                                            <span class="attr">&quot;resourceInformations&quot;</span>: &#123;</span><br><span class="line">                                                <span class="attr">&quot;resourceInformation&quot;</span>: [</span><br><span class="line">                                                    &#123;</span><br><span class="line">                                                        <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                                        <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                                        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;memory-mb&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;Mi&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;value&quot;</span>: <span class="number">81920</span></span><br><span class="line">                                                    &#125;,</span><br><span class="line">                                                    &#123;</span><br><span class="line">                                                        <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                                        <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                                        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;vcores&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;value&quot;</span>: <span class="number">40</span></span><br><span class="line">                                                    &#125;</span><br><span class="line">                                                ]</span><br><span class="line">                                            &#125;</span><br><span class="line">                                        &#125;,</span><br><span class="line">                                        <span class="attr">&quot;usedResources&quot;</span>: &#123;</span><br><span class="line">                                            <span class="attr">&quot;memory&quot;</span>: <span class="number">45056</span>,</span><br><span class="line">                                            <span class="attr">&quot;vCores&quot;</span>: <span class="number">32</span>,</span><br><span class="line">                                            <span class="attr">&quot;resourceInformations&quot;</span>: &#123;</span><br><span class="line">                                                <span class="attr">&quot;resourceInformation&quot;</span>: [</span><br><span class="line">                                                    &#123;</span><br><span class="line">                                                        <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                                        <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                                        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;memory-mb&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;Mi&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;value&quot;</span>: <span class="number">45056</span></span><br><span class="line">                                                    &#125;,</span><br><span class="line">                                                    &#123;</span><br><span class="line">                                                        <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                                        <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                                        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;vcores&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;value&quot;</span>: <span class="number">32</span></span><br><span class="line">                                                    &#125;</span><br><span class="line">                                                ]</span><br><span class="line">                                            &#125;</span><br><span class="line">                                        &#125;,</span><br><span class="line">                                        <span class="attr">&quot;amUsedResources&quot;</span>: &#123;</span><br><span class="line">                                            <span class="attr">&quot;memory&quot;</span>: <span class="number">9728</span>,</span><br><span class="line">                                            <span class="attr">&quot;vCores&quot;</span>: <span class="number">8</span>,</span><br><span class="line">                                            <span class="attr">&quot;resourceInformations&quot;</span>: &#123;</span><br><span class="line">                                                <span class="attr">&quot;resourceInformation&quot;</span>: [</span><br><span class="line">                                                    &#123;</span><br><span class="line">                                                        <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                                        <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                                        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;memory-mb&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;Mi&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;value&quot;</span>: <span class="number">9728</span></span><br><span class="line">                                                    &#125;,</span><br><span class="line">                                                    &#123;</span><br><span class="line">                                                        <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                                        <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                                        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;vcores&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;value&quot;</span>: <span class="number">8</span></span><br><span class="line">                                                    &#125;</span><br><span class="line">                                                ]</span><br><span class="line">                                            &#125;</span><br><span class="line">                                        &#125;,</span><br><span class="line">                                        <span class="attr">&quot;amMaxResources&quot;</span>: &#123;</span><br><span class="line">                                            <span class="attr">&quot;memory&quot;</span>: <span class="number">40960</span>,</span><br><span class="line">                                            <span class="attr">&quot;vCores&quot;</span>: <span class="number">20</span>,</span><br><span class="line">                                            <span class="attr">&quot;resourceInformations&quot;</span>: &#123;</span><br><span class="line">                                                <span class="attr">&quot;resourceInformation&quot;</span>: [</span><br><span class="line">                                                    &#123;</span><br><span class="line">                                                        <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                                        <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                                        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;memory-mb&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;Mi&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;value&quot;</span>: <span class="number">40960</span></span><br><span class="line">                                                    &#125;,</span><br><span class="line">                                                    &#123;</span><br><span class="line">                                                        <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                                        <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                                        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;vcores&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;value&quot;</span>: <span class="number">20</span></span><br><span class="line">                                                    &#125;</span><br><span class="line">                                                ]</span><br><span class="line">                                            &#125;</span><br><span class="line">                                        &#125;,</span><br><span class="line">                                        <span class="attr">&quot;demandResources&quot;</span>: &#123;</span><br><span class="line">                                            <span class="attr">&quot;memory&quot;</span>: <span class="number">45056</span>,</span><br><span class="line">                                            <span class="attr">&quot;vCores&quot;</span>: <span class="number">32</span>,</span><br><span class="line">                                            <span class="attr">&quot;resourceInformations&quot;</span>: &#123;</span><br><span class="line">                                                <span class="attr">&quot;resourceInformation&quot;</span>: [</span><br><span class="line">                                                    &#123;</span><br><span class="line">                                                        <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                                        <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                                        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;memory-mb&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;Mi&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;value&quot;</span>: <span class="number">45056</span></span><br><span class="line">                                                    &#125;,</span><br><span class="line">                                                    &#123;</span><br><span class="line">                                                        <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                                        <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                                        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;vcores&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;value&quot;</span>: <span class="number">32</span></span><br><span class="line">                                                    &#125;</span><br><span class="line">                                                ]</span><br><span class="line">                                            &#125;</span><br><span class="line">                                        &#125;,</span><br><span class="line">                                        <span class="attr">&quot;steadyFairResources&quot;</span>: &#123;</span><br><span class="line">                                            <span class="attr">&quot;memory&quot;</span>: <span class="number">13654</span>,</span><br><span class="line">                                            <span class="attr">&quot;vCores&quot;</span>: <span class="number">7</span>,</span><br><span class="line">                                            <span class="attr">&quot;resourceInformations&quot;</span>: &#123;</span><br><span class="line">                                                <span class="attr">&quot;resourceInformation&quot;</span>: [</span><br><span class="line">                                                    &#123;</span><br><span class="line">                                                        <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                                        <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                                        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;memory-mb&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;Mi&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;value&quot;</span>: <span class="number">13654</span></span><br><span class="line">                                                    &#125;,</span><br><span class="line">                                                    &#123;</span><br><span class="line">                                                        <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                                        <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                                        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;vcores&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;value&quot;</span>: <span class="number">7</span></span><br><span class="line">                                                    &#125;</span><br><span class="line">                                                ]</span><br><span class="line">                                            &#125;</span><br><span class="line">                                        &#125;,</span><br><span class="line">                                        <span class="attr">&quot;fairResources&quot;</span>: &#123;</span><br><span class="line">                                            <span class="attr">&quot;memory&quot;</span>: <span class="number">81920</span>,</span><br><span class="line">                                            <span class="attr">&quot;vCores&quot;</span>: <span class="number">40</span>,</span><br><span class="line">                                            <span class="attr">&quot;resourceInformations&quot;</span>: &#123;</span><br><span class="line">                                                <span class="attr">&quot;resourceInformation&quot;</span>: [</span><br><span class="line">                                                    &#123;</span><br><span class="line">                                                        <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                                        <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                                        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;memory-mb&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;Mi&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;value&quot;</span>: <span class="number">81920</span></span><br><span class="line">                                                    &#125;,</span><br><span class="line">                                                    &#123;</span><br><span class="line">                                                        <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                                        <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                                        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;vcores&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;value&quot;</span>: <span class="number">40</span></span><br><span class="line">                                                    &#125;</span><br><span class="line">                                                ]</span><br><span class="line">                                            &#125;</span><br><span class="line">                                        &#125;,</span><br><span class="line">                                        <span class="attr">&quot;clusterResources&quot;</span>: &#123;</span><br><span class="line">                                            <span class="attr">&quot;memory&quot;</span>: <span class="number">81920</span>,</span><br><span class="line">                                            <span class="attr">&quot;vCores&quot;</span>: <span class="number">40</span>,</span><br><span class="line">                                            <span class="attr">&quot;resourceInformations&quot;</span>: &#123;</span><br><span class="line">                                                <span class="attr">&quot;resourceInformation&quot;</span>: [</span><br><span class="line">                                                    &#123;</span><br><span class="line">                                                        <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                                        <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                                        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;memory-mb&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;Mi&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;value&quot;</span>: <span class="number">81920</span></span><br><span class="line">                                                    &#125;,</span><br><span class="line">                                                    &#123;</span><br><span class="line">                                                        <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                                        <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                                        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;vcores&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;value&quot;</span>: <span class="number">40</span></span><br><span class="line">                                                    &#125;</span><br><span class="line">                                                ]</span><br><span class="line">                                            &#125;</span><br><span class="line">                                        &#125;,</span><br><span class="line">                                        <span class="attr">&quot;reservedResources&quot;</span>: &#123;</span><br><span class="line">                                            <span class="attr">&quot;memory&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                            <span class="attr">&quot;vCores&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                            <span class="attr">&quot;resourceInformations&quot;</span>: &#123;</span><br><span class="line">                                                <span class="attr">&quot;resourceInformation&quot;</span>: [</span><br><span class="line">                                                    &#123;</span><br><span class="line">                                                        <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                                        <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                                        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;memory-mb&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;Mi&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;value&quot;</span>: <span class="number">0</span></span><br><span class="line">                                                    &#125;,</span><br><span class="line">                                                    &#123;</span><br><span class="line">                                                        <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                                        <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                                        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;vcores&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;value&quot;</span>: <span class="number">0</span></span><br><span class="line">                                                    &#125;</span><br><span class="line">                                                ]</span><br><span class="line">                                            &#125;</span><br><span class="line">                                        &#125;,</span><br><span class="line">                                        <span class="attr">&quot;maxContainerAllocation&quot;</span>: &#123;</span><br><span class="line">                                            <span class="attr">&quot;memory&quot;</span>: <span class="number">16384</span>,</span><br><span class="line">                                            <span class="attr">&quot;vCores&quot;</span>: <span class="number">8</span>,</span><br><span class="line">                                            <span class="attr">&quot;resourceInformations&quot;</span>: &#123;</span><br><span class="line">                                                <span class="attr">&quot;resourceInformation&quot;</span>: [</span><br><span class="line">                                                    &#123;</span><br><span class="line">                                                        <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                                        <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                                        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;memory-mb&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;Mi&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;value&quot;</span>: <span class="number">16384</span></span><br><span class="line">                                                    &#125;,</span><br><span class="line">                                                    &#123;</span><br><span class="line">                                                        <span class="attr">&quot;maximumAllocation&quot;</span>: <span class="number">9223372036854775807</span>,</span><br><span class="line">                                                        <span class="attr">&quot;minimumAllocation&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                                        <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;vcores&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;resourceType&quot;</span>: <span class="string">&quot;COUNTABLE&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;units&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                                                        <span class="attr">&quot;value&quot;</span>: <span class="number">8</span></span><br><span class="line">                                                    &#125;</span><br><span class="line">                                                ]</span><br><span class="line">                                            &#125;</span><br><span class="line">                                        &#125;,</span><br><span class="line">                                        <span class="attr">&quot;allocatedContainers&quot;</span>: <span class="number">16</span>,</span><br><span class="line">                                        <span class="attr">&quot;reservedContainers&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                        <span class="attr">&quot;queueName&quot;</span>: <span class="string">&quot;root.users.root&quot;</span>,</span><br><span class="line">                                        <span class="attr">&quot;schedulingPolicy&quot;</span>: <span class="string">&quot;fair&quot;</span>,</span><br><span class="line">                                        <span class="attr">&quot;preemptable&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">                                        <span class="attr">&quot;numPendingApps&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                                        <span class="attr">&quot;numActiveApps&quot;</span>: <span class="number">8</span></span><br><span class="line">                                    &#125;</span><br><span class="line">                                ]</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                    ]</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="集群应用程序尝试API"><a href="#集群应用程序尝试API" class="headerlink" title="集群应用程序尝试API"></a>集群应用程序尝试API</h3><p>使用应用程序尝试API，您可以获得代表应用程序尝试的资源的集合。在此资源上运行GET操作时，将获得App Attempt对象的集合。</p>
<p>请求URI</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">http://cdh-1:8088/ws/v1/cluster/apps/&#123;appid&#125;/appattempts</span><br></pre></td></tr></table></figure>

<p>请求参数： 无</p>
<p>返回数据</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;appAttempts&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;appAttempt&quot;</span>: [</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">&quot;id&quot;</span>: <span class="number">1</span>,</span><br><span class="line">                <span class="attr">&quot;startTime&quot;</span>: <span class="number">1615272507648</span>,</span><br><span class="line">                <span class="attr">&quot;finishedTime&quot;</span>: <span class="number">0</span>,</span><br><span class="line">                <span class="attr">&quot;containerId&quot;</span>: <span class="string">&quot;container_1615272298938_0001_01_000001&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;nodeHttpAddress&quot;</span>: <span class="string">&quot;cdh-6:8042&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;nodeId&quot;</span>: <span class="string">&quot;cdh-6:8041&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;logsLink&quot;</span>: <span class="string">&quot;http://cdh-6:8042/node/containerlogs/container_1615272298938_0001_01_000001/root&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;blacklistedNodes&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;nodesBlacklistedBySystem&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                <span class="attr">&quot;appAttemptId&quot;</span>: <span class="string">&quot;appattempt_1615272298938_0001_000001&quot;</span></span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th align="left">Item</th>
<th align="left">Data Type</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
<td align="left">id</td>
<td align="left">string</td>
<td align="left">应用尝试ID</td>
</tr>
<tr>
<td align="left">nodeId</td>
<td align="left">string</td>
<td align="left">尝试运行的节点的节点ID</td>
</tr>
<tr>
<td align="left">nodeHttpAddress</td>
<td align="left">string</td>
<td align="left">尝试运行的节点的节点http地址</td>
</tr>
<tr>
<td align="left">logsLink</td>
<td align="left">string</td>
<td align="left">应用程序尝试日志的http链接</td>
</tr>
<tr>
<td align="left">containerId</td>
<td align="left">string</td>
<td align="left">应用尝试容器的ID</td>
</tr>
<tr>
<td align="left">startTime</td>
<td align="left">long</td>
<td align="left">尝试的开始时间（自纪元以来以毫秒为单位）</td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>大数据</category>
      </categories>
      <tags>
        <tag>YARN，大数据</tag>
      </tags>
  </entry>
  <entry>
    <title>2015-2020工作日志</title>
    <url>/Echo/2020/04/02/%E4%BA%94%E5%B9%B4%E5%B7%A5%E4%BD%9C%E6%84%9F%E6%82%9F/</url>
    <content><![CDATA[<h5 id="学校生涯"><a href="#学校生涯" class="headerlink" title="学校生涯"></a>学校生涯</h5><p>​       我自身是河南人，不过有一颗不安分的心。高考志愿填报了大连交通大学，选了软件工程与信息管理与信息系统的双专业学位，学制五年。大三期间参与学校老师ERP沙盘模拟软件的编写工作。在这期间开始真正的接触项目，这时才知道学习与实战的差距。当时主要用的J2EE和java struct。项目做到大四完成。完成第一版之后在学校的校内ERP沙盘大赛和校内实践课程上已经开始运用了。听说现在还在使用中。</p>
<h5 id="北京"><a href="#北京" class="headerlink" title="北京"></a>北京</h5><h6 id="培训"><a href="#培训" class="headerlink" title="培训"></a>培训</h6><p>​     因为一心想去一线城市看看，在择业期毫不犹豫的就选择了去北京。因为大学有项目而且大学主修课程有日语，很顺利的面上了北京利达智通。14年11月开始进入公司实习。在实习前三个月是在济南培训。培训这段时间感觉是最充实的。当时公司主要业务是野村证券。使用的大机语言（COBOL，在校也有相关的选修课还有证书可拿），主要是linux系统上进行开发。三个月的培训每天有作业每月有考核，压力大收获也大。在此期间学的linux和养成的编程习惯让我至今仍有受益。</p>
<h6 id="第一个项目-野村证券MRF"><a href="#第一个项目-野村证券MRF" class="headerlink" title="第一个项目-野村证券MRF"></a>第一个项目-野村证券MRF</h6><p>这个项目主要是为日本野村证券新增一个青少年可以参与基金交易的功能。前一个月由师傅的带领开始正式的面向对象编程，不得不说日本人的式样书真详细。主要负责是功能模块各种数据连接层的处理以及数据库维护等工作。在这工作期间培养了自己的时间观念（某办法日本人特别在意这个）在dead line 前必须完成，好的一点是式样书（详设）写的真详细，不好的一点是没有自己发展的空间。还有个教训让我记忆深刻。在转正后，开始自己独立编写，结对测试的工作模式。由于当时对全角和半角的空格不敏感，这编程过程这个错误反复的犯，差点耽误项目进度。后来就给自己贴了便签，同样的错误绝不能犯第二次。</p>
<h6 id="第二个项目-青森银行的住贷项目"><a href="#第二个项目-青森银行的住贷项目" class="headerlink" title="第二个项目-青森银行的住贷项目"></a>第二个项目-青森银行的住贷项目</h6><p>这个项目是公司开始转型的开始。主要编程语言为java，使用SSM框架来进行开发。这项目算是一个全新的项目从资料上传、申请、审批、贷后管理这房屋住贷全流程。（不同的有两点一、青森银行的住贷是有授权民间金融借贷来进行，二、放款时本人必须到场身份验证）。之前的项目一直用的COBOL，从2016年12月开始重新捡回java进行面向对象开发。从此开始CURD之路，主要是DAO层使用原生的JDBC连接数据库，然后实现CURD操作。除了承担CURD操作之外同时还承担这项目组的DBA的角色。主要有数据库权限分配与管理，数据表视图的创建，数据库表结构创建与维护等工作。项目大概到5月份就开始进行客户验收了，中间去日本青森县出差过1个月，作为现场技术支持。因为我本身有日语N3证书（目前已经过期，日语也忘得差不多了），同时本身的水平在项目组中还不错。过完十一后就日渐想河南老家。北京节假日回家真的太难了。</p>
<h5 id="浪潮之旅"><a href="#浪潮之旅" class="headerlink" title="浪潮之旅"></a>浪潮之旅</h5><h6 id="济南-初识测试、自动化测试"><a href="#济南-初识测试、自动化测试" class="headerlink" title="济南-初识测试、自动化测试"></a>济南-初识测试、自动化测试</h6><p>17年10月开始面试，11月收到浪潮的offer。当时面上大厂，心情激动，这个也可以实现回郑州，只不过要先在济南工作一年左右。入职岗位是测试验证部-测试开发。当时浪潮因为自身要搞自动化测试平台的建设，因为有个目标要在19年4月完成5000+自动化脚本库已经自动化平台的建设。入职后开始搞自动化测试。我的任务主要是前台选择完用例后，我后台开始执行相关测试脚本同时获取脚本执行结果以及日志信息。在18年7月ITMS平台搭建完成，同年获得浪潮集团内部创新一等奖。后续开始除了用例撰写人员全部投入脚本编写工作，自此开始认识测试。从需求分析，用例设计，手工测试，自动化测试，bug回归，事后分析总结等全流程，认识了了解了，熟悉了测试以及自动化用例和脚本如何进行对应。</p>
<h6 id="郑州-挑战与转变"><a href="#郑州-挑战与转变" class="headerlink" title="郑州-挑战与转变"></a>郑州-挑战与转变</h6><p>18年10月因为要在郑州成立大数据产品线。我和我的主管作为河南人，直接安排回到郑州工作。当时的一切都是刚刚开始。</p>
<p>1、协助团队组建——跟随主管以及主管的主管进行人员面试工作，在19年7月完成20人角色完善的大数据测试团队，同时实验服务器等设备申请组装到位；</p>
<p>2、自动化任务——①带领四位成员完成1632自动化脚本撰写任务；②优化ITMS平台脚本上传工作，通过rsync由原来的脚本全量同步变更为脚本增量同步，脚本上传时间缩短15%以上；③借鉴BMC WEB自动化框架完成大数据自动化框架搭建，并实现与ITMS平台的对接；</p>
<p>3、专利负责人——超额完成团队財年指标20%；通过每周的头脑风暴挖掘专利点，共完成发明专利80个。</p>
<p>在这一时期培养了自己如何提问题，如何回答问题。同时培养自己的owner意识，时不时和领导沟通自己项目进度。在大数据自动化搭建期间领悟到了设计优先原则。因为前期有BMC搭建经验，自然而然想直接引用却忽略了二者之间的不同，导致一个月时间的浪费。后来区分二者的相同和不同之处，针对性的设计并开发。在规定时间内及时完成框架搭建，并接入ITMS平台。</p>
<h5 id="离开→新的起点"><a href="#离开→新的起点" class="headerlink" title="离开→新的起点"></a>离开→新的起点</h5><p>经过思考再三决定离开，因为在这里已经完成了大数据自动化框架的搭建，并完全适配ITMS平台。后续的工作不能再给个人带来更大的成长。在3月份开始面试，面试过阿里、腾讯、恒生等公司，因为自己在这里骄傲自满，技术与前言的有些脱节，算法几乎是两眼一抹黑。种种不顺利，在3月底，收到华为外包、阿里外包、网易外包、中电金信以及郑煤机的offer。目前纠结选择中。。。未完待续</p>
]]></content>
      <categories>
        <category>个人</category>
      </categories>
      <tags>
        <tag>个人成长</tag>
      </tags>
  </entry>
  <entry>
    <title>springboot整合shiro和JWT使用指北</title>
    <url>/Echo/2021/11/09/springboot%E6%95%B4%E5%90%88shiro%E5%92%8CJWT%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8C%97/</url>
    <content><![CDATA[<h3 id="shiro是什么？"><a href="#shiro是什么？" class="headerlink" title="shiro是什么？"></a>shiro是什么？</h3><p><code>Shiro</code> 是一个强大的简单易用的 <code>Java</code> 安全框架，主要用来更便捷的 <code>认证，授权，加密，会话管理</code>。<code>Shiro</code> 首要的和最重要的目标就是容易使用并且容易理解，通过 <code>Shiro</code> 易于理解的<code>API</code>，您可以快速、轻松地获得任何应用程序——从最小的移动应用程序最大的网络和企业应用程序。</p>
<h3 id="shiro的功能"><a href="#shiro的功能" class="headerlink" title="shiro的功能"></a>shiro的功能</h3><ol>
<li>Authentication:身份认证、登录，验证用户是不是拥有相应的身份;\</li>
<li>Authorization:授权，即权限验证，验证某个已认证的用户是否拥有某个权限，即判断用户能否进行什么操作，如:验证某个用户是否拥有某个角色，或者细粒度的验证某个用户对某个资源是否具有某个权限!\</li>
<li>Session Manager:会话管理，即用户登录后就是第一次会话，在没有退出之前，它的所有信息都在会话中;会话可以是普通的JavaSE环境，也可以是Web环境;\</li>
<li>Cryptography:加密，保护数据的安全性，如密码加密存储到数据库中，而不是明文存储;\</li>
<li>Web Support: Web支持，可以非常容易的集成到Web环境;\</li>
<li>Caching:缓存，比如用户登录后，其用户信息，拥有的角色、权限不必每次去查，这样可以提高效率\</li>
<li>Concurrency: Shiro支持多线程应用的并发验证，即，如在一个线程中开启另一个线程，能把权限自动的传播过去Testing:提供测试支持;\</li>
<li>Run As:允许一个用户假装为另一个用户（如果他们允许）的身份进行访问;\</li>
<li>Remember Me:记住我，这个是非常常见的功能，即一次登录后，下次再来的话不用登录了\</li>
</ol>
<h3 id="JWT是什么？"><a href="#JWT是什么？" class="headerlink" title="JWT是什么？"></a>JWT是什么？</h3><p>JWT ：JWT（JSON Web Token）是一种身份认证的方式，JWT 本质上就一段签名的 JSON 格式的数据。由于它是带有签名的，因此接收者便可以验证它的真实性。可以理解为对 token 这一技术提出一套规范，是在 <a href="https://link.juejin.cn/?target=https://tools.ietf.org/html/rfc7519">RFC 7519</a> 中提出的。</p>
<h3 id="JWT的组成和优缺点"><a href="#JWT的组成和优缺点" class="headerlink" title="JWT的组成和优缺点"></a>JWT的组成和优缺点</h3><p>本文在这里仅简单介绍JWT的组成和优缺点。详细分析可以在相关搜索引擎中搜索。</p>
<h4 id="JWT的组成"><a href="#JWT的组成" class="headerlink" title="JWT的组成"></a>JWT的组成</h4><p>一个JWT token是一个字符串，它由头部、载荷、与签名中间有.分割组成；</p>
<p>头部（header）：由令牌的类型和正在使用的签名算法组成；</p>
<p>载荷（playload）：放置了token的一些基本信息，以帮助接收服务器理解，同时还有用户自定义信息，支持用户信息交换；</p>
<p>签名（Signature）：主要是将前面的头部和载荷进行加密。</p>
<h4 id="JWT的优缺点"><a href="#JWT的优缺点" class="headerlink" title="JWT的优缺点"></a>JWT的优缺点</h4><p>JWT的优点：</p>
<ul>
<li>防CSRF：CSRF（Cross Site Request Forgery）跨站伪造请求。使用JWT登录成功后，会存放在本地local storage中；\</li>
<li>适合移动端：使用session需要服务端保存一份信息，使用token不需要只要请求携带token，还可跨语言使用；\</li>
<li>无状态：token中有身份验证的所有信息，增加了系统的可用性和伸缩性也带了同样的问题（在缺点中会介绍）；\</li>
<li>单点登录友好：使用session需要我们把所有session信息存在一台电脑上，使用token的话token保存在客户端。\</li>
</ul>
<p>JWT的缺点：</p>
<ul>
<li>无状态导致在注销、退出登录、修改密码、修改角色||权限等场景下token依旧有效；\</li>
<li>token续签问题：即token过期后如何动态刷新token。\</li>
</ul>
<h4 id="shiro-JWT-使用"><a href="#shiro-JWT-使用" class="headerlink" title="shiro + JWT 使用"></a>shiro + JWT 使用</h4><h5 id="JWTtoken-令牌"><a href="#JWTtoken-令牌" class="headerlink" title="JWTtoken 令牌"></a>JWTtoken 令牌</h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.apache.shiro.authc.AuthenticationToken;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JwtToken</span> <span class="keyword">implements</span> <span class="title">AuthenticationToken</span></span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> String token;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">JwtToken</span><span class="params">(String jwt)</span></span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">this</span>.token = jwt;</span><br><span class="line"></span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="meta">@Override</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> Object <span class="title">getCredentials</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> token;</span><br><span class="line"></span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="meta">@Override</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> Object <span class="title">getPrincipal</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> token;</span><br><span class="line"></span><br><span class="line"> &#125;  </span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="jwtutils-JWT工具类主要是生成token设置过期时间"><a href="#jwtutils-JWT工具类主要是生成token设置过期时间" class="headerlink" title="jwtutils JWT工具类主要是生成token设置过期时间"></a>jwtutils JWT工具类主要是生成token设置过期时间</h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.context.properties.ConfigurationProperties;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> io.jsonwebtoken.Claims;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> io.jsonwebtoken.Jwts;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> io.jsonwebtoken.SignatureAlgorithm;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@ConfigurationProperties(prefix = &quot;blogspringback.jwt&quot;)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JwtUtils</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> String secret;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">long</span> expire;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> String header;</span><br><span class="line"></span><br><span class="line">\</span><br><span class="line"></span><br><span class="line">/</span><br><span class="line"></span><br><span class="line"> <span class="meta">@description</span>: 生成token</span><br><span class="line"></span><br><span class="line">  <span class="meta">@param</span> &#123;<span class="keyword">long</span>&#125; userId</span><br><span class="line"></span><br><span class="line">  <span class="meta">@return</span> &#123;JWT token&#125;</span><br><span class="line"></span><br><span class="line"> <span class="meta">@Author</span>: 丑牛</span><br><span class="line"></span><br><span class="line">/</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">generateToken</span><span class="params">(<span class="keyword">long</span> userId)</span></span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 过期时间</span></span><br><span class="line"></span><br><span class="line">  Date dateNow = <span class="keyword">new</span> Date();</span><br><span class="line"></span><br><span class="line">  Date dateExpire =  <span class="keyword">new</span> Date(dateNow.getTime() + expire  <span class="number">1000</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> Jwts.builder()</span><br><span class="line"></span><br><span class="line">    .setHeaderParam(<span class="string">&quot;type&quot;</span>, <span class="string">&quot;JWT&quot;</span>)</span><br><span class="line"></span><br><span class="line">     .setSubject(userId + <span class="string">&quot;&quot;</span>)</span><br><span class="line"></span><br><span class="line">     .setIssuedAt(dateNow)</span><br><span class="line"></span><br><span class="line">     .setExpiration(dateExpire)</span><br><span class="line"></span><br><span class="line">     .signWith(SignatureAlgorithm.HS512, secret)</span><br><span class="line"></span><br><span class="line">     .compact();</span><br><span class="line"></span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Claims <span class="title">getClaimsByToken</span><span class="params">(String token)</span></span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> Jwts.parser()</span><br><span class="line"></span><br><span class="line">  .setSigningKey(secret)</span><br><span class="line"></span><br><span class="line"> .parseClaimsJws(token)</span><br><span class="line"></span><br><span class="line">.getBody();</span><br><span class="line"></span><br><span class="line">  &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line"></span><br><span class="line">   log.debug(<span class="string">&quot;token error&quot;</span>, e);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line">/</span><br><span class="line"></span><br><span class="line"> <span class="meta">@description</span>: 判断token是否过期</span><br><span class="line"></span><br><span class="line">  <span class="meta">@param</span> &#123;Date&#125; expeiration</span><br><span class="line"></span><br><span class="line">  <span class="meta">@return</span> <span class="keyword">true</span>:过期；<span class="keyword">false</span>：未过期</span><br><span class="line"></span><br><span class="line"> <span class="meta">@Author</span>: 丑牛</span><br><span class="line"></span><br><span class="line">/</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isTokenExpired</span><span class="params">(Date expeiration)</span></span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> expeiration.before(<span class="keyword">new</span> Date());</span><br><span class="line"></span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line">&#125;`</span><br><span class="line"></span><br><span class="line">##### JWTFilter 拦截请求</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Jwtfilter</span> <span class="keyword">extends</span> <span class="title">AuthenticatingFilter</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"> <span class="meta">@Autowired</span></span><br><span class="line"></span><br><span class="line"> JwtUtils jwtUtils;</span><br><span class="line"></span><br><span class="line"> <span class="meta">@Override</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">protected</span> AuthenticationToken <span class="title">createToken</span><span class="params">(ServletRequest servletRequest, ServletResponse serverResponse)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line"></span><br><span class="line">  HttpServletRequest request = (HttpServletRequest) servletRequest;</span><br><span class="line"></span><br><span class="line">  String jwt = request.getHeader(<span class="string">&quot;Authorization&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (ObjectUtils.isEmpty(jwt))&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> JwtToken(jwt);</span><br><span class="line"></span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="meta">@Override</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">boolean</span> <span class="title">onAccessDenied</span><span class="params">(ServletRequest servletRequest, ServletResponse serverResponse)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line"></span><br><span class="line">  HttpServletRequest request = (HttpServletRequest) servletRequest;</span><br><span class="line"></span><br><span class="line">  String jwt = request.getHeader(<span class="string">&quot;Authorization&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (ObjectUtils.isEmpty(jwt)) &#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line"></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line"></span><br><span class="line">   Claims claim = JwtUtils.getClaimsByToken(jwt);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (claim == <span class="keyword">null</span> || jwtUtils.isTokenExpired(claim.getExpiration())) &#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">throw</span> <span class="keyword">new</span> ExpiredCredentialsException(<span class="string">&quot;token失效，请重新登录&quot;</span>);</span><br><span class="line"></span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> executeLogin(servletRequest, serverResponse);</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="meta">@Override</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">boolean</span> <span class="title">onLoginFailure</span><span class="params">(AuthenticationToken token, AuthenticationException e, ServletRequest request, ServletResponse response)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">  HttpServletResponse httpServletResponse = (HttpServletResponse) response;</span><br><span class="line"></span><br><span class="line">  Throwable throwable = e.getCause() == <span class="keyword">null</span> ? e : e.getCause();</span><br><span class="line"></span><br><span class="line">  Result result = Result.fail(throwable.getMessage());</span><br><span class="line"></span><br><span class="line">  String json = JSONUtil.toJsonStr(result);</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"></span><br><span class="line">   httpServletResponse.getWriter().print(json);</span><br><span class="line"></span><br><span class="line">  &#125; <span class="keyword">catch</span> (IOException ioException) &#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line"></span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line">\</span><br><span class="line"></span><br><span class="line"> <span class="meta">@Override</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">boolean</span> <span class="title">preHandle</span><span class="params">(ServletRequest request, ServletResponse response)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line"></span><br><span class="line">  HttpServletRequest httpServletRequest = WebUtils.toHttp(request);</span><br><span class="line"></span><br><span class="line">  HttpServletResponse httpServletResponse = WebUtils.toHttp(response);</span><br><span class="line"></span><br><span class="line">  httpServletResponse.setHeader(<span class="string">&quot;Access-control-Allow-Origin&quot;</span>, httpServletRequest.getHeader(<span class="string">&quot;Origin&quot;</span>));</span><br><span class="line"></span><br><span class="line">  httpServletResponse.setHeader(<span class="string">&quot;Access-Control-Allow-Methods&quot;</span>, <span class="string">&quot;GET,POST,OPTIONS,PUT,DELETE&quot;</span>);</span><br><span class="line"></span><br><span class="line">  httpServletResponse.setHeader(<span class="string">&quot;Access-Control-Allow-Headers&quot;</span>,  httpServletRequest.getHeader(<span class="string">&quot;Access-Control-Request-Headers&quot;</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 跨域时会首先发送一个OPTIONS请求，这里我们给OPTIONS请求直接返回正常状态</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (httpServletRequest.getMethod().equals(RequestMethod.OPTIONS.name())) &#123;</span><br><span class="line"></span><br><span class="line">   httpServletResponse.setStatus(org.springframework.http.HttpStatus.OK.value());</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="keyword">super</span>.preHandle(request, response);</span><br><span class="line"></span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h5 id="shiro-config-设置自定义的filter"><a href="#shiro-config-设置自定义的filter" class="headerlink" title="shiro config 设置自定义的filter"></a>shiro config 设置自定义的filter</h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ShiroConfig</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"> <span class="meta">@Autowired</span></span><br><span class="line"></span><br><span class="line"> Jwtfilter jwtFilter;</span><br><span class="line"></span><br><span class="line"> <span class="meta">@Bean</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> SessionManager <span class="title">sessionManager</span><span class="params">(RedisSessionDAO redisSessionDAO)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  DefaultSessionManager sessionManager = <span class="keyword">new</span> DefaultSessionManager();</span><br><span class="line"></span><br><span class="line">  sessionManager.setSessionDAO(redisSessionDAO);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> sessionManager;</span><br><span class="line"></span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="meta">@Bean</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> DefaultWebSecurityManager <span class="title">securityManager</span><span class="params">(AccountRealm accountRealm, SessionManager sessionManager,</span></span></span><br><span class="line"><span class="params"><span class="function"></span></span></span><br><span class="line"><span class="params"><span class="function">   RedisCacheManager redisCacheManager)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  DefaultWebSecurityManager securityManager = <span class="keyword">new</span> DefaultWebSecurityManager(accountRealm);</span><br><span class="line"></span><br><span class="line"><span class="comment">// inject sessionManager</span></span><br><span class="line"></span><br><span class="line">  securityManager.setSessionManager(sessionManager);</span><br><span class="line"></span><br><span class="line"><span class="comment">// inject redisCacheManager</span></span><br><span class="line"></span><br><span class="line">  securityManager.setCacheManager(redisCacheManager);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> securityManager;</span><br><span class="line"></span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="meta">@Bean</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> ShiroFilterChainDefinition <span class="title">shiroFilterChainDefinition</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  DefaultShiroFilterChainDefinition chainDefinition = <span class="keyword">new</span> DefaultShiroFilterChainDefinition();</span><br><span class="line"></span><br><span class="line">  Map &lt; String, String &gt; filterMap = <span class="keyword">new</span> LinkedHashMap &lt;&gt; ();</span><br><span class="line"></span><br><span class="line">  filterMap.put(<span class="string">&quot;/&quot;</span>, <span class="string">&quot;jwt&quot;</span>);</span><br><span class="line"></span><br><span class="line">  chainDefinition.addPathDefinitions(filterMap);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> chainDefinition;</span><br><span class="line"></span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="meta">@Bean(&quot;shiroFilterFactoryBean&quot;)</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> ShiroFilterFactoryBean <span class="title">shiroFilterFactoryBean</span><span class="params">(org.apache.shiro.mgt.SecurityManager securityManager,</span></span></span><br><span class="line"><span class="params"><span class="function"></span></span></span><br><span class="line"><span class="params"><span class="function">              ShiroFilterChainDefinition shiroFilterChainDefinition)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  ShiroFilterFactoryBean shiroFilter = <span class="keyword">new</span> ShiroFilterFactoryBean();</span><br><span class="line"></span><br><span class="line">  shiroFilter.setSecurityManager(securityManager);</span><br><span class="line"></span><br><span class="line">  Map &lt; String, Filter &gt; filters = <span class="keyword">new</span> HashMap &lt;&gt; ();</span><br><span class="line"></span><br><span class="line">  filters.put(<span class="string">&quot;jwt&quot;</span>, jwtFilter);</span><br><span class="line"></span><br><span class="line">  shiroFilter.setFilters(filters);</span><br><span class="line"></span><br><span class="line">  Map &lt; String, String &gt; filterMap = shiroFilterChainDefinition.getFilterChainMap();</span><br><span class="line"></span><br><span class="line">  shiroFilter.setFilterChainDefinitionMap(filterMap);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> shiroFilter;</span><br><span class="line"></span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h5 id="shiro工具类-获取当前用户登录信息"><a href="#shiro工具类-获取当前用户登录信息" class="headerlink" title="shiro工具类 获取当前用户登录信息"></a>shiro工具类 获取当前用户登录信息</h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ShiroUtil</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> AccountProfile <span class="title">getProfile</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> (AccountProfile) SecurityUtils.getSubject().getPrincipal();</span><br><span class="line"></span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h5 id="realm类-实现认证与授权"><a href="#realm类-实现认证与授权" class="headerlink" title="realm类 实现认证与授权"></a>realm类 实现认证与授权</h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AccountRealm</span> <span class="keyword">extends</span> <span class="title">AuthorizingRealm</span></span>&#123;</span><br><span class="line"></span><br><span class="line"> <span class="meta">@Autowired</span></span><br><span class="line"></span><br><span class="line"> JwtUtils jwtUtils;</span><br><span class="line"></span><br><span class="line"> <span class="meta">@Autowired</span></span><br><span class="line"></span><br><span class="line"> UserService userService;</span><br><span class="line"></span><br><span class="line"> <span class="meta">@Override</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">supports</span><span class="params">(AuthenticationToken token)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> token <span class="keyword">instanceof</span> JwtToken;</span><br><span class="line"></span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="meta">@Override</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">protected</span> AuthorizationInfo <span class="title">doGetAuthorizationInfo</span><span class="params">(PrincipalCollection principals)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="meta">@Override</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">protected</span> AuthenticationInfo <span class="title">doGetAuthenticationInfo</span><span class="params">(AuthenticationToken token)</span> <span class="keyword">throws</span> AuthenticationException </span>&#123;</span><br><span class="line"></span><br><span class="line">  JwtToken jwtToken = (JwtToken) token;</span><br><span class="line"></span><br><span class="line">  String userId = JwtUtils.getClaimsByToken((String) jwtToken.getPrincipal()).getSubject();</span><br><span class="line"></span><br><span class="line">  User user = userService.getById(Long.valueOf(userId));</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (user == <span class="keyword">null</span>) &#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">throw</span> <span class="keyword">new</span> UnknownAccountException(<span class="string">&quot;账户不存在&quot;</span>);</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (user.getStatus() == -<span class="number">1</span>) &#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">throw</span> <span class="keyword">new</span> LockedAccountException(<span class="string">&quot;账户已被锁定&quot;</span>);</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  AccountProfile profile = <span class="keyword">new</span> AccountProfile();</span><br><span class="line"></span><br><span class="line">  BeanUtil.copyProperties(user, profile);</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> SimpleAuthenticationInfo(profile, jwtToken.getCredentials(), getName());</span><br><span class="line"></span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>PS <a href="https://github.com/hugfeature/spring-example/tree/main/blog-spring-back">demo地址</a></p>
]]></content>
      <categories>
        <category>测试开发</category>
      </categories>
      <tags>
        <tag>java</tag>
        <tag>springboot</tag>
      </tags>
  </entry>
  <entry>
    <title>MapReduce是什么？</title>
    <url>/Echo/2022/01/03/%E4%BB%80%E4%B9%88%E6%98%AFMapReduce/</url>
    <content><![CDATA[<h4 id="为什么需要MapReduce？"><a href="#为什么需要MapReduce？" class="headerlink" title="为什么需要MapReduce？"></a>为什么需要MapReduce？</h4><p><img src="Map-Reduce.jpg" alt="Map-Reduce"></p>
<p>MapReduce是**”处理单元”，**使用此组件，我们可以处理存储在Hadoop HDFS上的大数据。</p>
<p>但确切的要求是为什么我们需要Hadoop的这个组件？</p>
<p>存储在Hadoop HDFS上的大数据和传统存储不一样。数据被划分为存储在各个DataNodes中的数据块。因此，整个数据不会存储在一个集中的位置。</p>
<p>因此，像Java这样的本机客户端应用程序或任何此类应用程序无法以当前格式处理数据，我们需要一个特殊的框架来处理存储在各个DataNodes中的碎片化数据块。</p>
<p>处理是使用Hadoop MapReduce处理完成的。</p>
<h4 id="MapReduce简述"><a href="#MapReduce简述" class="headerlink" title="MapReduce简述"></a>MapReduce简述</h4><p><img src="NutShell-MapReduce.jpg" alt="NutShell-MapReduce"></p>
<p>如图所示显示了MapReduce的功能和用途。</p>
<p>让我们从MapReduce的应用程序开始及如何应用。它用于分类器，索引和搜索，以及在电子商务网站（Flipkart，Amazon等）上创建推荐引擎。它也被几家公司用作分析。</p>
<p>当我们从功能的角度来看，它是一个编程模型，可以用于像Hadoop HDFS这样的大规模分布式模型，并且具有并行编程的功能，使其非常有用。</p>
<p>当我们在Map Reduce中看到函数时，会执行两个函数，即Map Function和Reduce函数。</p>
<p>这项技术已经由谷歌，雅虎，Facebook等主要组织实施，也被Apache Hadoop采用，如HDFS，PIG，HIVE，并使用HBase存储数据或执行和处理大数据，也称为No-SQL。</p>
<h5 id="MapReduce的优点"><a href="#MapReduce的优点" class="headerlink" title="MapReduce的优点"></a>MapReduce的优点</h5><p>1、并行处理</p>
<p><img src="Advantage.jpg" alt="Advantage"></p>
<p>整个数据块被Hadoop HDFS分成HDFS块，MapReduce并行处理这些数据块，因此处理变得很快。</p>
<p>2、数据局部性</p>
<p>这是Hadoop MapReduce给出的一个多功能的东西，即我们可以在它所在的位置处理数据。</p>
<p><em><strong>这是什么意思？</strong></em></p>
<p>在之前的HDFS教程中，我们了解到我们移动到Hadoop Cluster中的数据被划分为HDFS块，这些块被保存到SlaveMachines或DataNodes中。Map-Reduce将处理和逻辑感知到数据驻留在HDFS块中的相应从节点或DataNodes。</p>
<p>处理在多个位置的较小数据块上并行执行。这节省了大量时间以及将大数据从一个位置移动到另一个位置所需的网络带宽。</p>
<p>请记住，我们正在处理的数据是分解成块的大数据，如果我们开始将大数据直接通过分配的网络通道移动到集中式计算机中并对其进行处理，那么它将不会给我们带来任何优势，因为我们将消耗整个带宽将数据移动到集中式服务器。</p>
<p>因此，使用Hadoop MapReduce，我们不只是在进行”并行处理”，我们还将数据处理到存在数据块的相应从节点或DataNodes上，因此我们也”节省了大量网络带宽”，这是非常有益的。</p>
<p>最后，SlaveMachines完成了对存储在SlaveMachines的数据的处理，它们将结果发送回主机器，因为结果不如SlaveMachines上存储的块大。因此，它不会占用大量带宽。</p>
<p>从属计算机将结果发送回主计算机，这些结果将聚合在一起，最终结果将发送回提交作业的客户端计算机。</p>
<p><em><strong>如何决定哪些数据应该在哪个DataNode上处理？</strong></em></p>
<p>客户端将作业提交给资源管理器，资源管理器是提供在数据所在的相应 DataNode 上执行作业的方向的资源管理器，它根据最近的可用 DataNode 做出决定，以便不会使用大量网络带宽。</p>
<h4 id="传统方式VSMapReduce方式"><a href="#传统方式VSMapReduce方式" class="headerlink" title="传统方式VSMapReduce方式"></a>传统方式VSMapReduce方式</h4><p>假设有五个保险公司分支机构，人们来申请人寿保险单。现在，还有一家保险公司的总部，该总部拥有有关可用和所在分支机构的所有信息。</p>
<p>但是，当人们来各自的分行A，B，C，D，E申请人寿保险时，保单申请保留在各自的分行本身，并且该信息不会与保险公司总部共享。</p>
<p>1、传统方式</p>
<p>传统为了上解决这个问题，所有申请将被转移到保险公司总部，然后申请过程将开始。</p>
<p>在这种情况下，我们需要将所有申请转移到保险公司总部，这是一件代价高昂的事情，即必须从保险公司分支机构收集所有申请并将其带到保险公司总部。</p>
<p>这就是成本以及进行此活动的巨大努力的方式。</p>
<p><img src="Traditional-way-1.jpg" alt="Traditional-way-1"></p>
<p><img src="Traditional-way-2.jpg" alt="Traditional-way-2"></p>
<p>另一个方面是保险公司总部负担过重，因为它必须处理人民在各自分支机构申请保单的所有申请。</p>
<p>由于保险公司正在处理所有分支机构都适用的申请，因此需要很长时间。最后，这个过程效果不是很好。</p>
<p>2、MapReduce方式</p>
<p>MapReduce遵循Data Locality，即它不会将所有应用程序带到保险公司总部，而是并行处理各个分支机构本身的应用程序。</p>
<p><img src="MapReduce-Way.jpg" alt="MapReduce-Way"></p>
<p>一旦应用于每个分支机构的申请得到处理，他们就会将处理后的详细信息发回保险公司总部。</p>
<p>现在，保险公司总部只需要汇总从各自分支机构发送的已处理申请的数量，并将详细信息保存在各自的数据库或存储中心。</p>
<p>通过这种方式，处理将非常容易和快速，保单持有人可以立即获得福利。</p>
<h4 id="MapReduce运行原理"><a href="#MapReduce运行原理" class="headerlink" title="MapReduce运行原理"></a>MapReduce运行原理</h4><p>在前面的示例中，我们有一个分布在各个分支之间的输入（应用程序），每个输入都由相应的 Map 函数处理。</p>
<p>我们知道MapReduce有两个函数，即Map Function和Reduce Function。</p>
<p>在各个分支上完成的处理部分由 Map 函数完成。因此，每个分支机构中的每个输入（应用程序）都使用Map函数进行处理，之后处理后的详细信息被发送到保险公司总部，聚合部分由Reduce功能完成。</p>
<p>聚合的已处理应用程序详细信息作为输出提供。</p>
<p><img src="MapReduce-in-Detail.jpg" alt="MapReduce-in-Detail"></p>
<p>这就是我们前面的例子中发生的事情。整个过程分为map任务和reduce任务。</p>
<p>映射任务获取输入，映射任务的输出作为输入提供给 Reduce 任务，此 Reduce 任务最终将输出提供给客户端。</p>
<p>为了更好地理解它，让我们来了解一下MapReduce的解剖结构。</p>
<p><img src="Anatomy-of-MapReduce.jpg" alt="Anatomy-of-MapReduce"></p>
<p>MapReduce任务在键值对上工作，因此当我们谈论Map时，Map将输入作为键值，并将输出作为键值列表给出。此键值列表将经历随机播放阶段，键的输入和值列表将转到化简器。</p>
<p>最后，Reducer 为我们提供了键值对的列表。</p>
<h4 id="结尾"><a href="#结尾" class="headerlink" title="结尾"></a>结尾</h4><ul>
<li>Hadoop Map Reduce是Hadoop的”处理单元”。</li>
<li>为了处理Hadoop HDFS存储的大数据，我们使用Hadoop Map Reduce。</li>
<li>它用于搜索和索引，分类，推荐和分析。</li>
<li>它具有编程模型，并行编程和大规模分布式模型等功能。</li>
<li>MapReduce的设计模式是：汇总，热门记录的分类，排序和分析，如连接和选择。</li>
<li>它只有两个功能，即mapper功能和reducer功能。</li>
<li>并行处理和数据局部性是Hadoop MapReduce的良好优势。</li>
<li>MapReduce的过程分为六个阶段，即输入，拆分，映射，洗牌，减少和最终结果</li>
</ul>
]]></content>
      <categories>
        <category>大数据</category>
      </categories>
      <tags>
        <tag>大数据</tag>
        <tag>MapReduce</tag>
      </tags>
  </entry>
  <entry>
    <title>YARN原理及工作流？</title>
    <url>/Echo/2022/01/08/%E4%BB%80%E4%B9%88%E6%98%AFYARN/</url>
    <content><![CDATA[<h4 id="YRAN是什么？"><a href="#YRAN是什么？" class="headerlink" title="YRAN是什么？"></a>YRAN是什么？</h4><p>YARN是hadoop集群中另一个资源管理者，为需要在Hadoop集群上执行的各种作业分配资源。在Hadoop 2.0中引入的。在Hadoop 2.0中引入了YARN，使用它能够超越MapReduce。</p>
<p><img src="Framework-Supported-by-YARN.jpg" alt="Framework-Supported-by-YARN"></p>
<p>正如你在图中看到的，我们在两者之间的底部有HDFS，我们有YARN并使用YARN，很多框架都能够连接和利用HDFS。因此，即使MapReduce也用于使用YARN进行连接以请求资源，并且只有这样它才能通过HDFS（即Hadoop Cluster）执行作业。</p>
<p>同样;SPARK，STORM和其他搜索引擎可以连接到HDFS。HBase是一个No SQL数据库也可以连接它。因此，HDFS的应用变得庞大，因为YARN能够为其他框架和其他大数据分析工具更好的分配资源。</p>
<h4 id="Hadoop-2-x-守护进程"><a href="#Hadoop-2-x-守护进程" class="headerlink" title="Hadoop 2.x 守护进程"></a>Hadoop 2.x 守护进程</h4><p>让我们快速看一下Hadoop 2.0中新引入的守护进程，它们运行组件，即存储和处理。</p>
<p>在HDFS一文中，我们详细理解了守护进程，即NameNode和DataNode。在此，我们将了解资源管理器和节点管理器如何在 Hadoop 2.x 群集中工作，以管理需要在 Hadoop 群集中执行的处理和作业。</p>
<p><img src="Hadoop-2-Daemons.jpg" alt="Hadoop-2-Daemons"></p>
<p>什么是资源管理器？资源管理器是在主计算机或 NameNode（高端计算机）上运行的主守护程序。另一方面，节点管理器是在从属机器或DataNodes上运行的守护进程，或者与DataNode进程一起运行。</p>
<h4 id="Hadoop-2-x-MapReduce-YARN-组件"><a href="#Hadoop-2-x-MapReduce-YARN-组件" class="headerlink" title="Hadoop 2.x MapReduce YARN 组件"></a>Hadoop 2.x MapReduce YARN 组件</h4><p>首先我们探讨下YARN的其他组件：</p>
<ul>
<li><strong>客户端：</strong>它是一个提交类似作业的命令行界面 （CLI） 的单元，客户端可以是 JAVA 应用程序。</li>
<li><strong>资源管理器：</strong>它是一个主守护程序，所有作业都从客户端提交到该守护程序，并且是分配所有群集级别资源以执行特定作业的主守护程序。它运行在具有高质量硬件和良好配置的高端计算机上，因为它是必须管理群集上所有内容的主计算机。</li>
<li><strong>节点管理器</strong>：它是一个在从属机器或DataNode上运行的从属守护进程，因此每个从属机器都有一个运行的节点管理器。它监视特定 DataNode 的资源，资源管理器管理群集资源，节点管理器管理 DataNode 资源。</li>
<li><strong>作业历史记录服务器：</strong>它是跟踪已在群集上执行或已提交到群集的所有作业的单元。它还跟踪状态，并保留在Hadoop集群上发生的每次执行的日志文件。</li>
<li><strong>应用程序主</strong>设备：它是一个通过节点计算机（从属计算机）执行的组件，由资源管理器创建以执行和管理作业。它是从资源管理器协商资源并最终与节点管理器协调以执行任务的那个。</li>
<li><strong>容器：</strong>它由节点管理器本身创建，该节点管理器已由资源管理器分配，所有作业最终在容器中执行。</li>
</ul>
<h4 id="YARN工作流程"><a href="#YARN工作流程" class="headerlink" title="YARN工作流程"></a>YARN工作流程</h4><p><img src="YARN-Work-Flow.jpg" alt="YARN-Work-Flow"></p>
<p>如上图所示，有一个资源管理器，所有作业都已提交到该管理器，并且有一个群集，其中有从属计算机，并且在每台从属计算机上，都有一个节点管理器正在运行。</p>
<p>资源管理器有两个组件，即计划程序和应用程序管理器。</p>
<p>应用程序主服务器和应用程序管理器之间有什么区别？</p>
<p>应用程序管理器是资源管理器的一个组件，可确保执行每个任务并为其创建应用程序主节点。另一方面，应用程序主服务器是执行任务并请求需要执行的所有资源的人员。</p>
<p>假设作业已提交到资源管理器，一旦作业提交，计划程序就会计划该作业。一旦计划程序计划要执行的作业，应用程序管理器将在其中一个DataNode 中创建一个容器，并且在此容器中，将启动应用程序主节点。</p>
<p>然后，此应用程序主机将向资源管理器注册，并请求容器来执行任务。分配容器后，应用程序主节点现在将与节点管理器连接，并请求启动容器。</p>
<p>正如我们所看到的，应用程序主节点被分配给DataNodes D和E，现在这个应用程序主节点请求节点管理器启动DataNode D和DataNode E的容器。</p>
<p>一旦容器启动，应用程序主服务器将在容器内执行任务，结果将发送回客户端。</p>
<h4 id="作业执行流程"><a href="#作业执行流程" class="headerlink" title="作业执行流程"></a>作业执行流程</h4><p>我们以一种顺序的方式理解资源申请流程。</p>
<p><img src="Sequence-of-Execution.jpg" alt="Sequence-of-Execution"></p>
<p>图中有四个组件，一个是客户端（client），一个是资源管理器（resource manager），一个是节点管理器（node manager），一个是程序主节点（application master）</p>
<p>第一步是将作业提交给资源管理器的客户端，在第二步中，资源管理器分配一个容器以启动从属计算机上的应用程序主站;第三步是应用程序主机向资源管理器注册。</p>
<p>一旦它注册，它就会请求容器执行任务，即第四步。在步骤 5 中，应用程序主机通知需要在其上启动容器的节点管理器。</p>
<p>在第六步中，节点管理器启动容器后，应用程序主机将在这些容器中执行代码。</p>
<p>最后，在第七步中，客户端联系资源管理器或应用程序主机以监视应用程序状态。</p>
<p>最后，应用程序主机将从资源管理器中注销自身，并将结果返回给客户端。因此，这是一个简单的顺序流，说明如何使用YARN框架执行MapReduce程序。</p>
]]></content>
      <categories>
        <category>大数据</category>
      </categories>
      <tags>
        <tag>大数据</tag>
        <tag>yarn</tag>
      </tags>
  </entry>
  <entry>
    <title>hadoop是什么？</title>
    <url>/Echo/2021/12/27/%E4%BB%80%E4%B9%88%E6%98%AFhadoop%EF%BC%9F/</url>
    <content><![CDATA[<p>Apache Hadoop是一个开源框架，用于管理所有类型的数据（结构化，非结构化和半结构化）。</p>
<p>众所周知，如果我们想处理，存储和管理我们的数据，那么RDBMS是最好的解决方案。但是，数据应采用结构化格式，以便使用 RDBMS 进行处理。此外，如果数据大小增加，则RDBMS无法处理它，我们需要定期执行数据库清理。</p>
<p>这可能会导致历史数据丢失，并且无法在某些行业（如天气预报，银行，保险，销售等）中生成准确可靠的结果。RDBMS的另一个问题是，如果主服务器出现故障，那么我们可能会丢失重要数据并遭受很多损失。</p>
<p>在本教程中，我们将看到如何使用Apache Hadoop克服这些问题。</p>
<p>Hadoop是一个分布式文件系统，可以存储大量数据（PB级和TB级数据）。数据处理速度也非常快，并且具有非常高的容错系统，因此可提供可靠的结果。</p>
<p>Hadoop是一个基于Java的开源编程框架，支持在分布式计算环境中存储和处理大型数据集。</p>
<p>Hadoop基于使用商用硬件的集群概念。它不需要任何复杂的配置，我们可以用更便宜，简单和轻量级的配置硬件建立Hadoop环境。</p>
<p>简而言之，群集概念是以复制格式存储在多台计算机上的数据，因此，当数据所在的某个位置发生任何问题或灾难时，必须在另一个位置上安全地提供该数据的重复副本。</p>
<h4 id="hadoop-VS-RDMBS"><a href="#hadoop-VS-RDMBS" class="headerlink" title="hadoop VS RDMBS"></a>hadoop VS RDMBS</h4><table>
<thead>
<tr>
<th>Feature</th>
<th>Hadoop</th>
<th>RDBMS</th>
</tr>
</thead>
<tbody><tr>
<td><strong>体系结构</strong></td>
<td>Hadoop基于HDFS，MapReduce和YARN。</td>
<td>RDBMS 基于 ACID 属性。</td>
</tr>
<tr>
<td><strong>规模</strong></td>
<td>可以处理大量数据。</td>
<td>RDBMS 无法处理大量数据。</td>
</tr>
<tr>
<td><strong>数据的种类/类型</strong></td>
<td>可以处理结构化，半结构化和非结构化数据，如视频，图像，CSV文件，xml等。</td>
<td>仅处理结构化数据。</td>
</tr>
<tr>
<td><strong>速度</strong></td>
<td>快速处理大量数据。</td>
<td>处理大量数据时非常慢。</td>
</tr>
<tr>
<td><strong>吞吐量</strong></td>
<td>高吞吐量。</td>
<td>吞吐量低。</td>
</tr>
<tr>
<td><strong>容错</strong></td>
<td>非常好</td>
<td>如果主服务器出现故障，则无法恢复丢失的数据。</td>
</tr>
<tr>
<td><strong>存储</strong></td>
<td>非常高的存储容量。</td>
<td>无法存储大数据。</td>
</tr>
<tr>
<td><strong>可靠性</strong></td>
<td>非常可靠，可生成准确的历史和当前报告。</td>
<td>在大数据方面不可靠。</td>
</tr>
</tbody></table>
<h4 id="hadoop-功能"><a href="#hadoop-功能" class="headerlink" title="hadoop 功能"></a>hadoop 功能</h4><p>Hadoop框架</p>
<p><img src="Hadoop-Features.webp" alt="Hadoop-Features"></p>
<ul>
<li>Hadoop yarn</li>
<li>Hadoop common</li>
<li>Hadoop HDFS(Hadoop Distributed File System)</li>
<li>Hadoop Mapreduce</li>
</ul>
<p><strong>#1）Hadoop YARN：YARN</strong>代表**”Y**et <strong>A</strong>nother <strong>R</strong>esource <strong>N</strong>egotiator”，用于管理云的集群技术。它用于作业计划。</p>
<p><strong>#2）Hadoop Common：</strong>这是用于与Hadoop的其他功能（如YARN，MapReduce和HDFS）进行通信的详细库或实用程序。</p>
<p><strong>#3）Hadoop HDFS：</strong>分布式文件系统在Hadoop中用于存储和处理大量数据。此外，它还用于访问群集中的数据。</p>
<p><strong>#4） Hadoop MapReduce：</strong> MapReduce是Hadoop的主要功能，负责处理集群中的数据。它用于作业调度和数据处理监控。</p>
<h4 id="Hadoop-架构"><a href="#Hadoop-架构" class="headerlink" title="Hadoop 架构"></a>Hadoop 架构</h4><p>Hadoop组件：</p>
<ul>
<li>HDFS</li>
<li>MapReduce</li>
<li>YARN</li>
</ul>
<p><img src="Hadoop-framework.png" alt="Hadoop-framework"></p>
<p>这些是Hadoop架构的三个重要组成部分。我们还应该了解架构的一些术语或概念，并了解它们是如何工作的。</p>
<ol>
<li>管理节点–manager node</li>
<li>数据节点–data node</li>
<li>辅助管理节点–secondary manager node </li>
<li>块–blocks</li>
</ol>
<p>1）name node–管理节点</p>
<p>管理节点是 HDFS 中的主节点。它包含HDFS的元数据，如文件信息，目录结构，块信息以及数据节点的所有信息等。管理节点仅负责从客户端访问的数据或文件。它跟踪文件中的所有事务或所做的更改。</p>
<p>它主要适用于两个文件，即FsImage和EditLogs。Name Node有一个JobTracker，其中包含数据节点的所有详细信息，例如哪个数据节点具有什么任务，每个数据节点有多少块，每个数据节点的检测信号，群集中的作业计划详细信息等。</p>
<p>简而言之，我们可以说 JobTracker 包含每个数据节点的 TaskTracker。</p>
<p>2） data node – 数据节点</p>
<p>数据节点是HDFS中的从节点。数据节点负责数据的实际存储和处理。它的主要任务是将作业划分为三个块，并将其存储在不同的数据节点中。之后开始处理数据。</p>
<p>此外，它还具有TaskTracker，它具有每个块的完整信息，以及哪个块负责哪个任务，哪些块完成了任务等，并且在处理数据后，它将信息发送到manager Node。每次数据节点启动时，它都会再次将所有信息发送到管理节点。</p>
<p>3）辅助管理节点–secondary manager node </p>
<p>辅助管理节点用于容错情况。在两种情况下，管理节点已关闭，并且整个 Hadoop 结构将失败，因为管理节点是单点故障。</p>
<p>（i）如果管理节点由于任何问题而重新启动，那么由于它具有大量数据而再次出现，那么恢复它需要时间。</p>
<p>（ii）在管理节点崩溃的情况下，所有HDFS数据都将丢失并且无法再次恢复，因为管理节点是单点故障。因此，为了克服这些问题，辅助管理节点就在那里。它还包含与管理节点相同的命名空间映像和编辑日志。</p>
<p>在一段时间后，它将复制命名空间映像，并从管理节点更新编辑日志。因此，在管理节点失败的情况下，辅助管理节点进入图片并表现得与主名称节点类似。由于此过程，它可以防止完全失败。</p>
<p>4）blocks–块</p>
<p>块是HDFS中最小的单位。Hadoop可以处理大量的文件，因为它将其分成小块。我们可以说，块只不过是一个大文件的数据。每个块的大小为128MB。这些块保存在数据节点中并处理数据。</p>
<p><img src="Components-used-in-Hadoop.png" alt="Components-used-in-Hadoop"></p>
<p>Hadoop 分布式文件系统 （HDFS） 是 Hadoop 集群中使用的文件系统。HDFS主要用于在集群中存储Hadoop数据。HDFS通常致力于顺序数据处理。正如我们已经知道的那样，它基于主从架构。</p>
<p>集群的所有元数据都保存在 JobTracker 的 Name 节点上，实际数据存储在 TaskTracker 的 HDFS 的数据节点中。</p>
<p>MapReduce负责数据的处理。每当任何文件进入集群进行处理时，第一个数据节点都会将其划分为块，每个块包含64MB的数据，它可以存储128MB。然后，每个块将复制两次，并存储在群集中任何位置的不同数据节点中。</p>
<p>所有这些信息都将发送到名称节点，名称节点将以元数据的形式存储此信息。然后，数据的实际处理将启动数据节点，并将每三秒向名称节点发送一次检测信号，以便名称节点具有此数据节点正在处理的信息。</p>
<p>如果数据节点中的任何人发送检测信号失败，则名称节点将再次在另一个数据节点上创建该块的副本并开始处理。</p>
<p>所有这些信息或快照将存储在FsImage中，如果完成任何事务，则编辑日志合并新信息并始终保留日志的新副本。</p>
<p>将采用首先完成任务的块，数据节点将向名称节点发送信息，名称节点将采取相应的操作。</p>
<p>在整个过程中，YARN将支持并向系统提供所需的资源，因此不会影响数据处理和速度。处理数据后，结果将保存在HDFS中以供进一步分析。</p>
]]></content>
      <categories>
        <category>大数据</category>
      </categories>
      <tags>
        <tag>大数据，数据</tag>
      </tags>
  </entry>
  <entry>
    <title>大数据是什么？</title>
    <url>/Echo/2021/12/19/%E4%BB%80%E4%B9%88%E6%98%AF%E5%A4%A7%E6%95%B0%E6%8D%AE/</url>
    <content><![CDATA[<h3 id="什么是大数据？"><a href="#什么是大数据？" class="headerlink" title="什么是大数据？"></a>什么是大数据？</h3><p>“巨大”这个词不足以解释大数据，某些特征将数据分类为大数据。</p>
<p>我们有大数据的三个主要特征，如果任何数据满足这些特征，那么它将被视为大数据。它是下面提到的三个 V 的组合：</p>
<ul>
<li>volume：体积</li>
<li>velocity：速度</li>
<li>variety：多样性</li>
</ul>
<p><img src="Three-Vs.png"></p>
<p>volume：应该是巨大体积的数据。大数据具有维护大量数据的解决方案，这些数据以TB或PB为单位。我们可以轻松有效地对大数据执行CRUD（创建，读取，更新和删除）操作。</p>
<p>volecity：更快地访问数据。如今的社交媒体需要在很短的时间内快速交换数据，而大数据是它的最佳解决方案。因此，速度是另一个特征，它是数据的处理速度。</p>
<p>variety：在社交媒体上，我们正在处理非结构化数据，如音频或视频记录，图像等。此外，银行领域等各个行业都需要结构化和半结构化数据。大数据是在一个地方维护两种类型的数据的解决方案。</p>
<p>多样性意味着不同类型的数据，如多个来源的结构化/非结构化数据。</p>
<p><strong>结构化数据</strong>：具有适当结构的数据或可以轻松存储在任何关系数据库中（如Oracle，SQL Server或MySQL）中的表格形式的数据称为结构化数据。我们可以轻松有效地处理或分析它。</p>
<p>结构化数据的一个例子是存储在关系数据库中的数据，可以使用SQL（结构化查询语言）进行管理。<strong>例如</strong>员工数据（姓名、ID、职称和薪水）可以以表格格式存储。</p>
<p>在传统数据库中，只有在非结构化或半结构化数据格式化或适合关系数据库后，我们才能执行操作或处理数据。结构化数据<strong>的示例</strong>包括 ERP、CRM 等。</p>
<p><strong>半结构化数据：</strong>半结构化数据是未完全格式化的数据。它不存储在数据表或任何数据库中。但是，我们仍然可以轻松准备和处理它，因为此数据包含标记或逗号分隔值等。半结构化数据的示例：XML文件，CSV文件等。</p>
<p><strong>非结构化数据：</strong>非结构化数据是没有任何结构的数据。它可以是任何形式，没有预定义的数据模型。我们无法将其存储在传统数据库中。搜索和处理它很复杂。</p>
<p>此外，非结构化数据的数量也非常高。非结构化数据的示例：电子邮件正文、音频、视频、图像、实现的文档等。</p>
<h4 id="传统数据库的挑战"><a href="#传统数据库的挑战" class="headerlink" title="传统数据库的挑战"></a>传统数据库的挑战</h4><p><img src="Challenges-of-Traditional-Databases.png" alt="Challenges-of-Traditional-Databases"></p>
<ul>
<li>传统数据库不支持各种数据，即它无法处理非结构化和半结构化数据。</li>
<li>传统数据库在处理大量数据时速度很慢。</li>
<li>在传统数据库中，处理或分析大量数据非常困难。</li>
<li>传统数据库能够存储以 TB 或 PB 为单位的数据。</li>
<li>传统数据库无法处理历史数据和报告。</li>
<li>经过一定时间后，需要对数据库进行数据清理。</li>
<li>使用传统数据库，维护大量数据的成本非常高。</li>
<li>传统数据库中的数据准确性较低，因为其中未维护完整的历史数据。</li>
</ul>
<h4 id="与传统数据库相比，大数据的优势"><a href="#与传统数据库相比，大数据的优势" class="headerlink" title="与传统数据库相比，大数据的优势"></a>与传统数据库相比，大数据的优势</h4><p><img src="Advantages-of-BigData-over-Traditional-database.png" alt="Advantages-of-BigData-over-Traditional-database"></p>
<ul>
<li>大数据负责处理、管理和处理不同类型的数据，如结构化、半结构化和非结构化数据。</li>
<li>它在维护大量数据方面具有成本效益。它适用于分布式数据库系统。</li>
<li>我们可以使用大数据技术长时间保存大量数据。因此，处理历史数据和生成准确报告很容易。</li>
<li>数据处理速度非常快，因此社交媒体正在使用大数据技术。</li>
<li>数据准确性是大数据的一大优势。</li>
<li>它允许用户根据当前和历史数据为其业务做出有效的决策。</li>
<li>错误处理、版本控制和客户体验在大数据中非常有效。</li>
</ul>
<h4 id="大数据中的挑战和风险"><a href="#大数据中的挑战和风险" class="headerlink" title="大数据中的挑战和风险"></a>大数据中的挑战和风险</h4><p><strong>挑战：</strong></p>
<ol>
<li>大数据面临的主要挑战之一是管理大量数据。如今，数据来自各种来源的系统，种类繁多。因此，对于公司来说，妥善管理它是一个非常大的挑战。如，要生成包含过去 20 年数据的报告，它需要保存和维护系统过去 20 年的数据。为了提供准确的报告，有必要仅将相关数据放入系统。它不应该包含不相关或不必要的数据，否则保持如此大量的数据对公司来说将是一个巨大的挑战。</li>
<li>该技术的另一个挑战是各种类型数据的同步。众所周知，大数据支持来自不同来源的结构化、非结构化和半结构化数据，因此同步数据并获得数据的一致性非常困难。</li>
<li>公司面临的下一个挑战是专家的差距，他们可以帮助和实施他们在系统中面临的问题。这个领域的人才缺口很大。</li>
<li>处理合规性方面成本高昂。</li>
<li>大数据的数据收集、聚合、存储、分析和报告具有巨大的成本。组织应该能够管理所有这些成本。</li>
</ol>
<p><strong>风险：</strong></p>
<ol>
<li>它可以处理各种数据，但如果公司无法正确理解需求并控制数据源，那么它将提供有缺陷的结果。因此，它将需要大量的时间和金钱来调查和纠正结果。</li>
<li>数据安全是大数据的另一个风险。由于数据量很大，因此有人窃取数据的可能性更高。数据黑客可能会窃取和出售公司的重要信息（包括历史数据）。</li>
<li>此外，数据隐私是大数据的另一个风险。如果我们想保护个人和敏感数据免受黑客攻击，那么它应该受到保护，并且必须通过所有隐私政策。</li>
</ol>
<h4 id="大数据技术"><a href="#大数据技术" class="headerlink" title="大数据技术"></a>大数据技术</h4><ol>
<li>Apache Hadoop</li>
<li>Microsoft HDInsight</li>
<li>No SQL</li>
<li>Hive</li>
<li>Sqoop</li>
<li>BigData in Excel</li>
</ol>
<h4 id="大数据和数据仓库"><a href="#大数据和数据仓库" class="headerlink" title="大数据和数据仓库"></a>大数据和数据仓库</h4><p>数据仓库是我们在讨论Hadoop或大数据测试之前需要了解的基本概念。</p>
<p>让我们从实时示例中了解数据仓库。<strong>例如</strong>，有一家公司在三个不同的国家建立了分支机构，让我们假设在印度，澳大利亚和日本设有分支机构。</p>
<p>在每个分支机构中，整个客户数据存储在本地数据库中。这些本地数据库可以是普通的经典RDBMS，如Oracle或MySQL或SQL Server等，所有客户数据都将每天存储在其中。</p>
<p>现在，每个季度、每半年或每年，组织都希望分析这些数据以进行业务开发。为了做同样的事情，组织将从多个来源收集所有这些数据，然后将其放在一个地方，这个地方被称为**”数据仓库”。**</p>
<p>数据仓库是一种数据库，它包含通过**”ETL”（<strong>即 E xtract、T ransform 和</strong>L**oad）过程从多个源或多个数据库类型中提取的所有数据。数据在数据仓库中准备就绪后，我们可以将其用于分析目的。</p>
<p>因此，为了进行分析，我们可以根据数据仓库中的可用数据生成报告。可以使用商业智能工具生成多个图表和报告。</p>
<p>我们需要数据仓库用于分析目的，以发展业务并为组织做出适当的决策。</p>
<p><img src="Organization-Data-WareHouse.jpg" alt="Organization-Data-WareHouse"></p>
<p>在此过程中发生了三件事，首先是我们从多个源中提取数据，并将其放在数据仓库的单个位置。</p>
<p>在这里，我们使用”ETL”过程，因此在将数据从多个源加载到一个地方时，我们将在转换根中应用它，然后我们可以在这里使用各种ETL工具。</p>
<p>一旦数据准备好进入数据仓库，我们就可以生成各种报告，以使用商业智能（BI）工具分析业务数据，或者我们称之为报告工具。Tableau 或 Cognos 等工具可用于生成报告和 DashBoard，用于分析业务数据。</p>
<h4 id="OLTP-和-OLAP"><a href="#OLTP-和-OLAP" class="headerlink" title="OLTP 和 OLAP"></a>OLTP 和 OLAP</h4><p>本地维护并用于事务目的的数据库称为<strong>OLTP，即联机事务处理。</strong>日常事务将存储在此处并立即更新，这就是为什么我们称它们为OLTP系统。</p>
<p>在这里，我们使用传统数据库，我们有多个表，并且有关系，因此一切都是根据数据库系统地规划的。我们不会将这些数据用于分析目的。在这里，我们可以使用经典的RDMBS数据库，如Oracle，MySQL，SQL Server等。</p>
<p>当我们进入数据仓库部分时，我们使用Teradata或Hadoop系统，它们也是一种数据库，但DataWarehouse中的数据通常用于分析目的，称为<strong>OLAP</strong>或<strong>在线分析处理。</strong></p>
<p>在这里，数据可以每季度，每半年或每年更新一次。有时数据也会”Offerly”更新，其中Offerly表示根据客户要求更新和获取数据以进行分析。</p>
<p>此外，用于分析的数据不会每天更新，因为我们将按计划从多个来源获取数据，并且可以执行此 ETL 任务。这就是在线分析处理系统的工作原理。</p>
<p>同样，BI工具或报告工具可以生成报告以及仪表板，并且基于此，业务人员将做出改进其业务的决策。</p>
<h3 id="大数据从何而来？"><a href="#大数据从何而来？" class="headerlink" title="大数据从何而来？"></a>大数据从何而来？</h3><p>大数据是超出传统数据库的存储和处理能力的数据，它采用结构化和非结构化格式，因此无法由本地RDBMS系统处理。</p>
<p>这种数据将以TB（TB）或PB或更高速率生成，并且现在正在迅速增加。有多个来源可以获得这种数据，例如Facebook，WhatsApp（与社交网络有关）;亚马逊，与电子商务相关的Flipkart;Gmail，Yahoo，Rediff与电子邮件和Google等搜索引擎有关。我们还从手机中获取大数据，例如SMS数据，通话记录，通话记录等。</p>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>大数据是高效、安全地处理大量数据的解决方案。它还负责维护历史数据。这项技术有很多优点，这就是为什么每家公司都想转向大数据</p>
]]></content>
      <categories>
        <category>大数据</category>
      </categories>
      <tags>
        <tag>大数据</tag>
        <tag>数据</tag>
      </tags>
  </entry>
  <entry>
    <title>卸载centos自带的openjdk和MySQL</title>
    <url>/Echo/2020/01/01/%E5%8D%B8%E8%BD%BDcentos%E8%87%AA%E5%B8%A6%E7%9A%84openjdk%E5%92%8CMySQL/</url>
    <content><![CDATA[<h2 id="卸载openjdk"><a href="#卸载openjdk" class="headerlink" title="卸载openjdk"></a>卸载openjdk</h2><p>1.查看已经安装的jdk</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">rpm –qa|grep jdk</span><br><span class="line"></span><br><span class="line">java-1.7.0-openjdk-1.7.0.141-2.6.10.5.el7.x86_64</span><br><span class="line"></span><br><span class="line">java-1.8.0-openjdk-1.8.0.131-11.b12.el7.x86_64</span><br><span class="line"></span><br><span class="line">java-1.8.0-openjdk-headless-1.8.0.131-11.b12.el7.x86_64</span><br><span class="line"></span><br><span class="line">java-1.7.0-openjdk-headless-1.7.0.141-2.6.10.5.el7.x86_64</span><br><span class="line"></span><br><span class="line">ldap-4.19-1.el7.noarch</span><br><span class="line"></span><br><span class="line">copy-jdk-configs-2.2-3.el7.noarch</span><br></pre></td></tr></table></figure>

<p>2.卸载命令</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">yum -y remove java-1.7.0-openjdk-1.7.0.141-2.6.10.5.el7.x86_64</span><br><span class="line"></span><br><span class="line">yum -y remove java-1.8.0-openjdk-1.8.0.131-11.b12.el7.x86_64</span><br><span class="line"></span><br><span class="line">yum -y remove java-1.8.0-openjdk-headless-1.8.0.131-11.b12.el7.x86_64</span><br><span class="line"></span><br><span class="line">yum -y remove java-1.7.0-openjdk-headless-1.7.0.141-2.6.10.5.el7.x86_64</span><br></pre></td></tr></table></figure>

<p>.noarch文件不用</p>
<p>3.用Java –version查看</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">提示如下： No such file or directoy</span><br></pre></td></tr></table></figure>

<p>  卸载完成</p>
<h2 id="卸载mysql"><a href="#卸载mysql" class="headerlink" title="卸载mysql"></a>卸载mysql</h2><p>执行命令</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">yum remove mariadb-libs</span><br></pre></td></tr></table></figure>

<p>即可。</p>
]]></content>
      <categories>
        <category>环境安装</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>JDK</tag>
      </tags>
  </entry>
  <entry>
    <title>kafka测试</title>
    <url>/Echo/2021/11/24/%E5%A4%A7%E6%95%B0%E6%8D%AE%E7%BB%84%E4%BB%B6kafka%E6%B5%8B%E8%AF%95/</url>
    <content><![CDATA[<h5 id="kafka是一个事件流平台"><a href="#kafka是一个事件流平台" class="headerlink" title="kafka是一个事件流平台"></a>kafka是一个事件流平台</h5><ul>
<li><p>什么事件流？，事件流是从事件源实时捕获数据的做法 如数据库、传感器、移动设备、云服务和流形式的软件应用程序 事件； 持久地存储这些事件流以供以后检索； 操作、处理和反应 实时和可追溯​​的事件流； 并将事件流路由到不同的 根据需要使用目标技术。 事件流因此确保了连续的流和解释 数据，以便正确的信息在正确的时间出现在正确的位置。</p>
</li>
<li><p>kafka的功能？</p>
<ol>
<li><p>要 发布 （写）和 订阅 （读取）的事件流，包括连续的导入/导出 您来自其他系统的数据。</p>
</li>
<li><p>持久并可靠存储你想要的事件流</p>
</li>
<li><p><strong>处理</strong> 事件发生时或追溯性 事件流。</p>
</li>
</ol>
<h5 id="kafka基本概念了解"><a href="#kafka基本概念了解" class="headerlink" title="kafka基本概念了解"></a>kafka基本概念了解</h5></li>
<li><p>生产者：<strong>生产者</strong> 是那些向 Kafka 发布（写入）事件的客户端应用程序</p>
</li>
<li><p>消费者：订阅（读取和处理）这些事件的</p>
</li>
<li><p>主题：主题类似于文件系统中的文件夹，事件就是该文件夹中的文件</p>
</li>
<li><p>分区：主题是 <strong>分区的</strong> ，一个主题可以分布在位于不同 Kafka 代理的多个“桶”上。</p>
</li>
<li><p>broker：一个 Kafka 服务器也称为 Broker，它接受生产者发送的消息并存入磁盘；Broker 同时服务消费者拉取分区消息的请求，返回目前已经提交的消息一个 Kafka 服务器也称为 Broker，它接受生产者发送的消息并存入磁盘；Broker 同时服务消费者拉取分区消息的请求，返回目前已经提交的消息</p>
</li>
</ul>
<h5 id="kafka功能测试-如何验证数据的一致性和有序性"><a href="#kafka功能测试-如何验证数据的一致性和有序性" class="headerlink" title="kafka功能测试-如何验证数据的一致性和有序性"></a>kafka功能测试-如何验证数据的一致性和有序性</h5><p>可以创建一个单分区的Topic，然后自己写一个生产者程序，程序发送的事件流可以从设定值从1到N自增长；写一个消费者程序，单线程消费，将消费到的数据写进文件中，观测有序性；还可以对kafka服务进程直接杀死，进行故障模拟。</p>
<h5 id="kafka性能测试"><a href="#kafka性能测试" class="headerlink" title="kafka性能测试"></a>kafka性能测试</h5><p>性能压测是系统性问题，需要考量对整体业务的掌握程序，以及对kafka的熟悉程度。压测过程中涉及压测工具选取，监测kafka，压测结果分析。</p>
<ul>
<li><p>明确压测场景：明确要压测的场景</p>
</li>
<li><p>测试环境准备：在服务器选择，kafka版本，kafka架构以及相关配置参数、业务数据等尽可能与线上环境保持一致</p>
</li>
<li><p>压测工具选取：生产者压测使用kafka自带的测试工具kafka-producer-perf-test.sh来进行测试，发送数据推荐使用线上数据导出到本地文件，随机读取进行</p>
</li>
<li><p>压测过程观测：首先开启kafka的JMX端口，①可以使用滴滴的Logikm(但是需要自己搭建部署)；②自己通过JMX端口以及官方原生API获取相关指标，CPU、内存、网络等监测可以使用nomn或者top命令来监测</p>
</li>
<li><p>压测结果分析：理想状态是系统资源使用达到瓶颈，如未达到则寻找软件资源瓶颈，配合堆栈分析，发现线程阻塞点。</p>
</li>
<li><p>压测报告呈现：一般有测试环境说明、测试场景说明、测试过程说明、测试结论（在当前场景下的最佳资源使用以及配置）。</p>
</li>
</ul>
]]></content>
      <categories>
        <category>大数据</category>
      </categories>
      <tags>
        <tag>kafka，大数据</tag>
      </tags>
  </entry>
  <entry>
    <title>技术人如何申请专利</title>
    <url>/Echo/2020/03/01/%E6%8A%80%E6%9C%AF%E4%BA%BA%E5%A6%82%E4%BD%95%E7%94%B3%E8%AF%B7%E4%B8%93%E5%88%A9/</url>
    <content><![CDATA[<h4 id="什么是专利？"><a href="#什么是专利？" class="headerlink" title="什么是专利？"></a>什么是专利？</h4><p>专利一般是由政府机关或者代表若干国家的区域性组织根据申请而颁发的一种文件，这种文件记载了发明创造的内容，并且在一定时期内产生这样一种法律状态，即获得专利的发明创造在一般情况下他人只有经专利权人许可才能予以实施。在我国，专利分为发明、实用新型和外观设计三种类型。</p>
<h4 id="有什么好处？"><a href="#有什么好处？" class="headerlink" title="有什么好处？"></a>有什么好处？</h4><p>专利权人可以提高自身资质、获得收益、提高竞争力； 发明人可以获得收益、提高个人竞争力、获得成就感。</p>
<h4 id="专利说明书长啥样？"><a href="#专利说明书长啥样？" class="headerlink" title="专利说明书长啥样？"></a>专利说明书长啥样？</h4><p><img src="%E5%8F%91%E6%98%8E%E4%B8%93%E5%88%A9%E8%AF%B4%E6%98%8E%E4%B9%A6.png" alt="发明专利说明书"></p>
<h5 id="扉页"><a href="#扉页" class="headerlink" title="扉页"></a>扉页</h5><p>专利说明书中的扉页是揭示每件专利的基本信息的文件部分。扉页揭示的基本专利信息包括：专利申请的时间、申请的号码、申请人或专利权人、发明人、发明创造名称、发明创造简要介绍及主图（机械图、电路图、化学结构式等）、发明所属技术领域分类号、公布或授权的时间、文献号、出版专利文件的国家机构等。</p>
<h5 id="权利要求书"><a href="#权利要求书" class="headerlink" title="权利要求书"></a>权利要求书</h5><p>权利要求书是专利文件中限定专利保护范围的文件部分。权利要求书中至少有一项独立权利要求，还可以有从属权利要求。</p>
<h5 id="说明书"><a href="#说明书" class="headerlink" title="说明书"></a>说明书</h5><p>说明书是清楚完整地描述发明创造的技术内容的文件部分，附图则用于对说明书文字部分的补充。各国对说明书中发明描述的规定大体相同，以中国专利说明书为例，说明书部分包括：技术领域，背景技术，发明内容，附图说明，实施条例等。</p>
<h5 id="检索报告"><a href="#检索报告" class="headerlink" title="检索报告"></a>检索报告</h5><p>有些机构出版的专利说明书还附有检索报告。检索报告是专利审查员通过对专利申请所涉及的发明创造进行现有技术检索，找到可进行专利性对比的文件，向专利申请人及公众展示检索结果的一种文件。附有检索报告的专利文件均为申请公布说明书，即未经审查尚未授予专利权的专利文件。检索报告以表格式报告书的形式出版。</p>
<h4 id="专利申请的要求？"><a href="#专利申请的要求？" class="headerlink" title="专利申请的要求？"></a>专利申请的要求？</h4><p>1、新颖性：是指在申请日以前没有同样的发明或者实用新型在国内外出版物上公开发表过，没有在国内公开使用过或者以其他方式为公众所知，也没有同样的发明或者实用新型由他人向国家专利行政部门提出过申请并且记载在申请日以后公布的专利申请文件中。</p>
<p>2、创造性：是指同申请日以前已有的技术相比，该实用新型有实质性特点和进步。</p>
<p>3、实用性：是指该实用新型能够制造或者使用，并且能够产生积极效果。</p>
<p>4、非智力活动或者规则</p>
<h4 id="写专利前要想清楚的？"><a href="#写专利前要想清楚的？" class="headerlink" title="写专利前要想清楚的？"></a>写专利前要想清楚的？</h4><p>专利的背景：当前市场上有什么技术，当前技术存在的难点与痛点。（非常重要） 核心创新与收益：你的创新点在哪里，就是牛在哪里？创造的收益如何的。（最好能与专利背景中的难点与痛点互相匹配起来）； 流程：文字+流程图描述最为合适（专利接口人可能并无此方面专业知识</p>
<h4 id="背景和现有技术怎么写？"><a href="#背景和现有技术怎么写？" class="headerlink" title="背景和现有技术怎么写？"></a>背景和现有技术怎么写？</h4><p>目的 — 说明此专利存在的意义</p>
<ol>
<li>关键术语定义：公知术语（如 Java 反射）的定义，多列一些，每个给链接；</li>
<li>背景技术：泛泛介绍大背景和大前提（实践场景），以助理解为宜，不用过多着墨；</li>
<li>现有技术：找出最具代表的进行客观的简述，说清缺陷。可提供链接；</li>
<li>发明目的：针对上述缺陷，可用什么手段来解决它。简述；</li>
<li>收益：实施本发明（解决问题）后能带来什么收益（指标、效果等）。</li>
</ol>
<h4 id="技术关键点和保护点"><a href="#技术关键点和保护点" class="headerlink" title="技术关键点和保护点"></a>技术关键点和保护点</h4><p>1.关键技术点罗列； 2.具体实施过程–说清楚“技术关键点”的具体实现 ① 实现步骤&amp;流程：总流程→细化→再细化 ② 总分结构：类、接口、方法及关系→各方法的描述、总结构→细化 （尽量用图来展示）</p>
]]></content>
      <categories>
        <category>个人</category>
      </categories>
      <tags>
        <tag>个人</tag>
      </tags>
  </entry>
  <entry>
    <title>如何编写有效的测试用例</title>
    <url>/Echo/2022/01/15/%E5%A6%82%E4%BD%95%E7%BC%96%E5%86%99%E6%9C%89%E6%95%88%E7%9A%84%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B/</url>
    <content><![CDATA[<h4 id="什么是测试用例？"><a href="#什么是测试用例？" class="headerlink" title="什么是测试用例？"></a>什么是测试用例？</h4><p>测试用例包含描述输入、动作或事件以及预期响应的组件，以确定应用程序的功能是否正常工作。</p>
<h4 id="测试用例的级别："><a href="#测试用例的级别：" class="headerlink" title="测试用例的级别："></a>测试用例的级别：</h4><ul>
<li> 级别 1: 您将根据可用的规范和用户文档编写基本的测试用例。</li>
<li> 级别 2: 这是一个实践阶段，在这个阶段，编写测试用例依赖于应用程序的实际功能和系统流程。</li>
<li>级别3 : 你将分组一些测试用例，并编写一个测试程序。测试过程只不过是一组小的测试用例，通常最多包含 10 个。</li>
<li>级别 4: 测试用例自动化。这个阶段将帮助测试人员将测试工作集中在新的功能上，而测试自动化将负责回归测试。</li>
</ul>
<h4 id="如何开始编写测试用例？"><a href="#如何开始编写测试用例？" class="headerlink" title="如何开始编写测试用例？"></a>如何开始编写测试用例？</h4><p>当您获得软件需求规格(SRS)文档时，您将首先通过需求来理解应用程序的功能和范围。一旦获得了正在开发的功能的完整概述，您将开始为分配给您的模块编写测试用例。首先，将从涵盖 SRS 文档中提到的所有业务规则的功能测试用例开始。</p>
<p>在编写测试用例时，最好从特定页面或屏幕上的所有需求开始。因此会写以下：<br>● 功能测试，<br>● 业务规则测试，<br>● 导航测试(链接、按钮等)),<br>● 集成测试(与其他模块的集成)，<br>● 安全测试，<br>● 端到端测试，<br>● 阴性测试，<br>● 负载和性能测试</p>
<h4 id="如何减少测试用例的编写和执行时间？"><a href="#如何减少测试用例的编写和执行时间？" class="headerlink" title="如何减少测试用例的编写和执行时间？"></a>如何减少测试用例的编写和执行时间？</h4><p>● 使用标准测试用例模板来编写所有的测试用例<br>● 在开始编写测试用例之前，清楚地理解需求。<br>● 遵循基于测试类型序列编写测试用例的方法。例如，首先开始编写功能测试用例，然后继续进行用户界面、兼容性、安全性等等。<br>● 如果没有使用任何测试管理工具，那么请使用微软Excel电子表格来编写测试用例。微软 Excel的功能非常强大，你可以用很少的时间编写很多类似的测试用例。例如，为了编写一个包含许多字段的长表单的测试用例，大多数测试用例都是重复的，只是字段名发生了变化。您可以使用电子表格函数在几分钟内编写这些测试用例。如果开始使用测试管理工具，甚至可以导入这些测试用例。建议尽快开始使用。<br>● 为了编写各种排列和组合的测试用例，首先使用真值表格式，然后描述测试用例。<br>● 编写测试用例时使用流程图。这将确保最大的测试覆盖率。此外，您将能够更快地编写涵盖所有用例的测试用例。<br>● 根据应用程序页面/屏幕或用例对您的测试用例进行分组。这两种方法对于维护测试用例都是有用且容易的。</p>
<p>测试执行时间取决于是自动执行还是手动执行。手动测试执行时间因测试用例的复杂性而异，它与编写测试用例所需的时间无关。一个测试用例可能在一分钟内编写完成，但是可能需要几个小时甚至几天的时间来执行。</p>
<p>执行时间也可以通过其他技术来节省，例如对基于web的应用程序使用浏览器自动填充功能。使用此功能，只需单击鼠标即可填写网页数据，因此无需在每次运行测试时输入数据。也可以考虑按顺序执行测试，以便与一个页面相关的所有测试用例(不包括集成和端到端测试)在进入下一个页面之前被执行。</p>
<h4 id="为什么要使用测试管理工具？"><a href="#为什么要使用测试管理工具？" class="headerlink" title="为什么要使用测试管理工具？"></a>为什么要使用测试管理工具？</h4><p>测试管理工具可以用来编写测试用例、管理需求、记录缺陷并将缺陷链接到测试用例并生成测试报告。<br>● 在一个地方组织你所有的测试用例将会帮助你减少你的测试用例管理时间。<br>● 测试管理工具可以随时为您提供测试进度的准确状态，帮助您对软件版本做出一些业务决策。<br>● 如果期限紧迫，您可以根据优先级来验证测试用例。<br>● 可以避免重复的测试用例。<br>● 可以有效地跟踪质量保证状态。<br>● 基于发布版本，容易逐步淘汰测试用例的执行。<br>● 良好的测试覆盖率报告。</p>
<h4 id="如何编写测试用例"><a href="#如何编写测试用例" class="headerlink" title="如何编写测试用例"></a>如何编写测试用例</h4><p>测试用例标识:每个测试用例的唯一标识。遵循一些惯例来指明测试的类型。例如‘TC _ UI _ 1’表示‘用户界面测试用例# 1’。</p>
<p>测试优先级(低/中/高):这在测试执行时很有用。业务规则和功能测试用例的测试优先级可以是中等或更高，而次要的用户界面用例可以是低优先级。测试优先级应由审查者设置。</p>
<p>模块名称–提及主模块或子模块的名称。</p>
<p>测试设计人: 测试人员姓名</p>
<p>测试设计日期: 编写的日期</p>
<p>测试执行人:执行此测试的测试人员的姓名。测试执行后填写。</p>
<p>测试执行日期:测试执行的日期。</p>
<p>先决条件:在执行这个测试用例之前必须满足的任何先决条件。列出成功执行这个测试用例的所有先决条件。</p>
<p>依赖性:提及对其他测试用例或测试需求的任何依赖性。</p>
<p>测试 标题/ / 名 称: 测试用 例标题 。 例如 ，使 用有效的用户名和密码验证 登 录 页。</p>
<p>测试 总 结/ / 描述: 简 要描述 测试目 标 。</p>
<p>测试步骤:详细列出所有测试执行步骤。按照应该执行的顺序编写测试步骤。确保提供尽可能多的细节。提示-为了有效地管理具有较少字段的测试用例，使用这个字段来描述测试条件、测试数据和运行测试的用户角色。</p>
<p>测试数据:使用测试数据作为这个测试用例的输入。您可以为不同的数据集提供精确的值作为输入。</p>
<p>预期结果:测试执行后系统输出应该是什么？详细描述预期结果，包括应在屏幕上显示的消息/错误。</p>
<p>后 置 条 件: : 执 行这 个 测试用 例 后 ， 系统应 该 是 什么状态？</p>
<p>实际结果:实际测试结果应在测试执行后填写。描述测试执行后的系统行为。</p>
<p>状态( 通 过/  失 败 ): 如 果 实 际结 果 不 符 合 预 期结 果 ， 将 该 测试 标 记 为 失 败 。 否则 更 新 为 通过。</p>
<p>注释/评论/问题:要支持上述字段，如果有一些特殊情况无法在上述任何字段中描述，或者有与预期或实际结果相关的问题，请在此处提及。</p>
<p>如 有 必要 ， 添 加 以 下 字段：</p>
<p>缺陷标识/链接:如果测试状态为失败，则包括到缺陷日志的链接或提及缺陷号。</p>
<p>测试类型/关键字:此字段可用于根据测试类型对测试进行分类。例如功能、可用性、业务规则等。</p>
<p>需求:为其编写测试用例的需求。最好是需求文档的准确章节号。</p>
<p>附件/参考:此字段对于复杂的测试场景非常有用。使用visio图表作为参考来解释测试步骤或预期结果。提供图表或文档实际路径的链接或位置。</p>
<p>自动化 ？( 是/ 否 ): 这 个 测试用 例 是 否 是自动化的。 当 测试用 例 自动化 时 ， 跟踪自动化状态很有用。</p>
<h4 id="测试用例语句基本格式"><a href="#测试用例语句基本格式" class="headerlink" title="测试用例语句基本格式"></a>测试用例语句基本格式</h4><p>核实</p>
<p>使用【工具名、标签名、对话框等】</p>
<p>有【条件】</p>
<p>返回【返回、显示、演示的内容】</p>
<p>验证:用作测试用例语句的第一个单词。</p>
<p>使用:识别正在测试的内容。在这里，您可以使用“输入”或“选择”，而不是使用“视情况而定”。</p>
<p>所有的测试用例都应该简单易懂。不要写长篇大论的解释</p>
]]></content>
      <categories>
        <category>测试</category>
      </categories>
      <tags>
        <tag>测试，测试基本</tag>
      </tags>
  </entry>
  <entry>
    <title>拥有未来的能力——“自学”</title>
    <url>/Echo/2021/11/09/%E8%87%AA%E5%AD%A6/</url>
    <content><![CDATA[<h2 id="为什么一定要掌握自学能力？"><a href="#为什么一定要掌握自学能力？" class="headerlink" title="为什么一定要掌握自学能力？"></a>为什么一定要掌握自学能力？</h2><p>最近一直在讨论延长退休年龄，我们的父辈在五十岁就退休了。再过去的几十年里，人类的平均寿命预期增长的十分惊人！拿中国地区做例子，1949年，中国人均预期寿命不足35岁。 2021年，这个数字达到77.3岁。  72年，人均预期寿命长一倍还多。所以，各位，我们的未来还有很长。曾经有一家机构做过这样一个调查，人们的职业与自己大学所学专业的相符的比例不足20%。因为这世界变化太快了，因为大多数教育机构与世界发展脱钩的程度越来越严重。你的未来日子还有很长，这世界进步的这么快，你有让自己有在未来安身立命的一技之长吗？自学能力是唯一值得被不断磨练的长技，没有自学能力的人是没有未来的，这样我们才能在很长的未来中不被世界所抛弃。</p>
<h2 id="自学需要的元素"><a href="#自学需要的元素" class="headerlink" title="自学需要的元素"></a>自学需要的元素</h2><p>自学过程我们要经历以下四个阶段：学、练、用、造。</p>
<ul>
<li>学：重复学，多次重复学，特别是面对“过早引用”的知识结构时；反复学，锻炼我们归纳总结的能力。</li>
<li>练：在接触用的过程中，我们就开始接触练。无论你之前学了多少遍，一旦开始练，我们就会遇到各种各样的问题。每次自学时，我们都要放空自己，保持空杯的心态。</li>
<li>用：只要有时间或者只要有需求我们就要用我们自学的知识，重复反复大量的用，在用的过程中练习；</li>
<li>造：这个阶段我目前还没达到</li>
</ul>
<h3 id="耐心"><a href="#耐心" class="headerlink" title="耐心"></a>耐心</h3><p>在开始一门新知识的自学之前，我们要有足够的心理预期建设。我们要明白两点：</p>
<p>1、这个时间要比你想象的长的多</p>
<p>2、自学过程中，什么都要重复很多遍，学，练，用都需要大量的重复过程</p>
<p>大多数人缺乏耐心的根源是“没有准备这么多的时间和精力”。这就需要我们有预算观念。</p>
<p>预算观念——这个观念存在与否，成熟与否，基本决定了一个人未来的盈利能力。</p>
<p>我们恪守一个原则，未来就很有可能超过大多数人：绝对不做预算不够的事。</p>
<p>在自学的过程中，我们学的时候比别人重复的多，练的时候比别人重复的多，到最后用得比别人多。再开始自学的过程中，我总是觉得时间不够用，后来我越来越淡定了，因为早已习惯投入大量时间换取新的技能。</p>
<h3 id="刻意练习"><a href="#刻意练习" class="headerlink" title="刻意练习"></a>刻意练习</h3><p>在自学的过程中，有一些部分是要刻意练习的。好比小时候我们学写字，老师为什么总是让我们写很多遍？还有卖油翁的故事大家还记得吗？手艺这个是需要刻意反复练习，主要是靠时间。在这过程中也需要我们刻意练习，如果卖油翁总是很随意，油撒的很多，想必他很快干不下去了。需要刻意练习的地方，是因人而异的，那就是对于自己来说很难比较容易出错的地方。经过大量的重复的联系，最终我们达到无他，唯手熟尔！</p>
<h3 id="琢磨"><a href="#琢磨" class="headerlink" title="琢磨"></a>琢磨</h3><p>论语中有这样一句话“学而不思则罔”在学习的过程中我们要多思考。琢磨就是刻意的去思考!在我们的学习过程中最有价值的琢磨就是“这个东西刻意用在哪里？”</p>
<h2 id="自学过程要打破的几个幻觉"><a href="#自学过程要打破的几个幻觉" class="headerlink" title="自学过程要打破的几个幻觉"></a>自学过程要打破的几个幻觉</h2><p>感觉总是我们人生中最大的坑。每次考试完是不是总感觉自己考的不错，学习过程也总感觉自己学会了，其实带最后发现自己啥也不会。很多人的自学能力都是被“自己的感觉”给耽误了。</p>
<h3 id="刚需幻觉"><a href="#刚需幻觉" class="headerlink" title="刚需幻觉"></a>刚需幻觉</h3><p>“刚需幻觉”的根本原因就是感觉，你不会的东西对你来说感觉很难。18岁时你感觉英语很难，22岁有个外企机会，你没把握住；16岁时你感觉游泳很难，18岁时，心中的女神约你去游泳你只能说自己没时间！一项技能在你没有学会它的时候，你不可能觉得那是个刚需（就像房子，你不结婚，永远不会觉得这是刚需）。所以我们在开始学习一个新技能时，这么告诉自己不要问学它有什么用，学就是了。如何客服刚需幻觉？这要我们学习一个策略，让自己成为一个自驱动的人！自驱动说起来很简单就是“找活干”。</p>
<h3 id="时间幻觉"><a href="#时间幻觉" class="headerlink" title="时间幻觉"></a>时间幻觉</h3><p>我们很多时候都受时间幻觉的拖累。玩游戏时你总是觉得时间很短，然后一整天就过去了；我在写这篇文章时总感觉时间还有很多，然后这周就过到周五了。时间从来都是匀速的，每个人的时间都是24小时的。在学习一个技能时，最大幻觉就是总是以为“时间不够了”。回头看看，回头想一想，五年前，十年前的自己在做什么？有没有一转眼时间就过去了。每年的毕业季是否总是有人很多人感叹，自己怎么就毕业了辣么久了！如何客服时间幻觉呢？只管坚持着做，坚持着学。时间会给你答案的。</p>
<h3 id="困难幻觉"><a href="#困难幻觉" class="headerlink" title="困难幻觉"></a>困难幻觉</h3><p>无论做什么都是有难点的，有瓶颈期。当我们客服难点后，发现原来不过如此–这就是困难幻觉。古人早就有总结：“世上无难事，只怕有心人”。把一件事当成手艺看，就像开车一样，你开的多就会了，这样带来的好处之一就是心态平和。因为我们知道这事和天分智商关系不大，它靠的是不混时间（你如何对待时间的，时间也将如何对待你）、琢磨（刻意思考）、刻意练习。阅读难点在于起初的时候它是非常枯燥的。刚识字、刚上学的时候，由于理解能力有限，又由于年龄的关系于是耐心有限，所以，那时需要老师耐心陪伴、悉心引导。这就好像小朋友刚出生的时候，没有牙齿，所以只能喝奶差不多…… 然而，到了一定程度之后一定要断奶，是不是？可绝大多数人的实际情况却是，小学的时候爱上了  “奶嘴”（有人带着阅读），而后一生没有奶嘴就吃不下任何东西。</p>
<p>他们必须去 “上课”，需要有人给他们讲书。不仅如此，讲得 “不生动”、“不幽默”  还不行；就算那职业提供奶嘴的人（这是非常令人遗憾的真相：很多的时候，所谓的 “老师” 本质上只不过就是奶妈而已）帅气漂亮、生动幽默、尽职尽力…… 最终还是一样的结果 —— 绝大多数人依然没有完整掌握所有应该掌握的细节。</p>
<h2 id="自学过程需要的几项技能"><a href="#自学过程需要的几项技能" class="headerlink" title="自学过程需要的几项技能"></a>自学过程需要的几项技能</h2><h3 id="拆解"><a href="#拆解" class="headerlink" title="拆解"></a>拆解</h3><p>在自学的过程中遇到难点，复杂的。我们不妨拆解他们，拆解成一个一个的小问题予以突破。把那些很难的任务无限拆分——直到每个子任务都很小，小到我们可以唾手可得为止。当我们习惯了这么做之后，就会发现一切任务（不仅有自学还有别的）其实都是不难的，只是复杂繁琐而已。很多人失败的原因是什么，就是不懂拆分任务，要么就是怕麻烦！有句话不知道大家听过没——人活着，其实就挺麻烦的。。。。</p>
<h3 id="专注"><a href="#专注" class="headerlink" title="专注"></a>专注</h3><p>现在这个网络时代，大家有没有发现自己的注意力经常莫名的就被转移了。比如，你本来只不过就想着去 Google  一个编程错误信息的解读，结果不知道怎么就 “注意到” 了另外一个东西，比如，“某编辑器的皮肤”，然后你就 “顺手” 把它下载下来，然后  “很自然地顺手把它装上”，而后又看了看，觉得有点必要于是 “顺手做了点定制”…… 然后欣赏了一会儿，并自我得意一番之后 “突然发现”  自己还没有解决两小时之前要解决的问题！好奇心越重的人，越是容易被注意力漂移所拖累。</p>
<p>好奇心是好东西，而且是必须认真呵护的东西 —— 几乎最重要、最强劲的自学动力，都混合着好奇心出现并持续。</p>
<p>如何专注，我们列一个清单。把我们首要做的事情放在第一位，并牢牢地记住它。一旦发现自己的注意力没有集中在这上面的关键之时，一旦发现自己的注意力已经漂移到其它当前并不重要的事项上，就马上纠正。</p>
<h3 id="沟通"><a href="#沟通" class="headerlink" title="沟通"></a>沟通</h3><p>普遍认为，手艺人的特征是缺乏沟通能力，或者沟通能力差 —— 也许是因为平时把所有的时间精力都投入到磨练手艺上去了罢。</p>
<p><strong>教是最好的学习方法</strong></p>
<p>讲课、写教程，甚至写书 —— 这是最高效的提升沟通能力的刻意练习手段。</p>
<p>沟通要注意以下几点</p>
<h4 id="内容第一"><a href="#内容第一" class="headerlink" title="内容第一"></a>内容第一</h4><p>无论是平日里讲话、还是台上讲课，抑或是写篇文章、写本书，永远都是内容第一，至于形式，并非不重要，但绝对不能喧宾夺主。</p>
<p>通常，我们用 “干货” 来描述内容的重要性。第一步就是准备干货，至于修辞啊、笑点啊、酷炫幻灯片啊等等等等，都必须是次要的，否则就是喧宾夺主。干货不够好，其它的做得越多、越好，最终越是容易露怯 —— 这很可怕。</p>
<h4 id="内容质量"><a href="#内容质量" class="headerlink" title="内容质量"></a>内容质量</h4><h5 id="重点突出"><a href="#重点突出" class="headerlink" title="重点突出"></a>重点突出</h5><p>“重点突出”，是最简单朴素、成本最低的 “优秀结构”。</p>
<p>既然是沟通，就要了解对方。在绝大多数情况下，对方想要的才是重点。</p>
<p>可问题在于，我们平日里面对单个人的时候都觉得 “了解对方很困难”，我们又如何判断 “一个群体”  呢？与很多人想象得相反，判断群体远比判断个体容易得多…… 因为你可以用粗暴分类，比如，你把听众或读者划分为 “小白” 和  “专家”，那你就知道了，你面对的群体中，更可能  “大部分是小白，小部分是专家”。于是，你就可以思考，“小白们最想知道的是什么？”，“专家们最重视的是什么？”，于是，你就可以在脑子里对所谓的  “重点” 有应对策略。</p>
<h5 id="例证生动"><a href="#例证生动" class="headerlink" title="例证生动"></a>例证生动</h5><p>寻找好例子，是需要很多时间精力的事情 —— 从来就没有任何 “信手拈来” 的生动例子。信手拈来，是读者或者听众的感觉而已，对你来说，肯定是举重若轻的 —— 你明明是在举重，却被认为 “如若举轻”。在第一部分，<a href="https://link.juejin.cn/?target=https://render.githubusercontent.com/view/Part.1.E.7.files.ipynb">讲文件的那一章</a>里，我举了个 “我自己费尽心机找好例子” 的例子，相信你读过之后，一定有所感触。</p>
<h5 id="消除歧义"><a href="#消除歧义" class="headerlink" title="消除歧义"></a>消除歧义</h5><p>消除<strong>一切</strong>歧义。这是真功夫，因为这东西很难把自己关在屋子里自顾自练成。并且，每个人有自己的 “容易引发误解” 的特殊属性，大家各不相同 —— 于是，只能靠自己探索。</p>
<h2 id="自学者的终点"><a href="#自学者的终点" class="headerlink" title="自学者的终点"></a>自学者的终点</h2><p>必须学会一个没人教、没人带、甚至没有书可以参考技能！尽量只靠阅读获得一项新技能！</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><ul>
<li>你一定要想办法启动自学，否则你没有未来；</li>
<li>你把自学当作一门手艺，长期反复磨练它；</li>
<li>你懂得学、练、用、造各个阶段之间的不同，以及针对每个阶段的对应策略；</li>
<li>面对 “过早引用” 过多的世界，你有你的应对方式；</li>
<li>你会 “囫囵吞枣”，你会 “重复重复再重复”，你深刻理解 “读书百遍其义自见”；</li>
<li>以后你最擅长的技能之一就是拆解拆解再拆解；</li>
<li>你用你的拆解手艺把所有遇到的难点都拆解成能搞定的小任务；</li>
<li>自学任何一门手艺之前你都不会去问 “有什么用”，而是清楚地知道，无论是什么只要学会了就只能也必然天天去用；</li>
<li>你没有刚需幻觉，你也没有时间幻觉，你更没有困难幻觉，反正你就是相对更清醒；</li>
<li>不管你新学什么手艺，你都知道只要假以时日你就肯定能做好，因为所有的手艺精湛，靠的只不过是充足的预算；</li>
<li>你知道如何不浪费生命，因为只要不是在刻意练习、不是在刻意思考，那就是在 “混时间”；</li>
<li>你总是在琢磨你能做个什么新作品；</li>
<li>你刻意地使用你的作品作为有效社交工具，也用作品去过滤无效社交；</li>
<li>你乐于分享，乐于阅读也更乐于写作 —— 因为这世界怎么帮助你的，你就想着要怎样回报；</li>
<li>你把全面和完整当作最高衡量标准，也用这个标准去克制、应对自己的注意力漂移；</li>
<li>你会不断自学新的手艺，因为你越来越理解单一技能的脆弱，越来越理解多项技能的综合威力；</li>
<li>你越来越依赖互联网，它是你最喜欢的 “书”，而 Google 是你最好的朋友 —— 他总是能帮你找到更好的老师；</li>
<li>偶尔，你会学会没人教、没人带、甚至没书可参考的手艺，别人都说你 “悟性” 高，可你自己清楚地知道那其实是怎么回事；</li>
<li>你越来越明白，其实没什么 “秘密”，越简单、越朴素的道理越值得重视；</li>
<li>你发现你用来思考的时间越来越多 —— 准确地讲，是 “琢磨”…… 只不过是因为你真会琢磨了 —— 你很清楚你应该花时间琢磨的是什么。</li>
</ul>
<p><strong>没什么不能自学的，反正都只不过是手艺</strong> —— 只不过，我们每个人都受限于自己的时间精力而已。</p>
<p>自学不过是一门手艺，而且还是谁都能掌握的。不要 “试试” 而已，而是 “直接开干” —— 这样才好。</p>
<h3 id="自学过程还需要"><a href="#自学过程还需要" class="headerlink" title="自学过程还需要"></a>自学过程还需要</h3><ul>
<li><strong>心理建设——没什么可怕的！</strong></li>
<li><strong>不懂也要硬着头皮读完，然后重复读很多遍</strong></li>
<li><strong>磨练 “只字不差地阅读” 的能力</strong></li>
<li><strong>就算不明白也要先记住——“好记性不如烂笔头”，不是记在笔记本上是要记在脑子里</strong></li>
<li><strong>尽早开始归纳总结</strong></li>
<li><strong>先用起来，在研究怎么用的</strong></li>
<li><strong>多听老人言——多听前辈的经验和总结，但不要盲从</strong></li>
</ul>
]]></content>
      <categories>
        <category>个人</category>
      </categories>
      <tags>
        <tag>成长</tag>
      </tags>
  </entry>
</search>
